*** Settings ***
Documentation     Test OE Volume
...    = Usage =
...    | pybot | -v I3S_IP:<Your-IP> | -v XML_FILE:<XML_FILE> | oe_volume.txt
...    = Variables =
...    | I3S IP | Required; IP address of the I3SVM to use | 
...    | XML_FILE | Required; File containing data in XML format |

Library		String
Library		Collections
Library		Selenium2Library
Library		robot.api.logger
Library		RoboGalaxyLibrary
Library		OperatingSystem
Library		SSHLibrary
Library		i3SLibrary
Variables   /robo4.2/i3s/tests/testdata/i3s_QA_testdata.py
	
*** Variables ***
${DataFile}	/robo4.2/i3s/tests/testdata/i3s_QA_testdata.xml
 
*** Test Cases ***

Get i3S Set Up
	Console    \nYour i3SVM URL is: ${i3S_URL} i3S_api_first_time_setup
	I3S API FIRST TIME SETUP	${i3S_IP}		${i3S_DEFAULT_USER}			${i3S_DEFAULT_PASSWORD}
	Sleep	3
	
OE Volume Initial setup
	Load Test Data     ${DataFile}	
	${Response_GI}=	I3S API ADD GOLDEN IMAGE	@{TestData.addgoldenimages}[12]
	Log	${Response_GI}
	${Response_PS}=	I3S API ADD PLANSCRIPTS	@{TestData.addplanscripts}[6]
	Log	${Response_PS}
	${Response_BP}=	I3S API ADD OE BUILDPLAN	@{TestData.addoebuildplans}[6]
	Log	${Response_BP}
	${Response_DP}=	I3S API ADD OE DEPLOYMENTPLAN	@{TestData.addoedeploymentplans}[4]
	Log	${Response_DP}
	${Response_SS}=	I3S API ADD STATELESS SERVER    @{TestData.addstatelessservers}[0]
	Log	${Response_SS}		
	Sleep	5	

Create OEVolume 
	Load Test Data     ${DataFile}
	${Response}=	I3S API ADD OEVOLUME	@{TestData.addoevolumes}[0]
	Log		${Response}	

Create OEVolume with Invalid OEDP
	Load Test Data     ${DataFile}
	${Response_SS}=	I3S API ADD STATELESS SERVER    @{TestData.addstatelessservers}[1]
	Log	${Response_SS}	
	${Response}=	I3S API ADD OEVOLUME	@{TestData.addoevolumes}[1]
	Log		${Response}	

Create OEVolume with NULL OEDP
	Load Test Data     ${DataFile}
	${Response_SS}=	I3S API ADD STATELESS SERVER    @{TestData.addstatelessservers}[2]
	Log	${Response_SS}	
	${Response}=	I3S API ADD OEVOLUME	@{TestData.addoevolumes}[2]
	Log		${Response}	
	
Create OEVolume with Invalid Planscript
	Load Test Data     ${DataFile}
	${Response_BP}=	I3S API ADD OE BUILDPLAN	@{TestData.addoebuildplans}[1]
	Log	${Response_BP}	
	${Response_DP}=	I3S API ADD OE DEPLOYMENTPLAN	@{TestData.addoedeploymentplans}[5]
	Log	${Response_DP}
	${Response_SS}=	I3S API ADD STATELESS SERVER    @{TestData.addstatelessservers}[3]
	Log	${Response_SS}
	${Response}=	I3S API ADD OEVOLUME	@{TestData.addoevolumes}[3]
	Log		${Response}	
	
Create OEVolume with Invalid GI
	Load Test Data     ${DataFile}
	${Response_DP}=	I3S API ADD OE DEPLOYMENTPLAN	@{TestData.addoedeploymentplans}[6]
	Log	${Response_DP}
	${Response_SS}=	I3S API ADD STATELESS SERVER    @{TestData.addstatelessservers}[4]
	Log	${Response_SS}
	${Response}=	I3S API ADD OEVOLUME	@{TestData.addoevolumes}[4]
	Log		${Response}	
	
Create OEVolume with Invalid BP
	Load Test Data     ${DataFile}
	${Response_DP}=	I3S API ADD OE DEPLOYMENTPLAN	@{TestData.addoedeploymentplans}[7]
	Log	${Response_DP}
	${Response_SS}=	I3S API ADD STATELESS SERVER    @{TestData.addstatelessservers}[5]
	Log	${Response_SS}
	${Response}=	I3S API ADD OEVOLUME	@{TestData.addoevolumes}[5]
	Log		${Response}	

Create OEVolume with Invalid SSRM
	Load Test Data     ${DataFile}
	${Response}=	I3S API ADD OEVOLUME	@{TestData.addoevolumes}[6]
	Log		${Response}
	
Create OEVolume with Valid SSRM and Invalid Artifacts
	Load Test Data     ${DataFile}
	${Response_SS}=	I3S API ADD STATELESS SERVER    @{TestData.addstatelessservers}[6]
	Log	${Response_SS}
	${Response}=	I3S API ADD OEVOLUME	@{TestData.addoevolumes}[7]
	Log		${Response}	
	
Delete OEVolume
	Load Test Data     ${DataFile}
	${Response}=	I3S API DELETE OEVOLUME	@{TestData.deleteoevolumes}[0]
	Log		${Response}	
	
Delete Resources created for OEVolume
	Load Test Data     ${DataFile}
	${Response_SS}=	I3S API DELETE STATELESS SERVER    @{TestData.deletestatelessservers}[1]
	Log	${Response_SS}	
	${Response_SS}=	I3S API DELETE STATELESS SERVER    @{TestData.deletestatelessservers}[2]
	Log	${Response_SS}
	${Response_SS}=	I3S API DELETE STATELESS SERVER    @{TestData.deletestatelessservers}[3]
	Log	${Response_SS}
	${Response_SS}=	I3S API DELETE STATELESS SERVER    @{TestData.deletestatelessservers}[4]
	Log	${Response_SS}
	${Response_SS}=	I3S API DELETE STATELESS SERVER    @{TestData.deletestatelessservers}[5]
	Log	${Response_SS}
	${Response_SS}=	I3S API DELETE STATELESS SERVER    @{TestData.deletestatelessservers}[6]
	Log	${Response_SS}
	${Response_BP}=	I3S API DELETE OE BUILDPLAN    @{TestData.deleteoebuildplans}[4]
	Log	${Response_BP}
	${Response_DP}=	I3S API DELETE OE DEPLOYMENTPLAN    @{TestData.deleteoedeploymentplans}[3]
	Log	${Response_DP}
		

OE Volume Cleanup of Initial Setup
	Load Test Data     ${DataFile}	
	${Response_GI}=	I3S API DELETE GOLDEN IMAGE	@{TestData.deletegoldenimages}[4]
	Log	${Response_GI}
	${Response_PS}=	I3S API DELETE PLANSCRIPTS	@{TestData.deleteplanscripts}[2]
	Log	${Response_PS}
	${Response_BP}=	I3S API DELETE OE BUILDPLAN	@{TestData.deleteoebuildplans}[3]
	Log	${Response_BP}
	${Response_DP}=	I3S API DELETE OE DEPLOYMENTPLAN	@{TestData.deleteoedeploymentplans}[2]
	Log	${Response_DP}
	${Response_SS}=	I3S API DELETE STATELESS SERVER    @{TestData.deletestatelessservers}[0]
	Log	${Response_SS}
