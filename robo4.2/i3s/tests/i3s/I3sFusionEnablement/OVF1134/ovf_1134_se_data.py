import os
import sys

sys.path.append(os.path.join(os.path.dirname(__file__), '..'))

import environment_data as env

# firmware = {'firmwareInstallType': None, 'forceInstallFirmware': False, 'manageFirmware': False, 'firmwareBaselineUri': None}

firmware = {'manageFirmware': True, 'firmwareBaselineUri': env.FirmwareVersion, 'forceInstallFirmware': False,
            'firmwareInstallType': 'FirmwareOnlyOfflineMode', 'firmwareActivationType': 'Immediate'}

serverprofiles = {
    'type': 'ServerProfileV8',
    'name': 'ovf1134_serverprofile',
    'iscsiInitiatorNameType': 'AutoGenerated',
    'serverHardwareUri': 'SH:' + env.servers[0]['serverHardwareUri'],
    'serverHardwareTypeUri': 'SHT:' + env.servers[0]['serverHardwareTypeUri'],
    'enclosureGroupUri': 'EG:' + env.egs[0]['enclosureGroupUri'],
    'firmware': firmware, 'affinity': 'Bay',
    'hideUnusedFlexNics': True,
    'macType': 'Virtual', 'wwnType': 'Virtual',
    'osDeploymentSettings': {
        'osDeploymentPlanUri': 'dp1With1Nic_StaticAndDhcpNic',
        'osCustomAttributes': [{'name': 'DomainName', 'value': 'hpe.com'},
                               {'name': 'Hostname', 'value': 'esxbay1'},
                               {'name': 'ManagementNIC.connectionid', 'value': '2'},
                               {'name': 'ManagementNIC.dhcp', 'value': 'false'},
                               {'name': 'ManagementNIC.vlanid', 'value': '0'},
                               {'name': 'ManagementNIC.ipv4disable', 'value': 'false'},
                               {'name': 'ManagementNIC.networkuri', 'value': 'ETH:' + env.networks['mgmt']},
                               {'name': 'ManagementNIC.constraint', 'value': 'auto'},
                               {'name': 'Password', 'value': None},
                               {'name': 'SSH', 'value': 'enabled'}],
                             'osVolumeUri': None},
    'connectionSettings': env.se_connSettings,
    'bootMode': {'manageMode': True, 'pxeBootPolicy': 'Auto', 'mode': 'UEFIOptimized'},
    'boot': {'manageBoot': True, 'order': []},
    'bios': {'manageBios': False, 'overriddenSettings': []},
    'localStorage': {},
    'sanStorage': {'volumeAttachments': [], 'manageSanStorage': False}}

new_profile_connection = {'id': 2, 'name': 'mgmt',
                          'functionType': 'Ethernet', 'networkUri': 'ETH:private_nw1',
                          'portId': 'Auto', 'requestedVFs': '0',
                          'macType': 'Virtual', 'wwpnType': 'Virtual',
                          'allocatedMbps': 2500, 'maximumMbps': 20000,
                          'boot': {'priority': 'NotBootable'}}
