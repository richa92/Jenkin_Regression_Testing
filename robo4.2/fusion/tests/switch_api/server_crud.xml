<scxml xmlns="http://www.w3.org/2005/07/scxml" version="1.0" initial="crud">
    <parallel id="crud">
        <state id="dl_power" initial="check_ilo_power_on_status">
            <state id="check_ilo_power_off_status">
                <transition event="power_on_server" target="check_ilo_power_on_status" cond="In('fusion_dl_claimed')"/>
                <transition event="power_off_server" target="check_ilo_power_off_status" cond="In('fusion_dl_claimed')"/>
            </state>
            <state id="check_ilo_power_on_status">
                <transition event="power_off_server" target="check_ilo_power_off_status" cond="In('fusion_dl_claimed')"/>
                <transition event="power_on_server" target="check_ilo_power_on_status" cond="In('fusion_dl_claimed')"/>
            </state>
	    </state>
		<state id="dl_claim" initial="fusion_dl_not_claimed">
            <state id="fusion_dl_not_claimed">
                <transition event="add_server_hardware" target="fusion_dl_claimed" cond="In('fusion_dl_not_claimed')"/>
                <transition event="remove_server_hardware" target="fusion_dl_not_claimed" cond="In('fusion_dl_claimed')"/>
            </state>
            <state id="fusion_dl_claimed">
                <transition event="add_server_hardware" target="fusion_dl_claimed" cond="In('fusion_dl_not_claimed')"/>
                <transition event="remove_server_hardware" target="fusion_dl_not_claimed" cond="In('fusion_dl_claimed')"/>
            </state>
	    </state>
    </parallel>
</scxml>
