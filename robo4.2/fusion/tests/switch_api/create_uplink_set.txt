*** Settings ***
Documentation     Create Uplink Set Via GUI
...    = Usage =
...    | pybot | -v FUSION_IP:<Your-IP> |  create_uplink_set.txt |
...    = Variables =
...    | FUSION IP | Required; IP address of the FusionVM to use | 
...    | LIG_NAME | Optional; default *LIG* |
...    | I_NAME | Optional; Interconnect Type added to slots 1 & 3; default *HP 5900AF-48XG-4QSFP+ Switch* |

Library           RoboGalaxyLibrary         # DVTs Robot Framework extensions
Library           FusionLibrary                  # DVTs Robot Framework extensions
Variables         resources/variables.py     ${FUSION_IP}   # Comet-DVT default variables 
Resource          resources/fusion.txt      # Comet-DVT keyword extensions
Resource          resources/fusion_gui.txt      # Comet-DVT GUI keyword extensions
Force Tags        CometUtil                 # All test cases in sub test suites get these tags
Suite Setup       Login to Fusion Via GUI    
Suite Teardown    Logout Of Fusion Via GUI

*** Variables ***

*** Test Cases ***
Create 6 Ethernet Networks
    Add Network    ${FUSION_IP}    NW1    101
    Add Network    ${FUSION_IP}    NW2    102
    Add Network    ${FUSION_IP}    NW3    103
    Add Network    ${FUSION_IP}    NW4    104
    Add Network    ${FUSION_IP}    NW5    105
    Add Network    ${FUSION_IP}    NW6    106

Create Uplink Set
    Create Logical Interconnect Group Via GUI    ${FUSION_IP}    ${LIG_NAME}
    Add Interconnect    1    ${I NAME}
    Add Interconnect    3    ${I NAME}
    Add Uplink Set    UL1    ethernet
    
Cleanup FusionVM
    CleanUp FusionVM
    
*** Keywords ***
Add Uplink Set
    [Arguments]    ${NAME}    ${TYPE}
    # Edit the existing Logical Interconnect Group
    Click Element    id=cic-switchtemplate-actions
    Click Element    id=cic-switchtemplate-edit-action
    # Add a new uplink set
    Click Element    id=cic-switch-template-edit-uplink-button
    Input Text    cic-switchtemplate-dialog-name    ${NAME}
    Click Element    cic-switchtemplate-dialog-${TYPE}-type
    # Add 2 (interconnects) networks to the uplink set
    Add Uplink Network    NW2
    Add Uplink Network    NW3
    # Add Uplink Ports
    Add Uplink Port    1    FGE1/0/49
    Add Uplink Port    1    FGE1/0/50
    Add Uplink Port    3    XGE1/0/1
    Add Uplink Port    3    XGE1/0/10
    # Hit the Create button and we're done
    Click Button    cic-switchtemplate-dialog-add
    Click Button    cic-switchtemplate-update
    