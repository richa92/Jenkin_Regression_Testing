*** Settings ***
Documentation     Create Logical Interconnect
...    = Usage =
...    | pybot | -v FUSION_IP:<Your-IP> | -v SWITCH_IP:<Your-IP> | -v LIG_NAME:<name> | -v LI_NAME:<name> | add_li.txt |
...    = Variables =
...    | FUSION IP | Required; IP address of the FusionVM to use | 
...    | SWITCH IP | Required; IP address or name of the switch to use | 
...    | LIG_NAME | Optional; default *LIG* |
...    | LI_NAME | Optional; default *LI* |
Library           RoboGalaxyLibrary         # DVTs Robot Framework extensions
Library           FusionLibrary                  # DVTs Robot Framework extensions
Variables         resources/variables.py     ${FUSION_IP}    ${SWITCH_IP}    # Comet-DVT default variables 
Resource          resources/fusion.txt      # Comet-DVT keyword extensions
Force Tags        CometUtil                 # All test cases in sub test suites get these tags
Suite Setup       Login to Fusion Via REST
Suite Teardown    Logout of Fusion Via REST

*** Variables ***

*** Test Cases ***
Setup Switch Gateway IP Address in Fusion VM
    Setup Switch Gateway IP    ${SWITCH_GATEWAY_IP} 


Create Logical Interconnect
    ${LigUri}    Get Logical Interconnect Group Uri    ${LIG_NAME}

    ${Response}    Create Logical Interconnect    ${LI_NAME}    ${LigUri}    ${SWITCH IP}    ${SWITCH USERNAME}    ${SWITCH PASSWORD}
    Check Response    ${Response}

Show Logical Interconnect
    ${Li}    Get Logical Interconnect    ${LI_NAME}
    Check Response    ${Li}
    Log    ${Li}

Workaround
    #FIXME: CM believes we need to wait 5 minutes before we can actively use this logical Interconnect.
    Sleep    300
