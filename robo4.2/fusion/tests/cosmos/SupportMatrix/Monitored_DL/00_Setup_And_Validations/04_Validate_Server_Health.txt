*** Settings ***
Documentation	Monitor Over Heated Servers
Resource 		../resource.txt
Library			OperatingSystem
***Variables***
${blnExpected}		True

*** Test Cases ***
Send trap to simulate high temperature on managed devices
	Load Test Data and Open Browser
	Log into Fusion appliance as Administrator
	${blnSendTrap} =	Set Variable  False
	${blnSendTrap} =  Send Trap		@{TestData.trap_details}
	Set Global Variable		${blnSendTrap}
	Run Keyword If		'${blnSendTrap}' == '${blnExpected}'    Log		Trap has been sent successfully to simulate high temperature on managed device
	Run Keyword Unless		'${blnSendTrap}' == '${blnExpected}'    Fail	Failed to send Trap to simulate high temperature on managed device

Check for the alert received in appliance for over heat on device
	Run Keyword Unless		'${blnSendTrap}' == '${blnExpected}'    Fail	Failed to send Trap to simulate high temperature on managed device
	${blnAlert} =  fusion_ui_verify_alert_generated_in_appliance 	@{TestData.trap_activity}
	Run Keyword If		'${blnAlert}' == '${blnExpected}'    Log		Trap Alert for over heat on managed device received in appliance successfully
	Run Keyword Unless		'${blnAlert}' == '${blnExpected}'    Fail	Failed to receive Trap Alert in appliance for over heat on managed device
	Logout and close all browsers