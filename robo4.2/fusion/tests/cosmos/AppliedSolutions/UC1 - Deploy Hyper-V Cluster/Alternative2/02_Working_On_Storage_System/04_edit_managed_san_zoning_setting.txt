*** Settings ***
Documentation		Edit Zoning Settings for a Managed SAN
Resource 			../resource.txt
Test Setup         	Load Test Data and Open Browser
Test Teardown      	Logout and close all browsers
Library				FusionLibrary
Library				RoboGalaxyLibrary
Library				OperatingSystem
Variables			../../../../../../FusionLibrary/ui/san/san_elements.py

*** Variables ***
${page}		SANs
${window_name}		Mozilla Firefox

*** Test Cases ***
Edit Zoning Settings for a Managed SAN
	Log into Fusion appliance as Administrator
	Fusion UI navigate to page	${page}
	: FOR	${san}	IN	@{TestData.editsans}
	\	Fusion Ui San Highlight San		${san.name}
	\	Wait For Element and click		${FusionSANPage.ID_SAN_MENU_ACTION_MAIN_BTN}
	\	Wait For Element and click		${FusionSANPage.ID_SAN_MENU_ACTION_EDIT}
	\	Wait For Element and click		${FusionSANPage.ID_SAN_EDIT_AUTOMATE_ZONING_NO}
	\	${blnAZ} =	Wait For Element visible		${FusionSANPage.ID_SAN_EDIT_AUTOMATE_ZONING_YES}
	\	Set Global Variable		${blnAZ}
	\	Run Keyword If			'${blnAZ}' == '${blnExpected}'    Log		Automate Zoning is selected successfully.
	\	Run Keyword Unless		'${blnAZ}' == '${blnExpected}'    Wait For Element and click		${FusionSANPage.ID_SAN_EDIT_AUTOMATE_ZONING_NO}
	\	Wait For Element and click		${FusionSANPage.ID_SAN_EDIT_ZONING_POLICY_SELECT}
	\	Wait For Element and click		${FusionSANPage.ID_SAN_EDIT_ZONING_POLICY_SISSS}
	\	Wait For Element and click		${FusionSANPage.ID_SAN_EDIT_ZONE_NAME_FORMAT}
	\	find native window	${window_name}
	\	send keys to native window	${window_name}	{BACKSPACE}
	\	send keys to native window	${window_name}	{BACKSPACE}	
	\	send keys to native window	${window_name}	{BACKSPACE}
	\	send keys to native window	${window_name}	{DELETE}
	\	Sleep	2
	\	wait for element and click	${FusionSANPage.ID_SAN_EDIT_FORMAT_SERVER_PROFILE}
	\	wait for element and click	${FusionSANPage.ID_SAN_EDIT_FORMAT_WWPN}
	\	send keys to native window	${window_name}	{TAB}
	\	Wait For Element and click		${FusionSANPage.ID_SAN_EDIT_ALIASING_NO}
	\	${edit_aliase} =	Wait For Element visible		${FusionSANPage.ID_SAN_EDIT_ALIASING_YES}
	\	Set Global Variable		${edit_aliase}
	\	Run Keyword If			'${edit_aliase}' == '${blnExpected}'    Log		Edit Aliasing selected successfully.
	\	Run Keyword Unless		'${edit_aliase}' == '${blnExpected}'    Wait For Element and click		${FusionSANPage.ID_SAN_EDIT_ALIASING_NO}
	\	Wait For Element and click		${FusionSANPage.ID_SAN_EDIT_INITIATOR_ALIAS}
	\	send keys to native window	${window_name}	{BACKSPACE}
	\	send keys to native window	${window_name}	{BACKSPACE}	
	\	Wait For Element and click		${FusionSANPage.ID_SAN_EDIT_TARGET_GROUP_ALIAS}
	\	send keys to native window	${window_name}	{BACKSPACE}
	\	send keys to native window	${window_name}	{BACKSPACE}	
	\	send keys to native window	${window_name}	{TAB}
	\	Wait For Element and click		${FusionSANPage.ID_SAN_EDIT_OK_BUTTON}
