*** Settings ***
Documentation		Verify the storage system ports
Resource			../resource.txt
Library				RoboGalaxyLibrary
Test Setup			Load Test Data and Open Browser
Test Teardown		Logout and close all browsers
Variables			../../../../../../FusionLibrary/ui/storage/storagesystems_elements.py

*** Variables ***
${page}		Storage Systems
${i}	0
${length}	0
${count}	0

*** Test Cases ***
Verify the storage system ports
	Log into Fusion appliance as Administrator
	:For	${i}	IN RANGE	0	2
	\	Fusion UI navigate to page	${page}
	\	${overview} =	Set Variable	//div[text()='Overview']
	\	${storage_system_pools} =	Set Variable	//a[text()='Storage System Ports']
	\	wait for element and click	${overview}
	\	wait for element and click	${storage_system_pools}
	\	${san_xpath} =	Set Variable	//td[7]/a[text()='%s']
	\	${san} =	Get UI Object	${san_xpath}	${TestData.fcnetworks[${i}].san}
	\	wait for element and click	${san}
	\	${fc_network_xpath} =	Set Variable	//label[text()='Associated networks']/ancestor::li//a[text()='%s']
	\	${fc_netwrok} =	Get UI Object	${fc_network_xpath}	${TestData.fcnetworks[${i}].name}
	\	${blnactual} =	wait for element visible	${fc_netwrok}
	\	${count} =	Run keyword if	${blnactual}==True 	evaluate	${count}+1
	\	${length} =		Evaluate	${length}+1
	Run Keyword If		${count} == ${length}    Log		Storage port is assigned to a correct fc
	Run Keyword Unless		${count} == ${length}    Fail		Failed to assign fc to storage
