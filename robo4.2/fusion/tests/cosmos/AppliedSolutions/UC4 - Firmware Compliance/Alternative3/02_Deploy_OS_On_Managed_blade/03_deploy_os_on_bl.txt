*** Settings ***
Documentation		Deploy OS on DL server (Post - setup)
Resource 	        ../resource.txt
Test Setup          Load Test Data  ${DataFile}
Suite Teardown      Logout and close all browsers
Library           	RoboGalaxyLibrary
Library				AltairLibrary


*** Test Cases ***
Capturing server serial number from altair
	${serial_no} =	Get Serial Number	${TestData.osbpPostSetupForBL[0]}
	Log		${serial_no}
	Set Global Variable		${serial_no}

Run OS Build Plan
	${date} = 	Get Job Time	
	Log into Altair Appliance as Administrator
	: FOR   ${deploy}   IN      @{TestData.osbpPostSetupForBL}
	\	Deploy OS on Server		${deploy.altairOs}	${serial_no}	${date}		${DEPLOYMENT JOB WAIT TIME IN MINUTES}
	\	Altair UI Logout Appliance Console
	\	Close all Browsers

Capture deployment IP	
	Log into Altair Appliance as Administrator
	${server_data} =	Set Variable	${Testdata.osbpPostSetupForBL[0]}
	${ilo_ip} =		Set Variable	${server_data.ip}
	${bl_server} =		Set Variable	${server_data.servername}
	${bl_dep_ip}=	Get Deployment IP		${ilo_ip}
	Log		${bl_dep_ip}
	set global variable		${bl_dep_ip}
	set global variable		${bl_server}

Check OS connectivity after Deploying OS
	Ping OS Deployment IP	${bl_server}	${bl_dep_ip}