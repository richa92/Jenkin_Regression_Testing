*** Settings ***
Documentation		Validate Fusion after Restore
Resource			../resource.txt
Test Setup			Load Test Data and Open Browser
Test Teardown		Logout and close all browsers
Variables			../../../../../../FusionLibrary/ui/networking/logicalinterconnectgroups_elements.py


*** Test Cases ***
Check for existence of DL server
	Log into Fusion appliance as Administrator
	Fusion UI navigate to server hardware page
	${bln_server_exist} =	Fusion UI select server hardware	${TestData.dlservers[0].name}
	Run Keyword If		'${bln_server_exist}' == '${blnExpected}'			Log		Server hardware exist. Restore successfull.
	Run Keyword Unless		'${bln_server_exist}' == '${blnExpected}'		Fail	Server hardware does not exist.Restore Failed.

verify the storage volume created from 3Par exists
	Log into Fusion appliance as Administrator
	${bln_storage_volume} =	Fusion UI select storage volume		${TestData.add_volume[0].storage_volume}
	Run Keyword If		'${bln_storage_volume}' == '${blnExpected}'			Log		Volume exists. Restore successfull.
	Run Keyword Unless		'${bln_storage_volume}' == '${blnExpected}'		Fail	Volume does not exist.Restore Failed.

Verify storage template existence
	Log into Fusion appliance as Administrator
	${bln_storage_template} =	Fusion UI select storage template		${TestData.storage_temp[0].name}
	Run Keyword If		'${bln_storage_template}' == '${blnExpected}'			Log		Volume template exists. Restore successfull.
	Run Keyword Unless		'${bln_storage_template}' == '${blnExpected}'		Fail	Volume template does not exist.Restore Failed.

Check for server profile existence
	Log into Fusion appliance as Administrator
	Fusion UI navigate to server profiles page
	${bln_server_profile} =		Fusion UI select server profiles	${TestData.profile3[0].name}
	Run Keyword If		'${bln_server_profile}' == '${blnExpected}'			Log		server profile exists. Restore successfull.
	Run Keyword Unless		'${bln_server_profile}' == '${blnExpected}'		Fail	server profile does not exist.Restore Failed.

Logical Interconnect group exists after restore
	Log into Fusion appliance as Administrator
	Fusion UI navigate to logical interconnect groups page
	${locator} =	Get UI Object	${FusionLogicalInterconnectGroupPage.ID_ELEMENT_LIG_SELECT_NAME}	${TestData.ligs_new[0].name}
	${bln_lig_exists} =	wait for element visible	${locator}
	Run Keyword If		'${bln_lig_exists}' == '${blnExpected}'			Log		LIG exists. Restore successfull.
	Run Keyword Unless		'${bln_lig_exists}' == '${blnExpected}'		Fail	LIG does not exist.Restore Failed.
