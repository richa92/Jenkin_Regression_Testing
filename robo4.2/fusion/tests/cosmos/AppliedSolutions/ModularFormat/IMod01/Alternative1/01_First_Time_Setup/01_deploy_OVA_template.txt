*** Settings ***
Documentation		Deploy OVA Template and Power on
Resource			../resource.txt
Test Setup			Load Test Data	${DataFile}
Force Tags			CC_01	CC_02a	CC_02b	CC_03


*** Test Cases ***
Deploy OVA Template
	${extnet} =		Set Variable	@{TestData.extnetwork}
	Run		powershell Enable-PSRemoting -Force
	Run		Set-Item -force wsman:\\localhost\\client\\trustedhosts *
	Run		Restart-Service WinRM
	Run		net use ${extnet.folder}: ${extnet.path} ${extnet.netpwd} /user:${extnet.domain}\\${extnet.user}
	${var} =	Set Variable	@{TestData.deploytempt}
	deploy_ovf_ova_template_to_folder_in_cluster	${var.vcenterIP}	${var.vcenterUser}	${var.vcenterPassword}	${var.network}	${var.vm_name}	${var.templatelocation}	${var.datastore}	${var.vmfolder}	${var.vmdatacenter}	${var.vmcluster}
	Run		powershell net use * /del /yes

Power On VM
	${var} =	Set Variable	@{TestData.deploytempt}
	connect_to_vi_server	${var.vcenterIP}	${var.vcenterUser}	${var.vcenterPassword}	${var.vcenterPort}
	Power On Vm			${var.vm_name}
	Sleep	100
