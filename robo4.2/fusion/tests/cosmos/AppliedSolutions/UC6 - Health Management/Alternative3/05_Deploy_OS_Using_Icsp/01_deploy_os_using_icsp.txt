*** Settings ***
Documentation		Deploy OS
Resource 	        ../resource.txt
Library           	RoboGalaxyLibrary
Library				AltairLibrary
Test Setup          Load Test Data  ${DataFile}
Suite Teardown      Logout and close all browsers
Force Tags          Not required

*** Test Cases ***
Capturing DL server serial number from altair
	${serial_no} =	Altair Get Serial Number	${TestData.osbp[0]}
	Log		${serial_no}
	Set Global Variable		${serial_no}

Run OS Build Plan
	${date} = 	Get Job Time	
	Log into Altair Appliance as Administrator
	: FOR   ${deploy}   IN      @{TestData.osbp}
	\	Deploy OS on Server		${deploy.altairOs}	${serial_no}	${date}		${DEPLOYMENT JOB WAIT TIME IN MINUTES}
	\	Altair UI Logout Appliance Console
	\	Close all Browsers

Capture DL Server Deployment IP
	Log into Altair Appliance as Administrator
	${server_data} =	Set Variable	${Testdata.osbp[0]}
	${ilo_ip} =		Set Variable	${server_data.ip}
	${dl_server} =		Set Variable	${server_data.servername}
	${dl_dep_ip}=	Get Deployment IP		${ilo_ip}
	Log		${dl_dep_ip}
	set global variable		${dl_dep_ip}
	set global variable		${dl_server}
	Logout and close all browsers

Check OS Connectivity After Downgrading FW
	Ping OS Deployment IP	${dl_server}	${dl_dep_ip}
