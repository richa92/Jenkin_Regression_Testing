*** Settings ***
Documentation	Verify the Storage pool Status In Dashboard Page
Resource		../resource.txt
Test Setup		Load Test Data and Open Browser
Test Teardown	Logout and close all browsers


*** Test Cases ***
Refresh Storage system
	Log into Fusion appliance as Administrator
	${storage_data} =	Set Variable	${Testdata.storagesystems[0]}
	${storage_name} =		Set Variable	${storage_data.simplename}
	${refresh_storage} =		Fusion UI refresh storage system	${storage_name}
	Set Global Variable		${refresh_storage}
	Run Keyword If		'${refresh_storage}' == '${blnExpected}'    Log		Storage System refreshed successfully.
	Run Keyword Unless		'${refresh_storage}' == '${blnExpected}'    Fail	Failed to refresh Storage System	
	
Refresh Storage pool
	Log into Fusion appliance as Administrator
	Run Keyword Unless		'${refresh_storage}' == '${blnExpected}'    Fail	Failed to refresh Storage System
	${pool_data} =		Set Variable	${Testdata.storagepools[0]}
	${pool_data} =		Set Variable	${pool_data.name}
	${refresh_pool}=	Fusion UI Refresh Storage Pool	${pool_data}
	Set Global Variable		${refresh_pool}
	Run Keyword If		'${refresh_storage}' == '${blnExpected}'    Log		Storage Pool refreshed successfully.
	Run Keyword Unless		'${refresh_storage}' == '${blnExpected}'    Fail	Failed to refresh Storage Pool

Verify the Storage pool Status In Dashboard Page
	Log into Fusion appliance as Administrator
	${pool_staus}=	Fusion UI Verify Dashboard Component Status		@{TestData.storage_reconnect_status}
	Run Keyword If		'${pool_staus}' == '${blnExpected}'    Log		Storage Pool status is as per expected.
	Run Keyword Unless		'${pool_staus}' == '${blnExpected}'    Fail	Storage Pool status is not as per expected.
