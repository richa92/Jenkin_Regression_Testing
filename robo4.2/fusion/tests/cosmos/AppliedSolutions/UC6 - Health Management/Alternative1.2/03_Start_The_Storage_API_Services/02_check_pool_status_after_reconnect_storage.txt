*** Settings ***
Documentation	Verify the Storage pool Status In Dashboard Page
Resource		../resource.txt
Test Setup		Load Test Data and Open Browser
Test Teardown	Logout and close all browsers


*** Test Cases ***
Refresh Storage pool
	${pool_data} =		Set Variable	${Testdata.storagepools[0]}
	${pool_name} =		Set Variable	${pool_data.name}
	${storage_data} =		Set Variable	${Testdata.storagesystems[0]}
	${storage_name} =		Set Variable	${storage_data.simplename}

	Log into Fusion appliance as Administrator
	${refresh_pool}=	Fusion UI Refresh Storage Pool	${pool_name}	${storage_name}
	Set Global Variable	${refresh_pool}
	Run Keyword If		'${refresh_pool}' == '${blnExpected}'	Log		Storage Pool refreshed successfully.
	Run Keyword Unless	'${refresh_pool}' == '${blnExpected}'	Fail	Failed to refresh Storage Pool

Verify the Storage pool Status In Dashboard Page
	Log into Fusion appliance as Administrator
	${pool_staus}=	Fusion UI Verify Dashboard Component Status		@{TestData.storage_reconnect_status}
	Run Keyword If		'${pool_staus}' == '${blnExpected}'		Log		Storage Pool status is as per expected.
	Run Keyword Unless		'${pool_staus}' == '${blnExpected}'	Fail	Storage Pool status is not as per expected.
