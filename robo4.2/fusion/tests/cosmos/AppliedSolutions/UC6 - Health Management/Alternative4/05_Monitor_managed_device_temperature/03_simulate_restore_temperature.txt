*** Settings ***
Documentation		Send trap to simulate high temperature and Check for the alert received in appliance
Resource			../resource.txt
Test Setup			Load Test Data and Open Browser
Test Teardown		Logout and close all browsers


*** Test Cases ***
Send trap to simulate restore temperature on managed devices
	Log into Fusion appliance as Administrator
	${blnSendTrap} =	Set Variable  False
	${blnSendTrap} =  Send Trap	@{TestData.restore_temp_trap}
	Set Global Variable		${blnSendTrap}
	Run Keyword If		'${blnSendTrap}' == '${blnExpected}'	Log		Trap has been sent successfully to simulate restore temperature on managed device
	Run Keyword Unless		'${blnSendTrap}' == '${blnExpected}'	Fail	Failed to send Trap to simulate restore temperature on managed device

Verify server health status
	Run Keyword Unless		'${blnSendTrap}' == '${blnExpected}'	Fail	Failed to send Trap to simulate restore temperature on managed device
	Log into Fusion appliance as Administrator
	${helthStatus}=	Fusion UI Validate Server Health Status		@{TestData.restore_temp_trap}
	Run Keyword If		'${helthStatus}' == '${blnExpected}'	Log		Server health status is as per expected
	Run Keyword Unless		'${helthStatus}' == '${blnExpected}'	Log		Fail	Server health status is not as per expected
