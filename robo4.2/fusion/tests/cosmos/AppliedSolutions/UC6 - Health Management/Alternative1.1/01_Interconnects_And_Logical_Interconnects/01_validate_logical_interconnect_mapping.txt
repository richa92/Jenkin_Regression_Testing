*** Settings ***
Documentation		Validate Logical Interconnect Mapping
Resource			../resource.txt
Library				RoboGalaxyLibrary
Test Setup			Load Test Data and Open Browser
Test Teardown		Logout and close all browsers
Variables			../../../../../../FusionLibrary/ui/networking/logicalinterconnects_elements.py

*** Variables ***
${length}	0
${count}	0

*** Test Cases ***
Validate Logical Interconnect Mapping
	Log into Fusion appliance as Administrator
	${blnactual} =	Set Variable	False
	Fusion UI Navigate To Logical Interconnects Page
	Fusion UI Select Logical Interconnect	${TestData.logical_interconnect[0].name}
	wait for element and click	${FusionLogicalInterconnectsPage.ID_VIEW_SELECTOR}
	${selector_type} =	Get Ui Object		${FusionLogicalInterconnectsPage.ID_VIEW_SELECTOR_TYPE}	${TestData.uplink_type[0].type}
	wait for element and click	${selector_type}
	:For	${uplink}	in	@{TestData.uplinkset}
	\	${uplinkset_panel} =	Get Ui Object		${FusionLogicalInterconnectsPage.ID_UPLINK_SET_PANEL}	${uplink.panel}
	\	${uplinkset_interconnect} =	Get Ui Object	${FusionLogicalInterconnectsPage.ID_UPLINK_INTERCONNECT}	${uplink.interconnect}	${uplink.portname}
	\	wait for element and click		${uplinkset_panel}
	\	${uplink_status} =	wait for element visible		${uplinkset_interconnect}
	\	wait for element and click		${uplinkset_panel}
	\	${count} =	Run keyword if	${uplink_status}==True 	evaluate	${count}+1
	\	${length} =		Evaluate	${length}+1
	Run Keyword If		${count} == ${length}    Log		Valid Interconnect states
	Run Keyword Unless		${count} == ${length}    Fail		Invalid Interconnect States
