*** Settings ***
Documentation		Validate Interconnect Uplink Port Status
Resource			../resource.txt
Library				RoboGalaxyLibrary
Test Setup			Load Test Data and Open Browser
Test Teardown		Logout and close all browsers
Variables			../../../../../../FusionLibrary/ui/networking/interconnects_elements.py

*** Variables ***
${length}	0
${count}	0

*** Test Cases ***
Validate Interconnect Uplink Port 1 Status
	Log into Fusion appliance as Administrator
	${blnactual} =	Set Variable	False
	Fusion UI Navigate To Interconnects Page
	Fusion UI Select Interconnect	${TestData.interconnect[0].interconnect}
	:For	${port}	in	@{TestData.uplinkports}
	\	${uplink_type} =	Get Ui Object		${FusionInterconnectPage.ID_UPLINK_PORT_STATE}	${port.portname}	${port.type}
	\	wait for element and click		${FusionInterconnectPage.ID_UPLINK_PORT_LINK}
	\	Sleep	4
	\	wait for element visible		${uplink_type}
	\	${uplink_state} ==	Get Text	${uplink_type}
	\	${count} =	Run keyword if	'${uplink_state}' == '${port.state}' 	evaluate	${count}+1
	\	${length} =		Evaluate	${length}+1
	Run Keyword If		${count} == ${length}    Log		Valid Interconnect states
	Run Keyword Unless		${count} == ${length}    Fail		Invalid Interconnect States

Validate Interconnect Uplink Port 2 Status
	Log into Fusion appliance as Administrator
	${blnactual} =	Set Variable	False
	Fusion UI Navigate To Interconnects Page
	Fusion UI Select Interconnect	${TestData.interconnect[1].interconnect}
	:For	${port}	in	@{TestData.uplinkports}
	\	${uplink_type} =	Get Ui Object		${FusionInterconnectPage.ID_UPLINK_PORT_STATE}	${port.portname}	${port.type}
	\	wait for element and click		${FusionInterconnectPage.ID_UPLINK_PORT_LINK}
	\	Sleep	4
	\	wait for element visible		${uplink_type}
	\	${uplink_state} ==	Get Text	${uplink_type}
	\	${count} =	Run keyword if	'${uplink_state}' == '${port.state}' 	evaluate	${count}+1
	\	${length} =		Evaluate	${length}+1
	Run Keyword If		${count} == ${length}    Log		Valid Interconnect states
	Run Keyword Unless		${count} == ${length}    Fail		Invalid Interconnect States
