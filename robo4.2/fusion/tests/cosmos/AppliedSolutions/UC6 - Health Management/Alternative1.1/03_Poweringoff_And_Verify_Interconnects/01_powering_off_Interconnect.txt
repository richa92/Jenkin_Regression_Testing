*** Settings ***
Documentation		Powering Off Interconnects (Using CLI commands)
Resource			../resource.txt
Test Setup			Load Test Data and Open Browser
Test Teardown		Logout and close all browsers
Library				OperatingSystem
Variables			../../../../../../FusionLibrary/ui/networking/interconnects_elements.py

*** Variables ***
${length}	0
${count}	0

*** Test Cases ***
Capture Enclosure details
	Load Test Data  ${DataFile}
	${enclosure_details} =	Set Variable	${Testdata.enclosure_details[0]}
	${HOST} =	Set Variable	${enclosure_details.ip}
	${USERNAME} =	Set Variable	${enclosure_details.userid}
	${PSWD} =	Set Variable	${enclosure_details.pswd}
	${BAY_NUMBER} =	Set Variable	${enclosure_details.baynumb}

	Set Global Variable		${HOST}
	Set Global Variable		${USERNAME}
	Set Global Variable		${PSWD}
	Set Global Variable		${BAY_NUMBER}

Powering Off Interconnect
   	Open Connection    ${HOST}
   	Login    ${USERNAME}    ${PSWD}
	${output}=    Execute Command    poweroff interconnect ${BAY_NUMBER}
	Log		${output}
	Should Contain		${output}	Powering off Interconnect Module
	Close All Connections

