*** Settings ***
Documentation		Verify Interconnect Status
Resource			../resource.txt
Library				RoboGalaxyLibrary
Test Setup			Load Test Data and Open Browser
Test Teardown		Logout and close all browsers
Variables			../../../../../../FusionLibrary/ui/networking/interconnects_elements.py

*** Variables ***
${power_count}	0
${state_count}	0
${activity_count}	0

*** Test Cases ***
Verify Interconnect Status
	Log into Fusion appliance as Administrator
	${blnactual} =	Set Variable	False
	Fusion UI Navigate To Interconnects Page
	wait for element and click		${FusionInterconnectPage.ID_SEARCH_BOX}
	wait for element and input text	${FusionInterconnectPage.ID_SEARCH_BOX_INPUT}		${TestData.poweroff_interconnect[0].labelname}
	wait for element and click	${FusionInterconnectPage.ID_SUGGESTIONS}
	${power} =	Get Ui Object		${FusionInterconnectPage.ID_INTERCONNECT_POWER}	${TestData.poweroff_interconnect[0].power}
	${state} =	Get Ui Object		${FusionInterconnectPage.ID_INTERCONNECT_STATE}	${TestData.poweroff_interconnect[0].state}
	${activity} =	Get Ui Object		${FusionInterconnectPage.ID_ACTIVITY_NAME}	${TEstData.poweroff_interconnect[0].activity}
	${power_status} =	wait for element visible	${power}
	${power_count} =	Run keyword if	${power_status}==True 	evaluate	${power_count}+1
	${state_status} =	wait for element visible	${state}
	${state_count} =	Run keyword if	${state_status}==True 	evaluate	${state_count}+1
	wait for element and click	${FusionInterconnectPage.ID_DROPDOWN}
	wait for element and click	${FusionInterconnectPage.ID_DROPDOWN_SELECT_ACTIVITY}
	${activity_status} =	wait for element visible	${activity}
	${activity_count} =	Run keyword if	${activity_status}==True 	evaluate	${activity_count}+1
	Run Keyword If		'${power_count}' == '${state_count}' == '${activity_count}'	Log		Interconnect is successfully verified
	Run Keyword Unless		'${power_count}' == '${state_count}' == '${activity_count}'	Fail	Failed to verify Interconnect
