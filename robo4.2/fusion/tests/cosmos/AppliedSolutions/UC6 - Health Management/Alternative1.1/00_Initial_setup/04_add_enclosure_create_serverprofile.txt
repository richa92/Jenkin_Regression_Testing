*** Settings ***
Resource 	        ../resource.txt
Test Setup          Load Test Data and Open Browser
Test Teardown		Logout and close all browsers
Variables			../../../../../../FusionLibrary/ui/networking/interconnects_elements.py

*** Test Cases ***
Add Enclosure to Appliance
	Log into Fusion appliance as Administrator
	${blnAddEnclr} =	Fusion UI add enclosure		@{TestData.enclosures}
	Run Keyword If		'${blnAddEnclr}' == '${blnExpected}'    Log		All Enclosures are added successfully.
	Run Keyword Unless		'${blnAddEnclr}' == '${blnExpected}'    Fail	Failed to add Some/all of Enclosures

Check Interconnect1 is updated based on Selected Baseline Version
	Log into Fusion appliance as Administrator
	Fusion UI Navigate To Interconnects Page
	Fusion UI Select Interconnect	${TestData.interconnect[0].interconnect}
	${value1} =	Split String	${TestData.enclosures[0].spp}	, 
	set variable	${value1}
	${spp1} =	set variable	${value1[0]}
	${spp2} =	set variable	${value1[1]}
	${spp_name} =	set variable	${spp1}${spp2}
	${firmware} =	Get Ui Object		${FusionInterconnectPage.ID_FIRMWARE_BASELINE_VERSION}	${spp_name}
	${firmware_version_status} =	wait for element visible	${firmware}
	Run Keyword If		'${firmware_version_status}' == '${blnExpected}'    Log		Firmware Baseline is updated successfully for the selected Interconnect
	Run Keyword Unless		'${firmware_version_status}' == '${blnExpected}'    Fail	Failed to Update firmware Baseline for the selected Interconnect

Check Interconnects2 is updated based on Selected Baseline Version
	Log into Fusion appliance as Administrator
	Fusion UI Navigate To Interconnects Page
	Fusion UI Select Interconnect	${TestData.interconnect[1].interconnect}
	${value1} =	Split String	${TestData.enclosures[0].spp}	, 
	set variable	${value1}
	${spp1} =	set variable	${value1[0]}
	${spp2} =	set variable	${value1[1]}
	${spp_name} =	set variable	${spp1}${spp2}
	${firmware} =	Get Ui Object		${FusionInterconnectPage.ID_FIRMWARE_BASELINE_VERSION}	${spp_name}
	${firmware_version_status} =	wait for element visible	${firmware}
	Run Keyword If		'${firmware_version_status}' == '${blnExpected}'    Log		Firmware Baseline is updated successfully for the selected Interconnect
	Run Keyword Unless		'${firmware_version_status}' == '${blnExpected}'    Fail	Failed to Update firmware Baseline for the selected Interconnect

Create profile1
	Log into Fusion appliance as Administrator
	${blnCreateProf} =	Fusion UI create Server Profile     @{TestData.profile1}
	Run Keyword If		'${blnCreateProf}' == '${blnExpected}'    Log		All Profiles are added successfully.
	Run Keyword Unless		'${blnCreateProf}' == '${blnExpected}'    Fail	Failed to add Some/all of Profiles

Create profile2
	Log into Fusion appliance as Administrator
	${blnCreateProf} =	Fusion UI create Server Profile     @{TestData.profile2}
	Run Keyword If		'${blnCreateProf}' == '${blnExpected}'    Log		All Profiles are added successfully.
	Run Keyword Unless		'${blnCreateProf}' == '${blnExpected}'    Fail	Failed to add Some/all of Profiles
