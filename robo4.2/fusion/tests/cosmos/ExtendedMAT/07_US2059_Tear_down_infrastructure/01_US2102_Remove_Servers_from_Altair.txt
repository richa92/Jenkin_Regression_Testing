*** Settings ***
Resource 	../resource.txt
Force Tags  altair  critical  teardown
Suite Setup		Load Test Data	${DataFile}
Suite Teardown      Logout and close all browsers
Variables		../../../../../altair/AltairLibrary/ui/objectrepo/altair_elements_servers_page.py

*** Variables ***
${JOB WAIT TIME IN MINUTES}		20
${DEPLOYMENT JOB WAIT TIME IN MINUTES}	40

*** Test Cases ***
Remove Server From Altair
    Log into Altair appliance as Administrator
    Maximize Browser Window
    Altair UI Go to Servers Page
	: FOR 	${server}	In		@{TestData.osbp_server}
	\	${ilo_ip} =		Set Variable	${server.ip}
	\	Remove Servers		${ilo_ip}


*** Keywords ***
Remove Servers
	[Arguments]		${ilo_ip}
	${server_dict} =	Create Dictionary
    @{server_names} =	Create List
    ${server_dict} =  	altair_ui_get_complete_server_list	none
    ${server_names} = 	Get Dictionary Values		${server_dict}
    ${server_list_length} =		Get Length		${server_names}
	: FOR	${i}	IN RANGE	1	${server_list_length+1}
    \	${locator} = 	Get UI Object	${AltairServersPage.ID_TABLE_SERVER_NAME}	${i}
    \	${ser_details} =	altair_ui_get_server_details		${locator}
    \	${server_details} = 	Convert To List		${ser_details}
	\	Log		${server_details}
    \	Run Keyword if		'${ilo_ip}'=='${server_details[5]}'		Altair Remove Selected Server  ${locator}
	\	Run Keyword if		'${ilo_ip}'=='${server_details[5]}'		Exit For Loop