*** settings ***
Library     SSHLibrary


*** Keywords ***
Open Connection And Log In
	[Arguments]		${HOST}	${USERNAME}	${PASSWORD}
	Open Connection    ${HOST}
   	Login    ${USERNAME}    ${PASSWORD}

Create storage user
	[Arguments]		${HOST}	${USERNAME}	${PASSWORD}	${USER_PSWD}	${USER}
   	Open Connection    ${HOST}
   	Login    ${USERNAME}    ${PASSWORD}
	${output}=    Execute Command    createuser -c ${USER_PSWD} ${USER} all super
	Log		${output}
	Should Be Equal		${output}	User created
	Close All Connections

Remove storage user
	[Arguments]		${HOST}	${USERNAME}	${PASSWORD}	${USER}
   	Open Connection    ${HOST}
   	Login    ${USERNAME}    ${PASSWORD}
	Execute Command		removeuser -f ${USER}
    Close All Connections

Stop 3Par using wsapi command
	[Arguments]		${HOST}	${USERNAME}	${PASSWORD}
   	Open Connection    ${HOST}
   	Login    ${USERNAME}    ${PASSWORD}
	Execute Command		stopwsapi 

Start 3Par using wsapi command
	[Arguments]		${HOST}	${USERNAME}	${PASSWORD}
   	Open Connection    ${HOST}
   	Login    ${USERNAME}    ${PASSWORD}
   	Execute Command		startwsapi 

Remove volume from storage
	[Arguments]		${HOST}	${USERNAME}	${PASSWORD}	${VOLUME}
   	Open Connection    ${HOST}
   	Login    ${USERNAME}    ${PASSWORD}
   	${output}=    Execute Command		removevv -f ${VOLUME}
	Log		${output}

Add storage volume
	[Arguments]		${HOST}	${USERNAME}	${PASSWORD}	${CPG}	${VOLUME}	${CAPACITY}
   	Open Connection    ${HOST}
   	Login    ${USERNAME}    ${PASSWORD}
   	Execute Command		createvv -tpvv ${CPG} ${VOLUME} ${CAPACITY}


   	
   	