*** Settings ***
Documentation     Keywords that are common and can be used within all test cases
Library           SSHLibrary		
Library           String
Library			  Collections
Library           platform

*** Keywords ***
Set Browser Version Metadata
    [Documentation]     Obtain the browser version info and set in suite metadata
    ${Capabilities} =   Get Browser Capabilities
    Set Suite Metadata  Browser Name     ${Capabilities['browserName']}
    Set Suite Metadata  Browser Version    ${Capabilities['version']}
    Set Suite Metadata  Browser Platform    ${Capabilities['platform']}

Set OS Version Metadata
    ${system} =      platform.system
    ${release} =     platform.release
    ${version} =     platform.version
    ${host} =    Evaluate    socket.gethostname()    socket
    Set Suite Metadata  OS Name       ${system}
    Set Suite Metadata  OS Release    ${release}
    Set Suite Metadata  OS Version    ${version}
    Set Suite Metadata  Host          ${host}
    
Login To Device Via SSH
    [Documentation]    Login to an SSH enabled device - Shared
    [Arguments]    ${IP}    ${USER}    ${PASSWORD}    ${PROMPT}
    Set Default Configuration    prompt=${PROMPT}    timeout=${SSH_TIMEOUT}
    Open Connection    ${IP}
    Login    ${USER}    ${PASSWORD}

 CLOSE OA SSH CONNECTION
	[Documentation]		Close the ssh connection from OA - Shared
	write 	quit
	Close Connection
	
Parse Switch List
    [Documentation]    This keyword will parse a switch list variable and return three variables, swtch_name, swicth_ip, and switch_serial_dl_name - Shared
    ...
    ...    You pass in a name of a switch as defined in a variables file
    ...
    ...    For example , suppose Switch1 is defined in the variables file as follows. Note that LIST__ is Robot syntax which creates a list for the variable name.
    ...
    ...    "LIST__Switch1" : ["hvd-sw1", "16.119.102.220","udrogono.rsn.hp.com"],
    ...
    ...
    ...    The test script can then call the keyword as follows
    ...    ${switch_name} ${switch_ip} ${switch_serial_dl_name} Parse_Switch_List \ \ \ ${Switch1}
    ...
    ...    Upon return from the keyword call in this example \ ${switch_name} ="hvd-sw1", ${switch_ip}= "16.119.102.220" and ${switch_serial_dl_name} = \ "udrogono.rsn.hp.com"
	[Arguments]    ${switch_list}
    ${switch_name} =    Set Variable    ${switch_list[0]}
    ${switch_ip} =    Set Variable    ${switch_list[1]}
    ${switch_serial_dl_name}=    Set Variable    ${switch_list[2]}
    [Return]    ${switch_name}    ${switch_ip}    ${switch_serial_dl_name}
	
