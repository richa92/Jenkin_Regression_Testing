*** Settings ***
Documentation     Verifying the features of F175 and F170 


Suite Setup 		Login to Fusion Via REST
Resource		../Resources/resources.txt
Variables		../UserInputs/variables.py



*** Test Cases ***					
										
F175 Natasha Discovery
	[Documentation]			Basic Natasha discovery and management 
	#[Documentation]			Getting the Sas interconnect and validating each UID for Status, State, Power, Model and Serial Number
	[Tags]					Smoke 	F175
	[setup]			Run Keywords		
		${resp}		Fusion Api Get Resource			uri=${sas_interconnect_uri}
		Logger 		\n Validating for ${sas_interconnect_uri}
		Validate resource attribute  status_code  ${sas_interconnect_uri}  ${resp}    200
		Validate resource attribute  uri  ${sas_interconnect_uri}  ${resp}
		${length} =		Get Length			${resp['members']}
		:FOR	${x}	IN RANGE	0	${length}
		\	${resp_uri}		Get From Dictionary		${resp['members'][${x}]}		uri
		\	Logger 		\n Validating for ${resp_uri} 
		\	${resp1}		Fusion Api Get Resource			uri=${resp_uri}   
		\	Run Keyword And Continue On Failure			Validate resource attribute  status_code  ${resp_uri}  ${resp1}    200
		\	Run Keyword And Continue On Failure			Validate resource attribute  uri  ${resp_uri}  ${resp1}
		\	Run Keyword And Continue On Failure			Validate resource attribute  state  ${resp_uri}  ${resp1}    ${sas_interconnect_state}
		\   Run Keyword And Continue On Failure			Validate resource attribute  powerState  ${resp_uri}  ${resp1}  ${power_state}
		\   Run Keyword And Continue On Failure			Validate resource attribute  model   ${resp_uri}  ${resp1}  ${natasha_model}
		

F175 Natasha Discovery Regression
	[Documentation]			Natasha discovery and Checking all the parameter related to it  
	[Tags]					Regression 	F175
	[setup]			Run Keywords		
		${resp}		Fusion Api Get Resource			uri=${sas_interconnect_uri}
		Logger 		\n Validating for ${sas_interconnect_uri}
		Validate resource attribute  status_code  ${sas_interconnect_uri}  ${resp}    200
		Validate resource attribute  uri  ${sas_interconnect_uri}  ${resp}
		${length} =		Get Length			${resp['members']}
		:FOR	${x}	IN RANGE	0	${length}
		\	${resp_uri}		Get From Dictionary		${resp['members'][${x}]}		uri
		\	Logger 		\n Validating for ${resp_uri} 
		\	${resp1}		Fusion Api Get Resource			uri=${resp_uri} 
		\	Run Keyword And Continue On Failure			Validate resource attribute  status_code  ${resp_uri}  ${resp1}    200
		\	Run Keyword And Continue On Failure			Validate resource attribute  serialNumber	${resp_uri}		${resp1}  
		\	Run Keyword And Continue On Failure			Validate resource attribute  firmwareVersion	${resp_uri}		${resp1}
		\	Run Keyword And Continue On Failure		    Validate resource attribute  partNumber		${resp_uri}	  ${resp1}  
        \   Run Keyword And Continue On Failure			Validate resource attribute  enclosureName	 ${resp_uri}          ${resp1}
        \   Run Keyword And Continue On Failure			Validate resource attribute  sasWWN 	${resp_uri}          ${resp1}
		  
			
*** comments ***
Verify Hardware Discover activity for F175
	[Documentation]		Verifying Hardware Discovery
	[Tags]		Regression	F175
	[setup]			Run keywords
									Open Browser and Login
	                                Fusion UI Navigate To Activity Page
	                                
									${HardwareDiscovery} = 	SAS fusion ui is element present activity page without time		Discover hardware
*** Test cases ***									
									
F170 Big Bird Discovery
	[Documentation]			Basic Big Bird discovery and management
	#[Documentation]			Getting the Drive Enclosure and validating each URI for Status, State, Model , Product, power and No of Bays , Drives
	[Tags]					Smoke	F170
	[setup]			Run Keywords
		${resp}		Fusion Api Get Enclosures			uri=${drive_enclosure_uri}
		Logger 		\n Validating for ${drive_enclosure_uri}
		Validate resource attribute  status_code  ${drive_enclosure_uri}  ${resp}    200
		Validate resource attribute  uri  ${drive_enclosure_uri}  ${resp}
		${length} =   Get Length  ${resp['members']}
		:FOR    ${INDEX}    IN RANGE  0  ${length} 
		\       ${resp_uri} =   get from dictionary  ${resp['members'][${index}]}  uri
		\		Logger 		\n Validating for ${resp_uri}
		\       ${resp1}  Fusion Api Get Enclosures			uri=${resp_uri}   
		\		Run Keyword And Continue On Failure			Validate resource attribute  status_code  ${resp_uri}  ${resp1}    200
		\		Run Keyword And Continue On Failure			Validate resource attribute  uri  ${resp_uri}  ${resp1}
		\		Run Keyword And Continue On Failure			Validate resource attribute  state  ${resp_uri}  ${resp1}    ${drive_enclosure_state}	
		\   	Run Keyword And Continue On Failure			Validate resource attribute  productName  ${resp_uri}  ${resp1} 
		\		Run Keyword And Continue On Failure			Validate resource attribute  powerState  ${resp_uri}  ${resp1}  ${power_state}
		\   	Run Keyword And Continue On Failure			Validate resource attribute  model   ${resp_uri}  ${resp1}  ${big_Bird_model}
		
		
		
F170 Big Bird Discovery Regression
	[Documentation]			Basic Big Bird discovery and management
	[Tags]					Regression	F170
	[setup]			Run Keywords
		${resp}		Fusion Api Get Enclosures			uri=${drive_enclosure_uri}
		Logger 		\n Validating for ${drive_enclosure_uri}
		Validate resource attribute  status_code  ${drive_enclosure_uri}  ${resp}    200
		Validate resource attribute  uri  ${drive_enclosure_uri}  ${resp}
		${length} =   Get Length  ${resp['members']}
		:FOR    ${INDEX}    IN RANGE  0  ${length} 
		\       ${resp_uri} =   get from dictionary  ${resp['members'][${index}]}  uri
		\		Logger 		\n Validating for ${resp_uri}
		\       ${resp1}  Fusion Api Get Enclosures			uri=${resp_uri}   
		\		Run Keyword And Continue On Failure			Validate resource attribute  status_code  ${resp_uri}  ${resp1}    200
		\   	Run Keyword And Continue On Failure			Validate resource attribute  partNumber  ${resp_uri}  ${resp1}  
	    \   	Run Keyword And Continue On Failure       	Validate resource attribute  enclosureName   ${resp_uri}          ${resp1}
	    \   	Run Keyword And Continue On Failure    		Validate resource attribute  wwid      ${resp_uri}          ${resp1}
	    \   	Run Keyword And Continue On Failure       	Validate resource attribute  driveBayCount   ${resp_uri}          ${resp1}  
	    \		Run Keyword And Continue On Failure       	Validate resource attribute  serialNumber    ${resp_uri}          ${resp1}
	    \   	Run Keyword And Continue On Failure       	Validate resource attribute  firmwareVersion 	${resp_uri}          ${resp1}
	    \    	Run Keyword And Continue On Failure         Get IOadapter info of enclosures      ${resp['members'][${index}]['ioAdapters']}	${index}                    
	    \   	Run Keyword And Continue On Failure         Get DriveBay Info  ${resp['members'][${index}]['driveBays']}
	
		
										
										
Validate URI for Enclosures 
	[Documentation]			Getting the Enclosures URI and validating each URI as a Pre-requiste. 
	[Tags]					Smoke 
	[setup]			Run Keywords		
			${resp}		Fusion Api Get Resource			uri=${enclosure_uri}
			Logger 		\n Validating for ${enclosure_uri}
			Validate resource attribute  status_code  ${enclosure_uri}  ${resp}    200
			Validate resource attribute  uri  ${enclosure_uri}  ${resp}
			${length} =		Get Length			${resp['members']}
			:FOR	${x}	IN RANGE	0	${length}
			\	${resp_uri}		Get From Dictionary		${resp['members'][${x}]}		uri
			\	Logger 		\n Validating for ${resp_uri}
			\	${resp1}		Fusion Api Get Resource			uri=${resp_uri}   
			\		Run Keyword And Continue On Failure		Validate resource attribute  status_code  ${resp_uri}  ${resp1}    200
			\		Run Keyword And Continue On Failure		Validate resource attribute  uri  ${resp_uri}  ${resp1}
			\		Run Keyword And Continue On Failure		Validate resource attribute  state  ${resp_uri}  ${resp1}    ${enclosure_state}
			
										
										
										
										
										