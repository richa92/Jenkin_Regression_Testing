*** Settings ***
Documentation       Import Server Hardware Type For Specified Enclosure
Resource    ../resource.txt
Test Setup      Login to OneView Via REST API

Variables    ../data_variables.py

*** Variables ***
${APPLIANCE_IP}     unknown

*** Test Cases ***
Import Server Hardware Type
    Log     Request to import server hardware type for enclosure       console=${True}
    ${response} =   Fusion Api Import Server Hardware Type For Enclosure   ${enclosure_sht_import_body}    ${enclosure_sht_import_uri}
    ${actual_resp_code} =   get from dictionary     ${response}     status_code
    Run Keyword If  "${actual_resp_code}" is not '${202}'  Output Response Error Messages   ${response}
    Run Keyword If  "${actual_resp_code}" is not '${202}'  Fail    msg=Failed import server hardware type for enclosure
    Should Contain  ${response}  uri
    ${task} =   Wait For Task and Fail On Error  ${response}
