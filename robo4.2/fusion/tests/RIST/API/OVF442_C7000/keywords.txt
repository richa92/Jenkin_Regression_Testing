*** Settings ***
Library              FusionLibrary
Library              RoboGalaxyLibrary
Library              OperatingSystem
Library              BuiltIn
Library              copy
Library              Collections
Library              String
Resource             ../../../../Resources/api/fusion_api_resource.txt
Resource             ../global_variables.robot

*** Keywords ***
HA Node State Should Be OK
    [Documentation]    HA Node State Should Be OK
    [Arguments]  ${role}
    ${resp}=    Get Specified Node from HA Nodes  ROLE=${role}
    Log    Now state is: ${resp["state"]}    console=true
    Should Be Equal As Strings    ${resp["state"]}  OK

Wait For Appliance Became HA Cluster
    [Documentation]    Wait For Appliance Became HA Cluster
    [Arguments]    ${role}  ${timeout}=60m  ${interval}=10s
    Wait Until Keyword Succeeds  ${timeout}  ${interval}  HA Node State Should Be OK  ${role}

