*** Settings ***
Resource    ../resource.txt
Resource        ../../../../Resources/ui/servers/teardown.txt

Test Setup      Run Keywords        Load Test Data and Open Browser
...             AND                 Log into Fusion appliance as Administrator
Test Teardown   Logout and close all browsers
Suite Teardown	Run Keywords    Load Test Data and Open Browser
...             AND             Log into Fusion appliance as Administrator
...             AND				Remove all Server Profiles and Server Profile Templates

*** Variables ***
${SELENIUM_TIMEOUT}         5.0
${SELENIUM_IMPLICIT_WAIT}   0.0
${DataFile}         F177/Regression_data.xml
${ApplianceUrl}     https://16.114.209.223
${list_of_jbods}



*** Test Cases ***

As an Administrator I want to create an unassigned profile with Local Storage
    Fusion UI Create Server Profile		  @{TestData.unassignprofiles}
	Fusion UI verify server profile local storage info	 @{TestData.unassignprofiles}

As an Administrator I want to assign a server hardware to an unassigned profile with Local Storage
	Fusion UI Edit Server Profile		@{TestData.assignprofiles}
	Fusion UI verify server profile local storage info	 @{TestData.assignprofiles}
	Fusion Ui verify server profile zoned drive exist	@{TestData.assignprofiles}
   
As an Administrator I want to create a server profile template with Local storage
	Fusion UI Create Server profile template	@{TestData.profiletemplates}
	Fusion UI verify server profile template local storage info	@{TestData.profiletemplates}
	
As an Administrator I want to create a server profile from template with Local storage
	:FOR 	${profile}		IN		@{TestData.profile_from_templates}
	\	Fusion UI Create Server Profile from Template	${profile}
	\	Fusion UI verify server profile local storage info		${profile}
	\	Fusion Ui verify server profile zoned drive exist	  ${profile}

Power off Server profile before move
	fusion_ui_power_off_server_profile	@{TestData.profile_from_templates}

As an Administrator I want to move a server profile with Local storage
	:FOR 	${profile}		IN		@{TestData.moveprofiles}
	\	Fusion UI Edit Server profile	${profile}		
	\	Fusion UI verify Server profile Local Storage info    ${profile}	
	\	Fusion Ui verify server profile zoned drive exist	  ${profile}	
	
As an Administrator I want to delete the server profile that has been moved
	: FOR    ${profile}    IN    @{TestData.moveprofiles}
	\	${list_of_jbods}=	fusion_ui_server_profile_get_zoned_info		${profile}
	\	Fusion UI Delete Server profile		${profile}
	\	fusion_ui_verify_server_profile_zoned_drive_deleted		${list_of_jbods}

As an Administrator I want to delete server profile from template with Local storage
	: FOR    ${profile}    IN    @{TestData.profile_from_templates}
	\	${list_of_jbods}=	fusion_ui_server_profile_get_zoned_info		${profile}
	\	Fusion UI Delete Server profile		${profile}
	\	fusion_ui_verify_server_profile_zoned_drive_deleted		${list_of_jbods}
	
As an Administrator I want to create server profiles with raid mode
	:FOR 	${profile}		IN		@{TestData.profile1}
	\   Fusion UI Create Server profile		${profile}

Verify created server profiles with with raid mode
	:FOR 	${profile}		IN		@{TestData.profile1}
	\	Fusion Ui verify server profile local storage info    ${profile}
	\	Fusion Ui verify server profile zoned drive exist	  ${profile}

As an Administrator I want to create server profiles with hba mode
	:FOR 	${profile}		IN		@{TestData.profile2}
	\   Fusion UI Create Server profile		${profile}

Verify created server profiles with hba mode
	:FOR 	${profile}		IN		@{TestData.profile2}
	\	Fusion Ui verify server profile local storage info    ${profile}
	\	Fusion Ui verify server profile zoned drive exist	  ${profile}

As an Administrator I want to delete server profile with with raid mode
	: FOR    ${profile}    IN    @{TestData.profile1}
	\	${list_of_jbods}=	fusion_ui_server_profile_get_zoned_info		${profile}
	\	Fusion UI Delete Server profile		${profile}
	\	fusion_ui_verify_server_profile_zoned_drive_deleted		${list_of_jbods}
	
As an Administrator I want to delete server profilewith with hba mode
	: FOR    ${profile}    IN    @{TestData.profile2}
	\	${list_of_jbods}=	fusion_ui_server_profile_get_zoned_info		${profile}
	\	Fusion UI Delete Server profile		${profile}
	\	fusion_ui_verify_server_profile_zoned_drive_deleted		${list_of_jbods}
