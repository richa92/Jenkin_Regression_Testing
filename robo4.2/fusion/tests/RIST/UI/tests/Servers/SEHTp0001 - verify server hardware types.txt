*** Settings ***
Documentation   SEHTp0001 - verify server hardware types
Library         robot.api.logger
Resource        ../resource.txt
Test Setup      Load Multi Test Data and Open Browser
Test Teardown   Pause And Close Browser

*** Variables ***
${user}      Administrator

*** Test Cases ***
SEHTp0001 - verify server hardware types
    Fusion UI Login to Appliance    ${user}

    ${data}=                        Get Data By Xpath                           //ENCLp0017/enclosure
    ${Status}=                      Fusion UI Add Enclosure                 @{data.enclosure}
    Should Be True                  ${Status}   msg=Failed to add enclosure

    # Create server profile for the added server hardware
    ${data}=                        Get Data By Xpath                           //servers/BLServerProfiles/Create
    ${Status}=                      Fusion UI Create Server Profile         @{data.Create}
    Should be True                  ${Status}       msg=Failed to create Server Profile

    # Verify the server hardware type
    ${data}=                        Get Data By Xpath                            //servertypes/VerifyServerTypes/Gen8
    ${Status}=                      Fusion UI Verify Server Hardware Type    @{data.Gen8}
    Should Be True                  ${Status}       msg=Faild to verify server hardware type

    # Clear test data
    ${data}=                        Get Data By Xpath                            //servers/BLServerProfiles/Delete
    ${Status}=                      Fusion UI Delete Server Profile          @{data.Delete}
    Should Be True                  ${Status}       msg=Faild to delete Server Profile