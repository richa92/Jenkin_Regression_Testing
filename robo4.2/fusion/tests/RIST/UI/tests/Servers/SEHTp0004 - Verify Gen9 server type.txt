*** Settings ***
Documentation   SEHTp0004 - Verify Gen9 server type
Library         robot.api.logger
Resource        ../resource.txt
Test Setup      Load Multi Test Data and Open Browser
Test Teardown   Pause And Close Browser

*** Variables ***
${user}      Administrator

*** Test Cases ***
SEHTp0004 - Verify Gen9 server type
    Fusion UI Login to Appliance    ${user}

    # Add a DL server hardware
    ${data}=                        Get Data By Xpath                           //DLGen9ForSHT
    ${Status}=                      Fusion UI Add Server Hardware           @{data.DLGen9ForSHT}
    Should be True                  ${Status}       msg=Failed to add server sardware for management

    # Create server profile for the added server hardware
    ${data}=                        Get Data By Xpath                           //servers/DLServerProfiles/Create
    ${Status}=                      Fusion UI Create Server Profile         @{data.Create}
    Should be True                  ${Status}       msg=Failed to create server srofile

    # Verify the server hardware type
    ${data}=                        Get Data By Xpath                           //servertypes/VerifyServerTypes/Gen9
    ${Status}=                      Fusion UI Verify Server Hardware Type   @{data.Gen9}
    Should Be True                  ${Status}       msg=Faild to verify server hardware type

    # Clear test data
    ${data}=                        Get Data By Xpath                           //servers/DLServerProfiles/Delete
    ${Status}=                      Fusion UI Delete Server Profile         @{data.Delete}
    Should Be True                  ${Status}       msg=Faild to delete server srofile

    ${data}=                        Get Data By Xpath                           //DLGen9ForSHT
    ${Status}=                      Fusion UI Remove Server Hardware        @{data.DLGen9ForSHT}
    Should Be True                  ${Status}       msg=Faild to remove server hardware