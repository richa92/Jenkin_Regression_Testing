*** Settings ***
Documentation   SEHWp0004 - Validate Gen8 DL Server hardware to check power actions' availability,
...                 and check power state consistence between OneView and iLO.
Library         robot.api.logger
Resource        ../resource.txt
Test Setup      Load Test Data and Open Browser
Test Teardown	Pause And Close Browser


*** Variables ***
${user}         Administrator


*** Test Cases ***
As an Administrator I want to validate Gen 8 DL server to check power actions' availability and power state consistence between OneView and iLO
    Fusion UI Login To Appliance    ${user}

    ${rc}=                              Fusion UI Create User                   @{TestData.users}
    Should Be True                      ${rc}   msg=Failed to add users (SA and NA)

    ${rc}=                              Fusion UI Add Server Hardware           @{TestData.DLGen8ServerPower.AddServer}
    Should be True                      ${rc}   msg=Failed to add DL Gen 8 Rack Server

    ${rc}=                              Fusion UI Validate Server Power         @{TestData.DLGen8ServerPower.ValidateServerPower}
    Should be True                      ${rc}   msg=Failed to validate server power of DL Gen 8 Rack Server
