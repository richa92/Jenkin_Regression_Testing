*** Settings ***
Documentation   SEHWp0023 - Power on and off should work fine for monitored DL servers
Library         robot.api.logger
Resource        ../resource.txt
Test Setup      Load Test Data and Open Browser
Test Teardown	Pause And Close Browser


*** Variables ***
${user}         Administrator


*** Test Cases ***
As an Administrator I want to power on/off a server hardware that is in Monitored state
    Fusion UI Login To Appliance    ${user}

    ${rc}=                              Fusion UI Add Server Hardware           @{TestData.DLG6ForMonitoring}
    Should be True                      ${rc}       msg=Failed to add Server Hardware for monitoring

    :FOR    ${SERVER}   IN  @{TestData.DLG6ForMonitoring}
    \   ${rc}=  Fusion UI Power On Server Hardware By Name                      ${SERVER.name}
    \   Should be True                  ${rc}       msg=Failed to power on Server Hardware
    \   ${rc}=  Fusion UI Power Off Server Hardware By Name                     ${SERVER.name}
    \   Should be True                  ${rc}       msg=Failed to power off Server Hardware
    \   ${rc}=  Fusion UI Power On Server Hardware By Name                      ${SERVER.name}
    \   Should be True                  ${rc}       msg=Failed to power on Server Hardware
