*** Settings ***
Documentation   Copy SP to another server with shared or private volume
Library         robot.api.logger
Resource        ../resource.txt
Test Setup      Load Multi Test Data and Open Browser
Test Teardown	Pause And Close Browser


*** Variables ***
${user}         Administrator
${data_search_node}     SPBLp0017

*** Test Cases ***
SPBLp0017 - Copy SP to another server with shared or private volume
    Fusion UI Login To Appliance    ${user}
    ${data}=                                Get Data By Xpath   //${data_search_node}/profile[@volumetype='shared']
    ${rc}=                                  Fusion UI Create Server Profile           @{data.profile}
    ${data}=                                Get Data By Xpath   //${data_search_node}/copyprofile[@volumetype='shared']
    ${result}=                              Fusion UI copy Server Profile                 @{data.copyprofile}
    Should be True                          ${result}   msg=Failed to copy Server Profile with shared volume
    ${data}=                                Get Data By Xpath   //${data_search_node}/profile[@volumetype='shared']
    ${rc}=                                  Fusion UI Delete Server Profile           @{data.profile}
    ${data}=                                Get Data By Xpath   //${data_search_node}/copyprofile[@volumetype='shared']
    ${result}=                              Fusion UI Delete Server Profile                 @{data.copyprofile}
    ${data}=                                Get Data By Xpath   //${data_search_node}/profile[@volumetype='private']
    ${rc}=                                  Fusion UI Create Server Profile           @{data.profile}
    ${data}=                                Get Data By Xpath   //${data_search_node}/copyprofile[@volumetype='private']
    ${result}=                              Fusion UI copy Server Profile                 @{data.copyprofile}
    Should be True                          ${result}   msg=Failed to copy Server Profile with private volume
    ${data}=                                Get Data By Xpath   //${data_search_node}/profile[@volumetype='private']
    ${rc}=                                  Fusion UI Delete Server Profile           @{data.profile}