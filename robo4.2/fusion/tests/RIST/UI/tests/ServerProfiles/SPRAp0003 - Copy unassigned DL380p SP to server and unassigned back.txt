*** Settings ***
Documentation   SPRAp0003 - Copy unassigned DL380p SP to server and unassigned back
Library         robot.api.logger
Resource        ../resource.txt
Test Setup      Load Multi Test Data and Open Browser
Test Teardown	Pause And Close Browser


*** Variables ***
${user}         Administrator


*** Test Cases ***
As an Administrator I want to copy unassigned DL380p SP to server and unassign it back
    Fusion UI Login To Appliance        ${user}
    ${data}=                            Get Data By Xpath                       //SPRAp0003/server
    ${rc}=                              Fusion UI Add Server Hardware           @{data.server}
    Should be True                      ${rc}                                   msg=Failed to add Server Hardware

    ${data}=                            Get Data By Xpath                       //SPRAp0003/Create/profile
    ${rc}=                              Fusion UI Create Server Profile         @{data.profile}
    Should be True                      ${rc}                                   msg=Failed to create Server Profile

    ${data}=                            Get Data By Xpath                       //SPRAp0003/Copy/profile
    ${rc}=                              Fusion UI Copy Server Profile           @{data.profile}
    Should be True                      ${rc}                                   msg=Failed to copy Server Profile

    ${data}=                            Get Data By Xpath                       //SPRAp0003/Edit/profile
    ${rc}=                              Fusion UI Edit Server Profile           @{data.profile}
    Should be True                      ${rc}                                   msg=Failed to edit Server Profile

    ${data}=                            Get Data By Xpath                       //SPRAp0003/deleteprofile
    Fusion UI Delete Server Profile     @{data.deleteprofile}
