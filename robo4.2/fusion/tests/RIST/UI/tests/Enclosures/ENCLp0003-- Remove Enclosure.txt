*** Settings ***
Documentation   ENCLp0003-- Remove Enclosure
Library         robot.api.logger
Resource        ../resource.txt
Test Setup      Load Multi Test Data and Open Browser
Test Teardown	Pause And Close Browser


*** Variables ***
${user}         Administrator


*** Test Cases ***
As an Server Administrator I can remove enclosure and cannot remove enclosure when server profile exist
    Fusion UI Login To Appliance    ${user}
    ${data}=                            Get Data By Xpath   //ENCLp0003/enclosure
    ${data1}=                           Get Data By Xpath   //ENCLp0003/profile
    ${rc}=                              Fusion UI Add Enclosure           @{data.enclosure}
    ${rc}=                              Fusion UI Create Server Profile           @{data1.profile}
    ${rc}=                              Fusion UI Can Not Delete Enclosure           @{data.enclosure}
    Should Be True      ${rc}   Failed to cannot remove enclosure
    ${rc}=                              Fusion UI Delete Server Profile           @{data1.profile}
    ${rc}=                              Fusion UI Remove Enclosure           @{data.enclosure}
    Should Be True      ${rc}   Failed to remove enclosure

