*** Settings ***
Documentation    Edit Server Profile For Local Storage (Subset For Regression): TC19.2.6
Resource         ../resource.txt
Library          Collections
Library          OperatingSystem	
Test Setup       Load Test Data and Open Browser
Test Teardown    Pause And Close Browser
Force Tags       1.10

***Variables***
${SA}            SA
${DOTSSH}        %{USERPROFILE}/.ssh

*** Test Cases ***
As an SA I want to edit my profile with RAID1 and Init Disk
    Fusion UI Log Into Appliance    ${SA}
    Fusion UI Power Off Server Profile    @{TestData.editprofiles_raid1_init_2disk}
    ${status}=      Fusion UI Edit Server Profile    @{TestData.editprofiles_raid1_init_2disk}
    Should Be True	${status}    msg=Failed edit server profile
    ${status}=      Fusion UI Power On Server Profile    @{TestData.editprofiles_raid1_init_2disk}
    Should Be True	${status}    msg=Failed power on server profile
    
    # Following code block requires a clean .ssh directory
    Move Directory    ${DOTSSH}    ${DOTSSH}.bak
    Wait for Controller Init    @{TestData.editprofiles_ilo_2disk}
    iLO Check Local RAID Configuration    @{TestData.editprofiles_ilo_2disk}    RAID 1/RAID 1+0    2
    Move Directory    ${DOTSSH}.bak    ${DOTSSH}

    ${status}=      Fusion UI Power Off Server Profile    @{TestData.editprofiles_raid1_init_2disk}
    Should Be True	${status}    msg=Failed power off server profile

    
As an SA I want to edit my profile with RAID0 and Init Disk
    Fusion UI Log Into Appliance    ${SA}
    Fusion UI Power Off Server Profile    @{TestData.editprofiles_raid0_init_1disk} 
    ${status}=      Fusion UI Edit Server Profile    @{TestData.editprofiles_raid0_init_1disk}
    Should Be True	${status}    msg=Failed edit server profile
    ${status}=      Fusion UI Power On Server Profile    @{TestData.editprofiles_raid0_init_1disk}
    Should Be True	${status}    msg=Failed power on server profile

    # Following code block requires a clean .ssh directory
    Move Directory    ${DOTSSH}    ${DOTSSH}.bak
    Wait for Controller Init    @{TestData.editprofiles_ilo_1disk}
    iLO Check Local RAID Configuration    @{TestData.editprofiles_ilo_1disk}    RAID 0    1
    Move Directory    ${DOTSSH}.bak    ${DOTSSH}

    ${status}=      Fusion UI Power Off Server Profile    @{TestData.editprofiles_raid0_init_1disk}
    Should Be True	${status}    msg=Failed power off server profile
    
    
