*** Settings ***
Documentation     Generate variable file from Onview.
...               = Usage =
...               cmdline: pybot -d ../logs  --timestampoutputs -t <target test case> <target test file>
...               Example - Generate variable file off a pre-configured OneView:
...                       pybot -vRESOURCELIST:"timeandlocale licenses appliance ipv4_subnet ipv4_ranges ranges deployment_server users san_managers ethernet_networks fc_networks fcoe_networks networksets storage_systems_with_pools storage_pools_toedit storage_volume_templates storage_volumes sas_lig ligs encgroups_add logical_enclosure server_profile_templates server_profiles_from_spt server_profiles server_profile_with_storage enclosures servers" -vVARIABLE_FILENAME:../resources/OVdot158.py -vSRC_OVIP:15.186.21.246 -tTC1* example-using-variable-file-2.txt
Resource          ../resources/resource.txt


*** Variables ***
# @{dataResourceNames}  timeandlocale licenses appliance users san_managers ethernet_networks fc_networks fcoenets networksets storage_systems_with_pools storage_pools_toedit storage_volume_templates storage_volumes sas_lig ligs encgroups_add logical_enclosure server_profile_templates server_profiles_from_spt server_profiles server_profile_with_storage enclosures servers
${VARIABLE_FILENAME}  C:/RoboGalaxy/Delhi/13Mar2017/fusion/tests/RIST/OVST/Build-Data-From-OV/resources/tbird_dcs_data.py
${SRC_OVIP}           16.114.219.58
${RESOURCELIST}       timeandlocale licenses appliance ipv4_subnet ipv4_ranges ranges deployment_server users san_managers ethernet_networks fc_networks fcoe_networks networksets storage_systems_with_pools storage_pools_toedit storage_volume_templates storage_volumes sas_lig ligs encgroups_add logical_enclosure server_profile_templates server_profiles_from_spt server_profiles server_profile_with_storage enclosures servers

*** Test Cases ***
TC1--Generate Variable File Off OneView Config
    [Documentation]   Generate variable file off OV config
    Set Test Variable   ${OV_IP}   ${SRC_OVIP}
    Run Keyword If    '${userName}' != 'None' and '${password}' != 'None'   run keywords
    ...    Set To dictionary   ${admin_credentials}    userName    ${userName}    password    ${password}
    ...    AND    Login to OneView Via REST         admin_credentials=${admin_credentials}
    ...    ELSE    Login to OneView Via REST
    ${RESOURCELIST} =   Run Keyword If   "${RESOURCELIST}" != "${null}"   Split String   ${RESOURCELIST}   ${SPACE}
    ...                              ELSE   Set Variable   ${RESOURCELIST}
    Run Keyword If   "${RESOURCELIST}" != "${null}"   Create Variable File   ${VARIABLE_FILENAME}   ResourcesList=${RESOURCELIST}   CIFIT_TYPE_CONV=${CIFIT_TYPE_CONV}
    ...         ELSE   Create Variable File   ${VARIABLE_FILENAME}  CIFIT_TYPE_CONV=${CIFIT_TYPE_CONV}
