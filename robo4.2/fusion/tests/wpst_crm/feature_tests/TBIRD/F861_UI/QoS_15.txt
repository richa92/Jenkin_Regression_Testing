*** Settings ***
Documentation    Feature Test: QoS_3
Resource   OVAConfig.txt
#Force Tags     Buildup
Suite Setup    Load Test Data and Open Browser
Suite Teardown    Logout And Close All Browsers
Library            Dialogs
Library    String

*** Test Cases ***

01 Log into fusion as Administrator
    [Documentation]    Log in to Appliance
    Log To Console    *********Log into Appliance as Administrator****************
    ${user} =    Get Data By Property    ${TestData.users}    name    Administrator
    fusion_ui_login_to_appliance    ${user[0].name}
    Log to Console    Successfully logged in as Administrator
    fusion_ui_delete_all_appliance_logical_enclosures
    Fusion UI Remove All Enclosure Groups
    Fusion UI Remove All Logical Interconnect Groups

02 CREATING LIG
    ${Status1}=    fusion_ui_create_tbird_logical_interconnect_group     @{TestData.ligs_traffic}
    Log to Console  ${Status1}
    Run Keyword If  '${Status1}' == 'True'  Log to Console  LIG CREATED SUCCESSFULLY    ELSE    fail

03. CREATING ENCLOSURE GROUP
    ${Status1}=   fusion_ui_create_tbird_enclosure_group    @{TestData.encgroups_tbird}
    Log to Console  ${Status1}
    Run Keyword If  '${Status1}' == 'True'  Log to Console  EG CREATED SUCCESSFULLY ELSE    Fail

04. CREATE LE
    ${Status1}=   fusion_ui_create_tbird_logical_enclosure  @{TestData.les}
    Log to Console  ${Status1}
    Run Keyword If  '${Status1}' == 'True'  Log to Console  LE CREATED SUCCESSFULLY ELSE    Fail

05.VERIFYING MAXSHARE IN LIG and Li
    ${count}=   Get Length         ${TestData.ligshormx2}
    :FOR    ${index}    IN RANGE    0     ${count}
    \    ${Status1}=    fusion_ui_validate_qos_configuration    ${TestData.ligshormx2[${index}]}
    \    log to console  \nThe Validation Message is ${Status1}
    \    Run Keyword If  '${Status1}' == 'True'    Log to Console   VERIFIED FEILDVALUES FOR MAXSHARE SUCCESSFULLY IN LIG    ELSE    fail
    log to console  VERIFYING DISABLED CLASS IN LIG
    ${Status}=    fusion_ui_validate_qos_configuration         @{TestData.lig_15}
    Run Keyword If  '${Status}' == 'True'   Log to Console  VERIFIED DISABLED CLASS SUCCESSFULLY IN LIG ELSE    fail
    log to console  VERIFYING MAXSHARE IN LI
    ${count}=   Get Length         ${TestData.lishormx2}
    :FOR    ${index}    IN RANGE    0     ${count}
    \    ${Status1}=    fusion_ui_validate_qos_configuration_in_li  ${TestData.lishormx2[${index}]}
    \    log to console  \nThe Validation Message is ${Status1}
    \    Run Keyword If  '${Status1}' == 'True'    Log to Console   VERIFIED FEILDVALUES FOR MAXSHARE SUCCESSFULLY IN LI    ELSE    fail
    log to console  VERIFYING DISABLED CLASS IN LI
    ${Status} =    fusion_ui_validate_qos_configuration_in_li   @{TestData.Li_15}
    Log to Console  ${Status}
    Run Keyword If  '${Status}' == 'True'   Log to Console  VERIFIED DISABLED CLASS SUCCESSFULLY IN LI  ELSE    fail
    log to console  Verifying values of all the enabled classes should be unique in LI 

07. CLEANUP
    fusion_ui_delete_all_appliance_logical_enclosures
    Fusion UI Remove All Enclosure Groups
    Fusion UI Remove All Logical Interconnect Groups