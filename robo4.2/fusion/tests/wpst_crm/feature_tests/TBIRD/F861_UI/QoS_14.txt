*** Settings ***
Documentation    Feature Test: QoS_14
Resource   OVAConfig.txt
#Force Tags     Buildup
Suite Setup    Load Test Data and Open Browser
Suite Teardown    Logout And Close All Browsers
Library            Dialogs
Library    String
Library    RoboGalaxyLibrary
Library    BuiltIn

*** Test Cases ***

01 Log into fusion as Administrator
    [Documentation]    Log in to Appliance
    Log To Console    *********Log into Appliance as Administrator****************
    ${user} =    Get Data By Property    ${TestData.users}    name    Administrator
    fusion_ui_login_to_appliance    ${user[0].name}
    Log to Console    Successfully logged in as Administrator
    fusion_ui_delete_all_appliance_logical_enclosures
    Fusion UI Remove All Enclosure Groups
    Fusion UI Remove All Logical Interconnect Groups
    Log to Console  INITIAL CLEANUP SUCCESSFUL

02 CREATING LIG
    ${Status1}=    fusion_ui_create_tbird_logical_interconnect_group     @{TestData.ligs_traffic}
    Log to Console  ${Status1}
    Run Keyword If  '${Status1}' == 'True'  Log to Console  LIG CREATED SUCCESSFULLY    ELSE    fail

03. CREATING ENCLOSURE GROUP
    ${Status1}=   fusion_ui_create_tbird_enclosure_group    @{TestData.encgroups_tbird}
    Log to Console  ${Status1}
    Run Keyword If  '${Status1}' == 'True'  Log to Console  EG CREATED SUCCESSFULLY ELSE    Fail

04. CREATE LE
    ${Status1}=   fusion_ui_create_tbird_logical_enclosure  @{TestData.les}
    Log to Console  ${Status1}
    Run Keyword If  '${Status1}' == 'True'  Log to Console  LE CREATED SUCCESSFULLY ELSE    Fail

05.VERIFYING MAXSHARE IN LIG
    ${count}=   Get Length         ${TestData.ligshormx}
    :FOR    ${index}    IN RANGE    0     ${count}
    \    ${Status1}=    fusion_ui_validate_qos_configuration    ${TestData.ligshormx[${index}]}
    \    log to console  \nThe Validation Message is ${Status1}
    \    log to console  \nThe Validation Message is ${TestData.errormsgs[${index}].value}
    \    Run Keyword If  '${Status1}' == 'True'    Log to Console   VERIFIED FEILDVALUES FOR MAXSHARE SUCCESSFULLY IN LIG   ELSE    fail

06.VERIFYING DISABLED CLASS IN LIG
    ${Status}=    fusion_ui_validate_qos_configuration    @{TestData.ligc14}
    Run Keyword If  '${Status}' == 'True'   Log to Console  VERIFIED DISABLED CLASS SUCCESSFULLY IN LIG ELSE    fail

07.VERIFYING MAXSHARE IN LI
    ${count}=   Get Length         ${TestData.lishormx}
    :FOR    ${index}    IN RANGE    0     ${count}
    \    ${Status1}=    fusion_ui_validate_qos_configuration_in_li  ${TestData.lishormx[${index}]}
    \    log to console  \nThe Validation Message is ${Status1}
    \    log to console  \nThe Validation Message is ${TestData.errormsgs[${index}].value}
    \    Run Keyword If  '${Status1}' == 'True'    Log to Console   VERIFIED FEILDVALUES FOR MAXSHARE SUCCESSFULLY IN LI    ELSE    fail

08.VERIFYING DISABLED CLASS IN LI
    ${Status}=    fusion_ui_validate_qos_configuration_in_li   @{TestData.Li14}
    Log to Console  ${Status}
    Run Keyword If  '${Status}' == 'True'   Log to Console  VERIFIED DISABLED CLASS SUCCESSFULLY IN LI  ELSE    fail

09. CLEANUP
    Fusion UI Remove All Enclosures
    Fusion UI Remove All Enclosure Groups
    Fusion UI Remove All Logical Interconnect Groups

