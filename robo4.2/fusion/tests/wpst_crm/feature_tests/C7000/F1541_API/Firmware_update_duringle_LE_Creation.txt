*** Settings ***
Documentation		Feature test: Firmware update F1541 of RPM support in FW update for All VC modules Module
...					on Enclosure G3,G2 G1
Variables			data_variables.py
# Resource			../../resources/resource.txt
Resource            ../../../../resource/fusion_api_all_resource_files.txt
Library				Collections
Library				String
Library				json
Library				OperatingSystem
Library				SSHLibrary
Library		        Selenium2Library
Library             Validation_c7k_firmware_version

*** Variables ***
${SSH_PASS}          		hpvse1
${APPLIANCE_IP}				10.10.5.139
${X-API-VERSION}			500
@{LI_FC_INTERCONNECTS}=    ${ICM_NAME5}
...                             ${ICM_NAME6}

@{LI_1010D_VC_INTERCONNECTS}=    ${ICM_NAME1}
...                              ${ICM_NAME2}

@{LI_OCHO_VC_INTERCONNECTS}=           ${ICM_NAME7}
...                               ${ICM_NAME8}


@{LI_SUPERSHAW_INTERCONNECTS}=       ${ICM_NAME3}
...                                  ${ICM_NAME4}


@{LI_ALL_VC_INTERCONNECTS}=      ${ICM_NAME1}
...                              ${ICM_NAME2}
...                              ${ICM_NAME3}
...                              ${ICM_NAME4}
...                              ${ICM_NAME5}
...                              ${ICM_NAME6}
...                              ${ICM_NAME7}
...                              ${ICM_NAME8}


*** Test Cases ***

		######  Importing Enclosure with firmware and with force flag #######################

TC01 Verify the FW Update operation (Stage + Activate) from scexes to RPM firmware version during LE creation with force flag (Downgrade)
    [Documentation]      "Verify the FW Update operation (Stage + Activate) from scexes to RPM firmware version during LE creation with force flag (Downgrade)"	
    Log to Console       Testcase_ID: F1541_API_40  --> Verify the FW Update operation (Stage + Activate) from scexes to RPM firmware version during LE creation with force flag (Downgrade)

	Fusion Api Login Appliance        ${APPLIANCE_IP}      ${admin_credentials}
	
#	${del_resp}=    fusion_api_delete_alert    /rest/alerts
#	Log    ${del_resp}
	############Remove Enclosure #######   
    ${encs} =     Fusion Api Get Enclosures
	${resp}     fusion API Remove Enclosure     uri=${encs['members'][0]['uri']}
	${task} =    Wait For Task    ${resp}    85min    1s


    LE Creation By Add Enclosures from variable   ${encs_f1541_new_downgrade}

   ######## Verify the ALERTS  Apeared on the interconnect and LI page #########################

    ${alerts} =    fusion_api_get_alerts    /rest/alerts

    : FOR    ${BICM_NAME}    IN    @{LI_FC_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${ICM_Alert1_stg_str_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_stg_succ_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${ICM_Alert1_act_star_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${ICM_Alert1_act_succ_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen


   : FOR    ${BICM_NAME}    IN    @{LI_OCHO_VC_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${ICM_Alert1_act_OCHO_succ_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_act_OCHO_succ_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${ICM_Alert1_act_OCHO_succ_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${ICM_Alert1_act_OCHO_succ_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen



    : FOR    ${BICM_NAME}    IN    @{LI_1010D_VC_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${ICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${ICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${ICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen


    : FOR    ${BICM_NAME}    IN    @{LI_SUPERSHAW_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${ICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${ICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${ICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen


    ###### Validates the firmware alert messages on Logical Interconnects ##########
	${UPDATE_STARTED}      Catenate      ${LI_UPADTE_STARTED}     ${LI_NAME}
    Log to Console     ${UPDATE_STARTED}
    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${UPDATE_STARTED}  Expected Error Message Not seen
	
    ${UPDATE_SUCCESS}      Catenate      ${LI_UPDATE_SUCCESS}     ${LI_NAME}
	Log to Console     ${UPDATE_SUCCESS}
	Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${UPDATE_SUCCESS}    Expected Error Message Not seen
	

    Fusion Api Logout Appliance




TC02 Verify the FW Update operation (Stage + Activate) from scexes to RPM firmware version during LE creation without force flag (upgrade)
    [Documentation]    " Verify the FW Update operation (Stage + Activate) from scexes to RPM firmware version during LE creation without force flag (upgrade)"	
    Log to Console    Testcase_ID: F1451_API_41  --> Verify the behavior of  alert message when try to set firmware baseline which is same as currently installed version and  check the force installation option in  firmware update operation on LI page
#    [Tags]  14	
	Fusion Api Login Appliance 		${APPLIANCE_IP}		${admin_credentials}
#    ${del_resp}=    fusion_api_delete_alert    /rest/alerts
#    Log    ${del_resp}
    ${encs} =     Fusion Api Get Enclosures
	${resp}     fusion API Remove Enclosure     uri=${encs['members'][0]['uri']}
	${task} =    Wait For Task    ${resp}    85 min    1s

    LE Creation By Add Enclosures from variable   ${encs_f1541_new_upgrade_rpm}

    Fusion Api Logout Appliance
        
    ######  Importing Enclosure with firmware and without force flag (upgrade tests#######################

TC03 Verify the FW Update operation (Stage + Activate) from RPM to scexes firmware version during LE creation with force flag (Downgrade)
    [Documentation]     "Verify the FW Update operation (Stage + Activate) from RPM to scexes firmware version during LE creation with force flag (Downgrade)"	
    Log to Console      Testcase_ID: F1451_API_43 Verify the FW Update operation (Stage + Activate) from RPM to scexes firmware version during LE creation with force flag (Downgrade)	

    Fusion Api Login Appliance 		${APPLIANCE_IP}		${admin_credentials}
	
#	${del_resp}=    fusion_api_delete_alert    /rest/alerts
#	Log    ${del_resp}

     ${encs} =     Fusion Api Get Enclosures
	${resp}     fusion API Remove Enclosure     uri=${encs['members'][0]['uri']}
	${task} =    Wait For Task    ${resp}    85 min    1s

    LE Creation By Add Enclosures from variable   ${encs_f1541_new_downgrade_scexe}

    Fusion Api Logout Appliance

TC04 Verify the FW Update operation (Stage + Activate) from scexes to scexes firmware version during LE creation with force flag (same version)
    [Documentation]     "Verify the FW Update operation (Stage + Activate) from scexes to scexes firmware version during LE creation with force flag (same version)"	
    Log to Console      Testcase_ID: F1451_API_42 Verify the FW Update operation (Stage + Activate) from scexes to scexes firmware version during LE creation with force flag (same version)

    Fusion Api Login Appliance 		${APPLIANCE_IP}		${admin_credentials}
	
#	${del_resp}=    fusion_api_delete_alert    /rest/alerts
#	Log    ${del_resp}
    ${encs} =     Fusion Api Get Enclosures
	${resp}     fusion API Remove Enclosure     uri=${encs['members'][0]['uri']}
	${task} =    Wait For Task    ${resp}    85 min    1s


    LE Creation By Add Enclosures from variable   ${encs_f1541_new_downgrade_same_version_scexe}

TC05 Verify the FW Update operation (Stage + Activate) from RPM to RPM firmware version during LE creation without force flag (upgrade)
    [Documentation]     "Verify the FW Update operation (Stage + Activate) from RPM to RPM firmware version during LE creation without force flag (upgrade)"	
    Log to Console      Testcase_ID: F1451_API_45 Verify the FW Update operation (Stage + Activate) from RPM to RPM firmware version during LE creation without force flag (upgrade)

    Fusion Api Login Appliance 		${APPLIANCE_IP}		${admin_credentials}
	
#	${del_resp}=    fusion_api_delete_alert    /rest/alerts
#	Log    ${del_resp}
    ${encs} =     Fusion Api Get Enclosures
	${resp}     fusion API Remove Enclosure     uri=${encs['members'][0]['uri']}
	${task} =    Wait For Task    ${resp}    85 min    1s


    LE Creation By Add Enclosures from variable   ${encs_f1541_new_upgrade_scexe_rpm}

    ${encs} =     Fusion Api Get Enclosures
	${resp}     fusion API Remove Enclosure     uri=${encs['members'][0]['uri']}
	${task} =    Wait For Task    ${resp}    85 min    1s

    LE Creation By Add Enclosures from variable   ${encs_f1541_new_upgrade_rpm_rpm}

TC06 Verify the FW Update operation (Stage + Activate) from RPM to RPM firmware version during LE creation with force flag (Downgrade)
    [Documentation]     "Verify the FW Update operation (Stage + Activate) from RPM to RPM firmware version during LE creation with force flag (Downgrade)"	
    Log to Console      Testcase_ID: F1451_API_46 Verify the FW Update operation (Stage + Activate) from RPM to RPM firmware version during LE creation with force flag (Downgrade)

    Fusion Api Login Appliance 		${APPLIANCE_IP}		${admin_credentials}
	
#	${del_resp}=    fusion_api_delete_alert    /rest/alerts
#	Log    ${del_resp}
    ${encs} =     Fusion Api Get Enclosures
	${resp}     fusion API Remove Enclosure     uri=${encs['members'][0]['uri']}
	${task} =    Wait For Task    ${resp}    85 min    1s


    LE Creation By Add Enclosures from variable   ${encs_f1541_new_downgrade_rpm_rpm}

TC07 Verify the FW Update operation (Stage + Activate) from RPM to scexes firmware version during LE creation without force flag (upgrade))
    [Documentation]     "Verify the FW Update operation (Stage + Activate) from RPM to scexes firmware version during LE creation without force flag (upgrade)"	
    Log to Console      Testcase_ID: F1451_API_44 Verify the FW Update operation (Stage + Activate) from RPM to scexes firmware version during LE creation without force flag (upgrade)

    Fusion Api Login Appliance 		${APPLIANCE_IP}		${admin_credentials}
	
#	${del_resp}=    fusion_api_delete_alert    /rest/alerts
#	Log    ${del_resp}
    ${encs} =     Fusion Api Get Enclosures
	${resp}     fusion API Remove Enclosure     uri=${encs['members'][0]['uri']}
	${task} =    Wait For Task    ${resp}    999s   1s


    LE Creation By Add Enclosures from variable   ${encs_f1541_new_upgrade_rpm_scexes}


    
*** Keywords ***

FIRMWARE_VERSION_VALIDATION_WITH_ICMS_AND_ONEVIEW
#    [Arguments]    ${LI_ALL_VC_INTERCONNECTS}
	######## Validation of  firmware versions #######################
	${resp} =   fusion api get interconnect
    ${ics} =     Get From Dictionary     ${resp}    members
    ${l} =      Get Length  ${ics}
    ${icm_list} =    Create List
    :FOR  ${x}  IN RANGE    0     ${l}
    \    ${ic} =     Get From List   ${ics}    ${x}
     \    ${ic_name} =     Get from IC    ${ic}    name
    \    ${ic_bay_number} =    Split String   ${ic_name}   ","
	\    ${ic_bay_number} =     Get From List    ${ic_bay_number}    0
	\    ${ic_bay_number} =     Get From List    ${ic_bay_number}    25
	\    ${firmwareVersion} =     Get From IC    ${ic}   firmwareVersion
	\    ${firmwareVersion_upgrade} =      verify_c7k_ic_version    ${ic_bay_number}    ${IP}
	\    ${version}=    Should Contain    ${firmwareVersion}    ${firmwareVersion_upgrade}
    \    Should Be Equal As Strings    ${firmwareVersion}     ${firmwareVersion_upgrade}
	\    Log to Console    Validated the firmvare version 
	\    Log to Console    ${ic_name}
	\    ${icstate} =     Get From IC    ${ic}   state
	\    Should Be Equal As Strings    ${icstate}		Configured
	\    Log to Console    Validated the ICstate for 
	\    Log to Console    ${ic_name}
		

IC_STATE_VALIDATION_AFTER_FIRMWARE_UPDATE
#    [Arguments]     ${LI_ALL_VC_INTERCONNECTS}

	${resp} =   fusion api get interconnect
#    Log To Console          ${resp}
    ${ics} =     Get From Dictionary     ${resp}    members
    ${l} =      Get Length    ${ics}
    ${icm_list} =    Create List
    :FOR  ${x}  IN RANGE    0     ${l}
    \    ${ic} =     Get From List   ${ics}    ${x}
     \    ${ic_name} =     Get from IC    ${ic}    name

	\    ${ic} =     Get IC        ${ic_name}
	\    ${icstate} =     Get From IC    ${ic}   state
	\    Should Be Equal As Strings    ${icstate}     Configured
	\    Log to Console    Validated the Interconnect  state of ${ic_name}
	\    Log to Console    and its state is ${icstate}



ALERTS_VALIDATION_FOR_STAGING_ACTIVATION_UPGARDE
    [Arguments]        ${LI_FC_INTERCONNECTS}    ${LI_OCHO_VC_INTERCONNECTS}   ${LI_SUPERSHAW_INTERCONNECTS}    ${LI_1010D_VC_INTERCONNECTS}   ${HICM_Alert1_stg_str_end}     ${HICM_Alert1_stg_star_1010D_end}    ${HICM_Alert1_stg_succ_end}   ${HICM_Alert1_act_OCHO_succ_end}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_stg_star}    ${HICM_Alert1_stg_star_1010D_end}    ${LI_UPADTE_STARTED}    ${LI_UPDATE_SUCCESS}    ${LI_NAME}   ${HICM_Alert1_stg_star_2_end}   ${LI_STAGING_STARTED}     ${LI_NAME}    ${LI_STAGING_SUCCESS}    ${LI_ACTIVATION_STARTED}    ${LI_ACTIVATION_SUCCESS}

    ${alerts} =    fusion_api_get_alerts    /rest/alerts
	${LI_NAME}=    Get Li Name
    : FOR    ${BICM_NAME}    IN    @{LI_FC_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${HICM_Alert1_stg_str_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${HICM_Alert1_stg_succ_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${HICM_Alert1_act_star_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${HICM_Alert1_act_succ_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen



#    : FOR    ${BICM_NAME}    IN    @{LI_OCHO_VC_INTERCONNECTS}
#    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${HICM_Alert1_act_OCHO_succ_end}
#    \    Log to Console    ${Al_stg_str}

#    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


#    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${HICM_Alert1_act_OCHO_succ_end}
#    \    Log to Console    ${Al_stg_suc}
#    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


#    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${HICM_Alert1_act_OCHO_succ_end}
#    \    Log to Console    ${Al_act_str}
#    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

#    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${HICM_Alert1_act_OCHO_succ_end}
#    \    Log to Console    ${Al_act_succ}
#    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen



    : FOR    ${BICM_NAME}    IN    @{LI_1010D_VC_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${HICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${HICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${HICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${HICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen


    : FOR    ${BICM_NAME}    IN    @{LI_SUPERSHAW_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${HICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${HICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${HICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${HICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen

    ###### Validates the firmware alert messages on Logical Interconnects ##########
	
	${STAGING_STARTED}      Catenate      ${LI_STAGING_STARTED}     ${LI_NAME}
	Log to Console     ${STAGING_STARTED}
	Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${STAGING_STARTED}    Expected Error Message Not seen	

	${STAGING_SUCCESS}      Catenate      ${LI_STAGING_SUCCESS}     ${LI_NAME}
	Log to Console     ${STAGING_SUCCESS}
	Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${STAGING_SUCCESS}    Expected Error Message Not seen

	${ACTIVATION_STARTED}      Catenate      ${LI_ACTIVATION_STARTED}     ${LI_NAME}
	Log to Console     ${ACTIVATION_STARTED}
	Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${ACTIVATION_STARTED}    Expected Error Message Not seen
	
	${ACTIVATION_SUCCESS}      Catenate      ${LI_ACTIVATION_SUCCESS}     ${LI_NAME}
	Log to Console     ${ACTIVATION_SUCCESS}
	Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${ACTIVATION_SUCCESS}    Expected Error Message Not seen

ALERTS_VALIDATION_FOR_UPDATE_UPGARDE
    [Arguments]        ${LI_FC_INTERCONNECTS}    ${LI_OCHO_VC_INTERCONNECTS}   ${LI_SUPERSHAW_INTERCONNECTS}    ${LI_1010D_VC_INTERCONNECTS}   ${HICM_Alert1_stg_str_end}     ${HICM_Alert1_stg_star_1010D_end}    ${HICM_Alert1_stg_succ_end}   ${HICM_Alert1_act_OCHO_succ_end}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_stg_star}    ${HICM_Alert1_stg_star_1010D_end}    ${LI_UPADTE_STARTED}    ${LI_UPDATE_SUCCESS}    ${LI_NAME}   ${HICM_Alert1_stg_star_2_end}   ${LI_STAGING_STARTED}     ${LI_NAME}    ${LI_STAGING_SUCCESS}    ${LI_ACTIVATION_STARTED}    ${LI_ACTIVATION_SUCCESS}

    ${alerts} =    fusion_api_get_alerts    /rest/alerts
    ${LI_NAME}=    Get Li Name
    : FOR    ${BICM_NAME}    IN    @{LI_FC_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${HICM_Alert1_stg_str_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${HICM_Alert1_stg_succ_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${HICM_Alert1_act_star_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${HICM_Alert1_act_succ_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen



#    : FOR    ${BICM_NAME}    IN    @{LI_OCHO_VC_INTERCONNECTS}
#    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${HICM_Alert1_act_OCHO_succ_end}
#    \    Log to Console    ${Al_stg_str}

#    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


#    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${HICM_Alert1_act_OCHO_succ_end}
#    \    Log to Console    ${Al_stg_suc}
#    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


#    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${HICM_Alert1_act_OCHO_succ_end}
#    \    Log to Console    ${Al_act_str}
#    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

#    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${HICM_Alert1_act_OCHO_succ_end}
#    \    Log to Console    ${Al_act_succ}
#    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen



    : FOR    ${BICM_NAME}    IN    @{LI_1010D_VC_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${HICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${HICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${HICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${HICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen


    : FOR    ${BICM_NAME}    IN    @{LI_SUPERSHAW_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${HICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${HICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${HICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${HICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen

    ###### Validates the firmware alert messages on Logical Interconnects ##########

	${alerts} =    fusion_api_get_alerts    /rest/alerts
    ${UPDATE_STARTED}      Catenate      ${LI_UPADTE_STARTED}     ${LI_NAME}
    Log to Console     ${UPDATE_STARTED}
    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${UPDATE_STARTED}  Expected Error Message Not seen
	
    ${UPDATE_SUCCESS}      Catenate      ${LI_UPDATE_SUCCESS}     ${LI_NAME}
    Log to Console     ${UPDATE_SUCCESS}
    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${UPDATE_SUCCESS}    Expected Error Message Not seen
	
	
	
ALERTS_VALIDATION_FOR_STAGING_ACTIVATION_DOWNGARDE
    [Arguments]        ${LI_FC_INTERCONNECTS}    ${LI_OCHO_VC_INTERCONNECTS}   ${LI_SUPERSHAW_INTERCONNECTS}    ${LI_1010D_VC_INTERCONNECTS}   ${ICM_Alert1_stg_str_end}     ${ICM_Alert1_stg_star_1010D_end}    ${ICM_Alert1_stg_succ_end}   ${ICM_Alert1_act_OCHO_succ_end}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_stg_star}    ${ICM_Alert1_stg_star_1010D_end}    ${LI_UPADTE_STARTED}    ${LI_UPDATE_SUCCESS}    ${LI_NAME}   ${ICM_Alert1_stg_star_2_end}   ${LI_STAGING_STARTED}     ${LI_NAME}    ${LI_STAGING_SUCCESS}    ${LI_ACTIVATION_STARTED}    ${LI_ACTIVATION_SUCCESS}

    ${alerts} =    fusion_api_get_alerts    /rest/alerts
	${LI_NAME}=    Get Li Name
    : FOR    ${BICM_NAME}    IN    @{LI_FC_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${ICM_Alert1_stg_str_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_stg_succ_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${ICM_Alert1_act_star_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${ICM_Alert1_act_succ_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen



    : FOR    ${BICM_NAME}    IN    @{LI_OCHO_VC_INTERCONNECTS}
    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${ICM_Alert1_act_OCHO_succ_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_act_OCHO_succ_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${ICM_Alert1_act_OCHO_succ_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${ICM_Alert1_act_OCHO_succ_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen



    : FOR    ${BICM_NAME}    IN    @{LI_1010D_VC_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${ICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${ICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${ICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen


    : FOR    ${BICM_NAME}    IN    @{LI_SUPERSHAW_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${ICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${ICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${ICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen

    ###### Validates the firmware alert messages on Logical Interconnects ##########
	
	${STAGING_STARTED}      Catenate      ${LI_STAGING_STARTED}     ${LI_NAME}
	Log to Console     ${STAGING_STARTED}
	Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${STAGING_STARTED}    Expected Error Message Not seen	

	${STAGING_SUCCESS}      Catenate      ${LI_STAGING_SUCCESS}     ${LI_NAME}
	Log to Console     ${STAGING_SUCCESS}
	Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${STAGING_SUCCESS}    Expected Error Message Not seen

	${ACTIVATION_STARTED}      Catenate      ${LI_ACTIVATION_STARTED}     ${LI_NAME}
	Log to Console     ${ACTIVATION_STARTED}
	Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${ACTIVATION_STARTED}    Expected Error Message Not seen
	
	${ACTIVATION_SUCCESS}      Catenate      ${LI_ACTIVATION_SUCCESS}     ${LI_NAME}
	Log to Console     ${ACTIVATION_SUCCESS}
	Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${ACTIVATION_SUCCESS}    Expected Error Message Not seen
	

ALERTS_VALIDATION_FOR_UPDATE_DOWNGARDE
    [Arguments]        ${LI_FC_INTERCONNECTS}    ${LI_OCHO_VC_INTERCONNECTS}   ${LI_SUPERSHAW_INTERCONNECTS}    ${LI_1010D_VC_INTERCONNECTS}   ${ICM_Alert1_stg_str_end}     ${ICM_Alert1_stg_star_1010D_end}    ${ICM_Alert1_stg_succ_end}   ${ICM_Alert1_act_OCHO_succ_end}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_stg_star}    ${ICM_Alert1_stg_star_1010D_end}    ${LI_UPADTE_STARTED}    ${LI_UPDATE_SUCCESS}    ${LI_NAME}   ${ICM_Alert1_stg_star_2_end}   ${LI_STAGING_STARTED}     ${LI_NAME}    ${LI_STAGING_SUCCESS}    ${LI_ACTIVATION_STARTED}    ${LI_ACTIVATION_SUCCESS}

    ${alerts} =    fusion_api_get_alerts    /rest/alerts
	${LI_NAME}=    Get Li Name
    : FOR    ${BICM_NAME}    IN    @{LI_FC_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${ICM_Alert1_stg_str_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_stg_succ_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${ICM_Alert1_act_star_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${ICM_Alert1_act_succ_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen



    : FOR    ${BICM_NAME}    IN    @{LI_OCHO_VC_INTERCONNECTS}
    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${ICM_Alert1_act_OCHO_succ_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_act_OCHO_succ_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${ICM_Alert1_act_OCHO_succ_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${ICM_Alert1_act_OCHO_succ_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen



    : FOR    ${BICM_NAME}    IN    @{LI_1010D_VC_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${ICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${ICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${ICM_Alert1_stg_star_1010D_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen


    : FOR    ${BICM_NAME}    IN    @{LI_SUPERSHAW_INTERCONNECTS}

    \    ${Al_stg_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_star}    ${ICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_stg_str}

    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_str}   Expected Error Message Not seen


    \    ${Al_stg_suc}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_stg_succ}    ${ICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_stg_suc}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_stg_suc}   Expected Error Message Not seen


    \    ${Al_act_str}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_star}    ${ICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_act_str}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_str}   Expected Error Message Not seen

    \    ${Al_act_succ}    Catenate    SEPARATOR= ${BICM_NAME}    ${ICM_Alert1_act_succ}    ${ICM_Alert1_stg_star_2_end}
    \    Log to Console    ${Al_act_succ}
    \    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${Al_act_succ}  Expected Error Message Not seen

    ###### Validates the firmware alert messages on Logical Interconnects ##########

	${alerts} =    fusion_api_get_alerts    /rest/alerts
    ${UPDATE_STARTED}      Catenate      ${LI_UPADTE_STARTED}     ${LI_NAME}
    Log to Console     ${UPDATE_STARTED}
    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${UPDATE_STARTED}  Expected Error Message Not seen
	
    ${UPDATE_SUCCESS}      Catenate      ${LI_UPDATE_SUCCESS}     ${LI_NAME}
    Log to Console     ${UPDATE_SUCCESS}
    Run Keyword and Continue on Failure       Should Contain       '${alerts}'     ${UPDATE_SUCCESS}    Expected Error Message Not seen
	
	
	
Remove Enclosure
    [Documentation]  Remove the enclosure by name
    [Arguments]     ${name}
    ${uri} = 	Get Enclosure URI    ${name}
    ${resp} = 	   Fusion Api Remove Enclosure		uri=${uri}
	${task} =	   Wait For Task 	${resp} 	900s	10s


Get Enclosure Group URI
	[Arguments]     ${eg}
	${resp} =      Fusion Api Get Enclosure Groups	
	${l} =     Get Length      ${resp['members']}
	:FOR  ${x}     IN RANGE      0   ${l}
	\   Run Keyword If    '${resp['members'][${x}]['name']}' != '${eg}'      Continue For Loop
	\   ${uri} =       Get From Dictionary      ${resp['members'][${x}]}	uri	
	[Return]     ${uri}
	

BBAdd Enclosures from variable
	[Documentation]   Adds Enclosures to an appliance from a variable which contains a list of dicts with the entire payload
	[Arguments]     ${encsbb}
	Log to console and logfile      Adding ENCLOSURES 		
	:FOR   ${enc}    IN      @{encsbb}
	\	${encuri} =              Get From Dictionary        ${enc}      enclosureGroupUri
	\	@{words} =      Split String     ${encuri}	:
	\	${type} =     Get From List     ${words}      0
	\	${e} =      Get From List     ${words}    1	
	\	${encuri} =    Get Enclosure Group URI	 ${e}
	\	Set to dictionary     ${enc}    enclosureGroupUri      ${encuri}
	\	${resp} =       Fusion Api Add Enclosure    ${enc}
	\   Log to console    ${resp}
	\   Log To Console       ${resp}
	\	${task} =      Wait For Task_enc    ${resp}      11min  1s
	

LE Creation By Add Enclosures from variable
	[Documentation]      Adds Enclosures to an appliance from a variable which contains a list of dicts with the entire payload
	[Arguments]       ${encs}
	Log to console and logfile      Adding ENCLOSURES
	${resplist} =   Create List
	:FOR  ${enc}  IN  @{encs}
	\    ${encuri} =     Get From Dictionary    ${enc}     enclosureGroupUri
	\    ${encuri} =      Common URI Lookup by name    ${encuri}
	\    Set to dictionary    ${enc}    enclosureGroupUri     ${encuri}
	\    ${resp} =   Fusion Api Add Enclosure    ${enc}
	\    Append To List    ${resplist}    ${resp}
	${tasklist} =   Create List
	:FOR  ${resp}  IN  @{resplist}
	\    ${task} =   Wait For Task   ${resp}   59min    1s
	\    Append To List    ${tasklist}     ${task}
	[return]     ${tasklist}
	