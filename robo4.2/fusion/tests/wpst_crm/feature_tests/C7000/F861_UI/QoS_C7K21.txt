*** Settings ***
Documentation       Feature Test: F861
Resource            OVAConfig.txt
#Force Tags         Buildup
Suite Setup         Load Test Data and Open Browser
Suite Teardown     Logout And Close All Browsers
Library            Dialogs
Library    String
Library         Collections

*** Test Cases ***

00.Log into fusion as Administrator
    [Documentation]    Log in to Appliance
    Log To Console    *********Log into Appliance as Administrator****************
    ${user} =    Get Data By Property    ${TestData.users}    name    Administrator
    fusion_ui_login_to_appliance    ${user[0].name}
    Log to Console    Successfully logged in as Administrator

01.Cleanup
    fusion_ui_remove_all_enclosures
    fusion_ui_remove_all_enclosure_groups
    fusion_ui_remove_all_logical_interconnect_groups

02.Creating LIG
    ${Status1}=    Fusion UI Create Logical Interconnect Group     @{TestData.ligC71}
    Run Keyword If  '${Status1}' == 'True'  Log to Console   created Lig Successfully   ELSE    fail

03.Creating EG AND ADDING ENCLOSURE
    ${Status1}=    Fusion UI Create Enclosure Group    @{TestData.encgroups}
    Run Keyword If  '${Status1}' == 'True'  Log to Console   created EG successfully    ELSE    fail
    ${Status1}=    Fusion UI Add Enclosure     @{TestData.enclosures_C7K}
    Run Keyword If  '${Status1}' == 'True'  Log to Console   Added enclosure successfully   ELSE    fail

04.Ingress DOT1P mappings verification in LIG
    ${Status1}=    fusion_ui_validate_qos_configuration     @{TestData.ligc7_21}
    Log to Console  ${Status1}
    Run Keyword If  '${Status1}' == 'True'  Log to Console  FCoE Traffic and Non-FCoE Traffic are not present   ELSE    fail

06.Ingress DOT1P mappings verification in LI
    ${Status1}=    fusion_ui_validate_qos_configuration_in_li     @{TestData.lic7_21}
    Log to Console  ${Status1}
    Run Keyword If  '${Status1}' == 'True'  Log to Console  FCoE Traffic and Non-FCoE Traffic are not present   ELSE    fail

07.Cleanup
    fusion_ui_remove_all_enclosures
    fusion_ui_remove_all_enclosure_groups
    fusion_ui_remove_all_logical_interconnect_groups
