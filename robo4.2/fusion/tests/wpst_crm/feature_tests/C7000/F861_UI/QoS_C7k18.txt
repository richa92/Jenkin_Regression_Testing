*** Settings ***
Documentation       Feature Test: F861
Resource            OVAConfig.txt
#Force Tags         Buildup
Suite Setup         Load Test Data and Open Browser
Suite Teardown     Logout And Close All Browsers
Library            Dialogs
Library    String

*** Test Cases ***

00. Log into fusion as Administrator
    [Documentation]    Log in to Appliance
    Log To Console    *********Log into Appliance as Administrator****************
    ${user} =    Get Data By Property    ${TestData.users}    name    Administrator
    fusion_ui_login_to_appliance    ${user[0].name}
    Log to Console    Successfully logged in as Administrator

01. Cleanup
    Fusion UI Remove All Enclosures
    fusion_ui_remove_all_enclosure_groups
    fusion_ui_remove_all_logical_interconnect_groups

02. Creating EG AND ADDING ENCLOSURE
    fusion_ui_create_logical_interconnect_group      @{TestData.ligC71}
    Fusion UI Create Enclosure Group    @{TestData.encgroups}
    Fusion UI Add Enclosure     @{TestData.enclosures_C7K}
    Log to Console   created EG and Added Enclosure

03. VERIFY DOT1P PRIORITY IN LIG AND li
    ${Status1}=    fusion_ui_validate_qos_configuration        @{TestData.settings2}
    Log to Console  ${Status1}
    Run Keyword If  '${Status1}' == 'True'  Log to Console  DOT1P PRIORITY VERIFIED SUCCESSFULLY IN LIG ELSE    fail
    Log to Console   VERIFY DOT1P PRIORITY IN LI
    ${Status}=    fusion_ui_validate_qos_configuration_in_li        @{TestData.settings1}
    Log to Console  ${Status}
    Run Keyword If  '${Status}' == 'True'   Log to Console  DOT1P PRIORITY VERIFIED SUCCESSFULLY IN LI  ELSE    fail

04. Cleanup
    Fusion UI Delete All Appliance Les
    Fusion UI Remove All Enclosure Groups
    Fusion UI Remove All Logical Interconnect Groups
