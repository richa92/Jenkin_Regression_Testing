*** Settings ***
Library			RoboGalaxyLibrary
Library			OperatingSystem
Variables		../../variables/wpst_crm/wpst_crm_variables.py
Suite Teardown	  	disconnect from vi server

*** Variables ***
				

*** Keywords ***

	
*** Testcase ***
TEST CASE 1: Download latest OVF/OVA build and deploy the template
	[Documentation]	Download the latest OVF/OVA build and deploy the template
	[Tags]  wpst_crm_deploy_ova
	Run Keyword If		'${VM_NAME}'=='${EMPTY}' 	Fail  'Please enter valid vmname, vmname cannot be empty'
	connect to vi server	${VCENTER_IP}		${VCENTER_USER}		${VCENTER_PWD}
	${LatestBuildName}=	get LatestBuild name	${BUILD_URL}	${DWNLD_LOCATION} 	${TEMPLATE_TYPE}
	download ovf ova	${BUILD_URL}	${DWNLD_LOCATION}		${LatestBuildName}
	${Location_Path} = 	Join Path	${DWNLD_LOCATION}		${LatestBuildName}
	deploy ovf ova template		${VCENTER_IP} 	${VCENTER_USER} 	${VCENTER_PWD} 	${NETWORK} 	${VM_NAME} 	${Location_Path} 	${DATASTORE} 	${VM_HOST} 	${RESOURCE_POOL}
		
