*** Settings ***
Documentation	    WPST CRM Script to Power on Servers if they are in Off state by Momentary Press 	
...
...					
Variables		${DATA}
Suite Setup   		Get appliance IP       ${VM}

Resource		../../../../resource/fusion_api_all_resource_files.txt
Library			Collections

*** Keywords ***
Get appliance IP 
        [Documentation]   Get appliance IP and set it.
	[Arguments]		${VM}
	Return from Keyword If  '${APPLIANCE_IP}' is not 'None'
	${resp} = 	Connect to VI Server	${vcenter['server']}	${vcenter['user']}	${vcenter['password']}	
	${IPS} = 	Get VM IPv4 Addresses	${VM}
	${APPLIANCE_IP} = 	Get From List	${IPS}	0
    Set Suite Variable		${APPLIANCE_IP}	${APPLIANCE_IP}	
    
*** Test Cases ***
Power On Configured Servers  
	[Documentation]		Script to power up server by hitting momentary press 
	[Tags]				POSITIVE

	Fusion Api Login Appliance	${APPLIANCE_IP}		${admin_credentials}	
	Log to console and logfile	"Start - Power on servers"
	Power on ALL Servers
	Log to console and logfile	"End - Power on servers"
