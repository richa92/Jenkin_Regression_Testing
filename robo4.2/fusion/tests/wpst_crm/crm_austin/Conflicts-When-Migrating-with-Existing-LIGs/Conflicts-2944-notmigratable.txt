*** Settings ***
Documentation     
...    Covers the following testcases:
...              :3.5.5.6--Existing LIG where Interconnect configuration does not match
...              :3.5.5.7--Existing LIG where Utilization Sampling configuration does not match
...              :3.5.5.8--Existing LIG where SNMP configuration does not match
...              :3.5.5.3--Existing LIG where Uplink Set configuration does not match
...              :3.5.5.4--Existing LIG where Ethernet Network configuration does not match
...              :3.5.5.9--Existing LIG where Hardware configuration does not match
...    Note: Update the Uplink ports X*, fabric ports, EG, LIG name when the test is moved into production environment
    
Library           RoboGalaxyLibrary
Library           FusionLibrary
Library           ../lib/WPSTUtil.py

Variables                       ../resources/defaults.py
Variables                       ../resources/credentials_wpst.py   Austin5
Force Tags                      Austin5

Resource                        ../resources/keywords.txt
Suite Setup                     Suite Setup Tasks
Test Setup                      Test Setup Tasks

*** Variables ***
${vc_config_file_1}     config/Conflicts-Existing-lig-cases-config.txt
${vc_config_file_2}     config/Conflicts-Existing-lig-cases-mismatch-config.txt
${VARIABLE_FILENAME_1}    ${CURDIR}/config/OVHIT72200.py
${VARIABLE_FILENAME_2}    ${CURDIR}/config/OVHIT72120.py
${VARIABLE_FILENAME_3}    ${CURDIR}/config/OVHIT72300.py
@{delResList}          server-profiles   enclosures   enclosure-groups   logical-interconnect-groups
${uniqueValidationKey}   message

*** Test Cases ***
BaseConfigurations--Not migratable basic configurations Test Compatibility
    [Documentation]     Cleaning the OV and VC, later importing a common configuration file 
    ...                 that can be used for all the existing LIG cases.
    CleanOV.CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    Report.Write.Compare

BaseConfigurations--Not migratable basic configurations Migrate
    [Documentation]     Cleaning the OV and VC, later importing a common configuration file 
    ...                 that can be used for all the existing LIG cases.
    Migrate
    GetOVResources.Write.Compare

3.5.5.6--OV300-Existing LIG where Interconnect configuration does not match
    [Tags]  OV300
    [Documentation]  3.5.5.6 Existing LIG where Interconnect configuration does not match
    ...                          Mac-Cache
    ...                          MAC Refresh
    ...                          IGMP Snooping
    ...                          IGMP Idle Timeout
    ...                          Loop Protection
    ...                          Pause Flood
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    ${validation_mac_cache}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: Ethernet Settings: Enable Fast MAC Cache Failover.
    @{commands_on}     Create List    set mac-cache Enabled=false Refresh=5
    @{commands_off}     Create List    set mac-cache Enabled=true Refresh=5
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/allMigrationIssues   EG_2S1420PBPH    ${uniqueValidationKey}    ${validation_mac_cache}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report with Existing EG If General Issues Removed       oneViewResourceCompatibility/allMigrationIssues   EG_2S1420PBPH    ${validation_mac_cache}   ${uniqueValidationKey}
    
    ${validation_mac_refresh_interval}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: Ethernet Settings: MAC Refresh Interval.
    @{commands_on}     Create List    set mac-cache Enabled=true Refresh=3
    @{commands_off}     Create List    set mac-cache Enabled=true Refresh=5
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/allMigrationIssues   EG_2S1420PBPH    ${uniqueValidationKey}   ${validation_mac_refresh_interval}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report with Existing EG If General Issues Removed       oneViewResourceCompatibility/allMigrationIssues   EG_2S1420PBPH    ${validation_mac_refresh_interval}   ${uniqueValidationKey}

    ${validation_igmp_snooping}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: Ethernet Settings: Enable IGMP Snooping.
    @{commands_on}     Create List    set igmp Enabled=true
    @{commands_off}    Create List    set igmp Enabled=false
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/allMigrationIssues   EG_2S1420PBPH    ${uniqueValidationKey}   ${validation_igmp_snooping}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report with Existing EG If General Issues Removed       oneViewResourceCompatibility/allMigrationIssues   EG_2S1420PBPH    ${validation_igmp_snooping}   ${uniqueValidationKey}

    
    ${validation_igmp_idle_timeout}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: Ethernet Settings: IGMP idle timeout interval.
    @{commands_on}     Create List    set igmp Enabled=false Timeout=30
    @{commands_off}    Create List   set igmp Enabled=false Timeout=260
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/allMigrationIssues   EG_2S1420PBPH    ${uniqueValidationKey}   ${validation_igmp_idle_timeout}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report with Existing EG If General Issues Removed       oneViewResourceCompatibility/allMigrationIssues   EG_2S1420PBPH    ${validation_igmp_idle_timeout}   ${uniqueValidationKey}

    
    ${validation_network_loop_protection}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: Ethernet Settings: Enable Network Loop Protection.
    @{commands_on}     Create List    set port-protect -quiet networkLoop=Disabled
    @{commands_off}    Create List    set port-protect networkLoop=Enabled
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/allMigrationIssues   EG_2S1420PBPH    ${uniqueValidationKey}   ${validation_network_loop_protection}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report with Existing EG If General Issues Removed       oneViewResourceCompatibility/allMigrationIssues   EG_2S1420PBPH    ${validation_network_loop_protection}   ${uniqueValidationKey}

    
    ${validation_pause_flood_protection}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: Ethernet Settings: Enable Pause Flood Protection.
    @{commands_on}     Create List    set port-protect -quiet pauseFlood=Disabled
    @{commands_off}    Create List    set port-protect pauseFlood=Enabled
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/allMigrationIssues   EG_2S1420PBPH    ${uniqueValidationKey}   ${validation_pause_flood_protection}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report with Existing EG If General Issues Removed       oneViewResourceCompatibility/allMigrationIssues    EG_2S1420PBPH    ${validation_pause_flood_protection}   ${uniqueValidationKey}


3.5.5.6--combined--OV300-Existing LIG where Interconnect configuration does not match
    [Tags]  OV300
    [Documentation]  3.5.5.6--combined-- Existing LIG where Interconnect configuration does not match
    ...                          Mac-Cache
    ...                          MAC Refresh
    ...                          IGMP Snooping
    ...                          IGMP Idle Timeout
    ...                          Loop Protection
    ...                          Pause Flood
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    ${validation_all}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: Ethernet Settings: Enable Fast MAC Cache Failover,Enable Network Loop Protection,Enable Pause Flood Protection,IGMP idle timeout interval,MAC Refresh Interval.
    @{commands_on}     Create List    set mac-cache Enabled=false Refresh=3
    ...                               set igmp Enabled=false Timeout=30
    ...                               set port-protect -quiet networkLoop=Disabled
    ...                               set port-protect -quiet pauseFlood=Disabled
    @{commands_off}     Create List    set mac-cache Enabled=true Refresh=5
    ...                                set igmp Enabled=false Timeout=260
    ...                                set port-protect networkLoop=Enabled
    ...                                set port-protect pauseFlood=Enabled
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/allMigrationIssues   EG_2S1420PBPH    ${uniqueValidationKey}    ${validation_all}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report with Existing EG If General Issues Removed       oneViewResourceCompatibility/allMigrationIssues    EG_2S1420PBPH    ${validation_all}    ${uniqueValidationKey}

3.5.5.7--OV300-Existing LIG where Utilization Sampling configuration does not match
    [Tags]  OV300
    [Documentation]     US27797 - Validate existing LIG settings based on Ethernet Interconnect Settings/TelemetryConfiguration
    ...                 Verify if LIG Utilization Sampling configuration does not match, a critical issue raised if its each of its attributes do not match:
    ...                 Interval Sample
    ...                 Collection Rate"
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    @{commands_on}     Create List    set statistics-throughput -quiet Enabled=true SampleRate=3m
    @{commands_off}     Create List    set statistics-throughput -quiet Enabled=true SampleRate=5m
    ${validation}   Create Dictionary   errorCode=UTILIZATION_SAMPLING
    ...                                 level=Critical
    ...                                 key=utilization_sampling_conflict
    ...                                 message=The Virtual Connect throughput statistics configuration is different from the OneView logical interconnect group utilization sampling configuration. The VC sample count is 300, while OneView sample count is 300, And VC SampleInterval is 180, while OneView Sample Interval is 300.
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists        oneViewResourceCompatibility/allMigrationIssues   EG_2S1420PBPH    ${uniqueValidationKey}    ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report with Existing EG If General Issues Removed        oneViewResourceCompatibility/allMigrationIssues   EG_2S1420PBPH    ${validation}    ${uniqueValidationKey}

3.5.5.8--OV300-Existing LIG where SNMP configuration does not match
    [Tags]  OV300
    [Documentation]  'US31447 - Validate SNMP settings for existing LIG
    ...                          US30766 VC Migrate: Base Features, Existing LIG, LIG settings including SNMP
    ...                          Verify if LIG SNMP configuration does not match, a critical issue raised if its each of its attributes do not match:
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    ${validation}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: SNMP Configuration: Enabled,Read Community.
    @{commands_on}     Create List      set snmp enet ReadCommunity=private EnableV1V2=false EnableV3=false
    ...                                 set snmp fc ReadCommunity=private EnableV1V2=false EnableV3=false
    @{commands_off}    Create List      set snmp enet ReadCommunity=public EnableV1V2=true EnableV3=false
    ...                                 set snmp fc ReadCommunity=public EnableV1V2=true EnableV3=false
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/allMigrationIssues   EG_2S1420PBPH    ${uniqueValidationKey}    ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report with Existing EG If General Issues Removed       oneViewResourceCompatibility/allMigrationIssues    EG_2S1420PBPH    ${validation}    ${uniqueValidationKey}

3.5.5.3--OV300-Existing LIG where Uplink Set configuration does not match
    [Tags]  OV300
    [Documentation]      US30767 VC Migrate: Base Features, existing LIG, (Uplink Sets)
    ...                  Verify if Uplink Set already exists in LIG, a critical issue raised for each of its attributes that do not match:
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_2}
    ${validation_connection_mode}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: UplinkSet UplinkSet_1 attribute(s) do not match: Connection Mode,Networks associated.
    ${validation_diff_networks_associated}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: UplinkSet UplinkSet_2 attribute(s) do not match: Networks associated,Port different Enclosure 1, Bay 1, Port X4,Port not found Enclosure 1, Bay 2, Port X3,Port not found Enclosure 1, Bay 2, Port X5.
    ${validation_diff_port}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: UplinkSet UplinkSet_3 attribute(s) do not match: Port different Enclosure 1, Bay 3, Port X2,Port not found Enclosure 1, Bay 4, Port X2.
    ${validation_uplink_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_UPLINK_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH_1\". The follow uplinkset \"Private\" from existing logical interconnect group \"LIG_2S1420PBPH_1\" are not present in the Virtual Connect configuration. They must match in size, name, and configuration.
    ${validation_uplink_not found}   Create Dictionary   errorCode=FAIL_TO_MATCH_UPLINK_NOT_FOUND
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH_1\". The uplinkset \"Net4,Net5,Net_1001,Net_1002\" from the Virtual Connect configuration did not match one in the existing logical interconnect group \"LIG_2S1420PBPH_1\". They must match in name, number of uplinks, and configuration.
    ${validation_uplink_port_disabled}   Create Dictionary   errorCode=FEATURE_ISSUE_UPLINK_PORT_DISABLED_IN_UPLINKSET
    ...                                  level=High
    ...                                  message=The uplink set \"UplinkSet_2\" contains at least one uplink that is administratively disabled.
    ${validation_network_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: UplinkSet Net3 attribute(s) do not match: Port different Enclosure 1, Bay 2, Port X2,Port not found Enclosure 1, Bay 1, Port X4.
    @{validation_errors}    Create List   ${validation_connection_mode}   ${validation_diff_networks_associated}   ${validation_diff_port}   ${validation_uplink_mismatch}   ${validation_uplink_not found}   ${validation_uplink_port_disabled}   ${validation_network_mismatch}
    ${resp}  ${resp_state}     ReportDetail against Existing EG     EG_2S1420PBPH
    Validate Existing Detail Report with Existing EG If General Issues Exists       ${resp}    allMigrationIssues    ${uniqueValidationKey}   @{validation_errors}
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    ${resp}  ${resp_state}     ReportDetail against Existing EG     EG_2S1420PBPH
    Validate Existing Detail Report If General Issues Removed        ${resp}       allMigrationIssues   @{validation_errors}

3.5.5.4--OV300-Existing LIG where Ethernet Network configuration does not match
    [Tags]  OV300
    [Documentation]     US30765 VC Migrate: Base Features, Existing LIG, Networks and Fabrics
    ...                 US31298 Validate and Translate networks where existing OneView networks or limits may collide
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_2}
    ${validation_network_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: UplinkSet Net3 attribute(s) do not match: Port different Enclosure 1, Bay 2, Port X2,Port not found Enclosure 1, Bay 1, Port X4.
    ${validation_uplink_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_UPLINK_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH_1\". The follow uplinkset \"Private\" from existing logical interconnect group \"LIG_2S1420PBPH_1\" are not present in the Virtual Connect configuration. They must match in size, name, and configuration.
    ${validation_uplink_not found}   Create Dictionary   errorCode=FAIL_TO_MATCH_UPLINK_NOT_FOUND
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH_1\". The uplinkset \"Net4,Net5,Net_1001,Net_1002\" from the Virtual Connect configuration did not match one in the existing logical interconnect group \"LIG_2S1420PBPH_1\". They must match in name, number of uplinks, and configuration.
    ${validation_smartlink_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: Network Network_316 attribute(s) do not match: Smart Link.
    ${validation_bandwidth_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Medium
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: Network Net1 attribute(s) do not match: Typical Bandwidth,Maximum Bandwidth.
    ${validation_vlan_pvtntwk_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: Network Net1 attribute(s) do not match: VLAN Id,Private Network.
    ${validation_vlan_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: Network Net2 attribute(s) do not match: VLAN Id.
    ${validation_type_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match logical interconnect group \"LIG_2S1420PBPH_1\". The following element(s) are inconsistent: Network Net3 attribute(s) do not match: Ethernet Network Type,Smart Link.
    ${validation_failover_enet_network}   Create Dictionary   errorCode=FEATURE_ISSUE_NETWORK_NO_UPLINK_WITH_FAILOVER
    ...                                  level=Medium
    ...                                  message=The Ethernet network \"Net4\" has no uplinks and a connection mode of failover; this configuration is not supported by OneView.
    ${validation_limits_collide}   Create Dictionary   errorCode=FEATURE_CODE_ISSUE_4K_VLANS_SUPPORT
    ...                                  level=Critical
    ...                                  message=The Virtual Connect domain has more than 1000 networks defined. OneView supports a maximum of 1000 Ethernet and/or FCoE networks.
    @{validation_errors}    Create List   ${validation_network_mismatch}   ${validation_uplink_mismatch}   ${validation_uplink_not found}   ${validation_smartlink_mismatch}   ${validation_bandwidth_mismatch}
    ...   ${validation_vlan_pvtntwk_mismatch}   ${validation_vlan_mismatch}   ${validation_type_mismatch}   ${validation_failover_enet_network}   ${validation_limits_collide}
    ${resp}  ${resp_state}     ReportDetail against Existing EG     EG_2S1420PBPH
    Validate Existing Detail Report with Existing EG If General Issues Exists       ${resp}    allMigrationIssues    ${uniqueValidationKey}    @{validation_errors}
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    ${resp}  ${resp_state}     ReportDetail against Existing EG     EG_2S1420PBPH
    Validate Existing Detail Report If General Issues Removed        ${resp}    allMigrationIssues    @{validation_errors}
    
3.5.5.9--OV300-Existing LIG where Hardware configuration does not match
    [Tags]  OV300
    [Documentation]      US30769 VC Migrate: Base Features, Existing LIG, (IO Module match)
    ...                  Verify if Interconnect Hardware configuration does not match, a critical issue raised if its each of its attributes do not match:
    ...                  Interconnect Module Type
    ...                  Firmware Version (Migration Manager does not raise an error, but OneView should mark it as out of compliance)
    Delete OneView Selected    ${delResList}
    Clean VC
    Import.ConfigVC    ${vc_config_file_1}
    @{ResourcesList}    Create List   lig   encgrp
    Run Keyword If   ${X-API-version} == 300    Deploy OneView Resources From Variable File   ${VARIABLE_FILENAME_3}   ${OV_IP}   ResourcesList=${ResourcesList}
     \      ...         ELSE IF   ${X-API-version} == 201    Deploy OneView Resources From Variable File   ${VARIABLE_FILENAME_1}   ${OV_IP}   ResourcesList=${ResourcesList}
     \      ...         ELSE IF   ${X-API-version} == 200    Deploy OneView Resources From Variable File   ${VARIABLE_FILENAME_1}   ${OV_IP}   ResourcesList=${ResourcesList}
     \      ...         ELSE IF   ${X-API-version} == 120    Deploy OneView Resources From Variable File   ${VARIABLE_FILENAME_2}   ${OV_IP}   ResourcesList=${ResourcesList}
     \      ...         ELSE        Fail     msg=OV Version not supported
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_IO_MODULE_DIFFERENT
    ...                                 level=Critical
    ...                                 key=io_module_validation_different
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_USE22044XP    errorCode    ${validation}

3.5.5.6--OV200-Existing LIG where Interconnect configuration does not match
    [Tags]  OnlyOV200
    [Documentation]  3.5.5.6 Existing LIG where Interconnect configuration does not match
    ...                          Mac-Cache
    ...                          MAC Refresh
    ...                          IGMP Snooping
    ...                          IGMP Idle Timeout
    ...                          Loop Protection
    ...                          Pause Flood
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    ${validation_mac_cache}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: Ethernet Settings: Enable Fast MAC Cache Failover.
    @{commands_on}     Create List    set mac-cache Enabled=false Refresh=5
    @{commands_off}     Create List    set mac-cache Enabled=true Refresh=5
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}    ${validation_mac_cache}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues    ${validation_mac_cache}
    
    ${validation_mac_refresh_interval}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: Ethernet Settings: MAC Refresh Interval.
    @{commands_on}     Create List    set mac-cache Enabled=true Refresh=3
    @{commands_off}     Create List    set mac-cache Enabled=true Refresh=5
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}   ${validation_mac_refresh_interval}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues   ${validation_mac_refresh_interval}

    ${validation_igmp_snooping}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: Ethernet Settings: Enable IGMP Snooping.
    @{commands_on}     Create List    set igmp Enabled=true
    @{commands_off}    Create List    set igmp Enabled=false
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}   ${validation_igmp_snooping}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues   ${validation_igmp_snooping}
    
    ${validation_igmp_idle_timeout}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: Ethernet Settings: IGMP idle timeout interval.
    @{commands_on}     Create List    set igmp Enabled=false Timeout=30
    @{commands_off}    Create List   set igmp Enabled=false Timeout=260
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}   ${validation_igmp_idle_timeout}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues   ${validation_igmp_idle_timeout}
    
    ${validation_network_loop_protection}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: Ethernet Settings: Enable Network Loop Protection.
    @{commands_on}     Create List    set port-protect -quiet networkLoop=Disabled
    @{commands_off}    Create List    set port-protect networkLoop=Enabled
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}   ${validation_network_loop_protection}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues   ${validation_network_loop_protection}
    
    ${validation_pause_flood_protection}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: Ethernet Settings: Enable Pause Flood Protection.
    @{commands_on}     Create List    set port-protect -quiet pauseFlood=Disabled
    @{commands_off}    Create List    set port-protect pauseFlood=Enabled
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}   ${validation_pause_flood_protection}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues   ${validation_pause_flood_protection}

3.5.5.6--combined--OV200-Existing LIG where Interconnect configuration does not match
    [Tags]  OnlyOV200
    [Documentation]  3.5.5.6--combined-- Existing LIG where Interconnect configuration does not match
    ...                          Mac-Cache
    ...                          MAC Refresh
    ...                          IGMP Snooping
    ...                          IGMP Idle Timeout
    ...                          Loop Protection
    ...                          Pause Flood
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    ${validation_all}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: Ethernet Settings: Enable Fast MAC Cache Failover,Enable Network Loop Protection,Enable Pause Flood Protection,IGMP idle timeout interval,MAC Refresh Interval.
    @{commands_on}     Create List    set mac-cache Enabled=false Refresh=3
    ...                               set igmp Enabled=false Timeout=30
    ...                               set port-protect -quiet networkLoop=Disabled
    ...                               set port-protect -quiet pauseFlood=Disabled
    @{commands_off}     Create List    set mac-cache Enabled=true Refresh=5
    ...                                set igmp Enabled=false Timeout=260
    ...                                set port-protect networkLoop=Enabled
    ...                                set port-protect pauseFlood=Enabled
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}    ${validation_all}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues    ${validation_all}

3.5.5.7--OV200-Existing LIG where Utilization Sampling configuration does not match
    [Tags]  OnlyOV200
    [Documentation]     US27797 - Validate existing LIG settings based on Ethernet Interconnect Settings/TelemetryConfiguration
    ...                 Verify if LIG Utilization Sampling configuration does not match, a critical issue raised if its each of its attributes do not match:
    ...                 Interval Sample
    ...                 Collection Rate"
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    @{commands_on}     Create List    set statistics-throughput -quiet Enabled=true SampleRate=3m
    @{commands_off}     Create List    set statistics-throughput -quiet Enabled=true SampleRate=5m
    ${validation}   Create Dictionary   errorCode=UTILIZATION_SAMPLING
    ...                                 level=Critical
    ...                                 key=utilization_sampling_conflict
    ...                                 message=The Virtual Connect throughput statistics configuration is different from the OneView logical interconnect group utilization sampling configuration.
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists        oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}    ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        oneViewResourceCompatibility/logicalInterconnectGroup/issues   ${validation}

3.5.5.8--OV200-Existing LIG where SNMP configuration does not match
    [Tags]  OnlyOV200
    [Documentation]  'US31447 - Validate SNMP settings for existing LIG
    ...                          US30766 VC Migrate: Base Features, Existing LIG, LIG settings including SNMP
    ...                          Verify if LIG SNMP configuration does not match, a critical issue raised if its each of its attributes do not match:
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    ${validation}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: SNMP Configuration: Enabled,Read Community.
    @{commands_on}     Create List      set snmp enet ReadCommunity=private EnableV1V2=false EnableV3=false
    ...                                 set snmp fc ReadCommunity=private EnableV1V2=false EnableV3=false
    @{commands_off}    Create List      set snmp enet ReadCommunity=public EnableV1V2=true EnableV3=false
    ...                                 set snmp fc ReadCommunity=public EnableV1V2=true EnableV3=false
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}    ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues    ${validation}

3.5.5.3--OV200-Existing LIG where Uplink Set configuration does not match
    [Tags]  OnlyOV200
    [Documentation]      US30767 VC Migrate: Base Features, existing LIG, (Uplink Sets)
    ...                  Verify if Uplink Set already exists in LIG, a critical issue raised for each of its attributes that do not match:
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_2}
    ${validation_connection_mode}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: UplinkSet UplinkSet_1 attribute(s) do not match: Connection Mode,Networks associated.
    ${validation_diff_networks_associated}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: UplinkSet UplinkSet_2 attribute(s) do not match: Networks associated,Port different Enclosure 1, Bay 1, Port X4,Port not found Enclosure 1, Bay 2, Port X3,Port not found Enclosure 1, Bay 2, Port X5.
    ${validation_diff_port}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: UplinkSet UplinkSet_3 attribute(s) do not match: Port different Enclosure 1, Bay 3, Port X2,Port not found Enclosure 1, Bay 4, Port X2.
    ${validation_uplink_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_UPLINK_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The follow uplinkset \"Private\" from existing logical interconnect group \"LIG_2S1420PBPH\" are not present in the Virtual Connect configuration. They must match in size, name, and configuration.
    ${validation_uplink_not found}   Create Dictionary   errorCode=FAIL_TO_MATCH_UPLINK_NOT_FOUND
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The uplinkset \"Net4,Net5,Net_1001,Net_1002\" from the Virtual Connect configuration did not match one in the existing logical interconnect group \"LIG_2S1420PBPH\". They must match in name, number of uplinks, and configuration.
    ${validation_uplink_port_disabled}   Create Dictionary   errorCode=FEATURE_ISSUE_UPLINK_PORT_DISABLED_IN_UPLINKSET
    ...                                  level=High
    ...                                  message=The uplink set \"UplinkSet_2\" contains at least one uplink that is administratively disabled.
    ${validation_network_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: UplinkSet Net3 attribute(s) do not match: Port different Enclosure 1, Bay 2, Port X2,Port not found Enclosure 1, Bay 1, Port X4.
    @{validation_errors}    Create List   ${validation_connection_mode}   ${validation_diff_networks_associated}   ${validation_diff_port}   ${validation_uplink_mismatch}   ${validation_uplink_not found}   ${validation_uplink_port_disabled}   ${validation_network_mismatch}
    ${resp}  ${resp_state}     ReportDetail against Existing EG     EG_2S1420PBPH
    Validate Existing Detail Report with Existing EG If General Issues Exists       ${resp}    allMigrationIssues    ${uniqueValidationKey}   @{validation_errors}
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    ${resp}  ${resp_state}     ReportDetail against Existing EG     EG_2S1420PBPH
    Validate Existing Detail Report If General Issues Removed        ${resp}       allMigrationIssues   @{validation_errors}

3.5.5.4--OV200-Existing LIG where Ethernet Network configuration does not match
    [Tags]  OnlyOV200
    [Documentation]     US30765 VC Migrate: Base Features, Existing LIG, Networks and Fabrics
    ...                 US31298 Validate and Translate networks where existing OneView networks or limits may collide
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_2}
    ${validation_network_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: UplinkSet Net3 attribute(s) do not match: Port different Enclosure 1, Bay 2, Port X2,Port not found Enclosure 1, Bay 1, Port X4.
    ${validation_uplink_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_UPLINK_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The follow uplinkset \"Private\" from existing logical interconnect group \"LIG_2S1420PBPH\" are not present in the Virtual Connect configuration. They must match in size, name, and configuration.
    ${validation_uplink_not found}   Create Dictionary   errorCode=FAIL_TO_MATCH_UPLINK_NOT_FOUND
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The uplinkset \"Net4,Net5,Net_1001,Net_1002\" from the Virtual Connect configuration did not match one in the existing logical interconnect group \"LIG_2S1420PBPH\". They must match in name, number of uplinks, and configuration.
    ${validation_smartlink_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: Network Network_316 attribute(s) do not match: Smart Link.
    ${validation_bandwidth_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Medium
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: Network Net1 attribute(s) do not match: Typical Bandwidth,Maximum Bandwidth.
    ${validation_vlan_pvtntwk_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: Network Net1 attribute(s) do not match: VLAN Id,Private Network.
    ${validation_vlan_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: Network Net2 attribute(s) do not match: VLAN Id.
    ${validation_type_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure's Virtual Connect configuration does not match the selected OneView logical interconnect group \"LIG_2S1420PBPH\". The following element(s) are inconsistent: Network Net3 attribute(s) do not match: Ethernet Network Type,Smart Link.
    ${validation_failover_enet_network}   Create Dictionary   errorCode=FEATURE_ISSUE_NETWORK_NO_UPLINK_WITH_FAILOVER
    ...                                  level=Medium
    ...                                  message=The Ethernet network \"Net4\" has no uplinks and a connection mode of failover; this configuration is not supported by OneView.
    ${validation_limits_collide}   Create Dictionary   errorCode=FEATURE_CODE_ISSUE_4K_VLANS_SUPPORT
    ...                                  level=Critical
    ...                                  message=The Virtual Connect domain has more than 1000 networks defined. OneView supports a maximum of 1000 Ethernet and/or FCoE networks.
    @{validation_errors}    Create List   ${validation_network_mismatch}   ${validation_uplink_mismatch}   ${validation_uplink_not found}   ${validation_smartlink_mismatch}   ${validation_bandwidth_mismatch}
    ...   ${validation_vlan_pvtntwk_mismatch}   ${validation_vlan_mismatch}   ${validation_type_mismatch}   ${validation_failover_enet_network}   ${validation_limits_collide}
    ${resp}  ${resp_state}     ReportDetail against Existing EG     EG_2S1420PBPH
    Validate Existing Detail Report with Existing EG If General Issues Exists       ${resp}    allMigrationIssues    ${uniqueValidationKey}    @{validation_errors}
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    ${resp}  ${resp_state}     ReportDetail against Existing EG     EG_2S1420PBPH
    Validate Existing Detail Report If General Issues Removed        ${resp}    allMigrationIssues    @{validation_errors}
    
3.5.5.9--OV200-Existing LIG where Hardware configuration does not match
    [Tags]  OnlyOV200
    [Documentation]      US30769 VC Migrate: Base Features, Existing LIG, (IO Module match)
    ...                  Verify if Interconnect Hardware configuration does not match, a critical issue raised if its each of its attributes do not match:
    ...                  Interconnect Module Type
    ...                  Firmware Version (Migration Manager does not raise an error, but OneView should mark it as out of compliance)
    Delete OneView Selected    ${delResList}
    Clean VC
    Import.ConfigVC    ${vc_config_file_1}
    @{ResourcesList}    Create List   lig   encgrp
    Run Keyword If   ${X-API-version} == 201    Deploy OneView Resources From Variable File   ${VARIABLE_FILENAME_1}   ${OV_IP}   ResourcesList=${ResourcesList}
     \      ...         ELSE IF   ${X-API-version} == 200    Deploy OneView Resources From Variable File   ${VARIABLE_FILENAME_1}   ${OV_IP}   ResourcesList=${ResourcesList}
     \      ...         ELSE IF   ${X-API-version} == 120    Deploy OneView Resources From Variable File   ${VARIABLE_FILENAME_2}   ${OV_IP}   ResourcesList=${ResourcesList}
     \      ...         ELSE        Fail     msg=OV Version not supported
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_IO_MODULE_DIFFERENT
    ...                                 level=Critical
    ...                                 key=io_module_validation_different
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_USE22044XP    errorCode    ${validation}

3.5.5.6--OV120-Existing LIG where Interconnect configuration does not match
    [Tags]  OV120
    [Documentation]  3.5.5.6 Existing LIG where Interconnect configuration does not match
    ...                          Mac-Cache
    ...                          MAC Refresh
    ...                          IGMP Snooping
    ...                          IGMP Idle Timeout
    ...                          Loop Protection
    ...                          Pause Flood
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    ${validation_mac_cache}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: Ethernet Settings: Enable Fast MAC Cache Failover.
    @{commands_on}     Create List    set mac-cache Enabled=false Refresh=5
    @{commands_off}     Create List    set mac-cache Enabled=true Refresh=5
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}    ${validation_mac_cache}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues    ${validation_mac_cache}
    
    ${validation_mac_refresh_interval}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: Ethernet Settings: MAC Refresh Interval.
    @{commands_on}     Create List    set mac-cache Enabled=true Refresh=3
    @{commands_off}     Create List    set mac-cache Enabled=true Refresh=5
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}   ${validation_mac_refresh_interval}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues   ${validation_mac_refresh_interval}

    ${validation_igmp_snooping}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: Ethernet Settings: Enable IGMP Snooping.
    @{commands_on}     Create List    set igmp Enabled=true
    @{commands_off}    Create List    set igmp Enabled=false
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}   ${validation_igmp_snooping}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues   ${validation_igmp_snooping}
    
    ${validation_igmp_idle_timeout}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: Ethernet Settings: IGMP idle timeout interval.
    @{commands_on}     Create List    set igmp Enabled=false Timeout=30
    @{commands_off}    Create List   set igmp Enabled=false Timeout=260
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}   ${validation_igmp_idle_timeout}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues   ${validation_igmp_idle_timeout}
    
    ${validation_network_loop_protection}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: Ethernet Settings: Enable Network Loop Protection.
    @{commands_on}     Create List    set port-protect -quiet networkLoop=Disabled
    @{commands_off}    Create List    set port-protect networkLoop=Enabled
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}   ${validation_network_loop_protection}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues   ${validation_network_loop_protection}
    
    ${validation_pause_flood_protection}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: Ethernet Settings: Enable Pause Flood Protection.
    @{commands_on}     Create List    set port-protect -quiet pauseFlood=Disabled
    @{commands_off}    Create List    set port-protect pauseFlood=Enabled
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}   ${validation_pause_flood_protection}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues   ${validation_pause_flood_protection}
    
3.5.5.6--combined--OV120-Existing LIG where Interconnect configuration does not match
    [Tags]  OV120
    [Documentation]  3.5.5.6--combined-- Existing LIG where Interconnect configuration does not match
    ...                          Mac-Cache
    ...                          MAC Refresh
    ...                          IGMP Snooping
    ...                          IGMP Idle Timeout
    ...                          Loop Protection
    ...                          Pause Flood
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    ${validation_all}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: Ethernet Settings: Enable Fast MAC Cache Failover,Enable Network Loop Protection,Enable Pause Flood Protection,IGMP idle timeout interval,MAC Refresh Interval.
    @{commands_on}     Create List    set mac-cache Enabled=false Refresh=3
    ...                               set igmp Enabled=false Timeout=30
    ...                               set port-protect -quiet networkLoop=Disabled
    ...                               set port-protect -quiet pauseFlood=Disabled
    @{commands_off}     Create List    set mac-cache Enabled=true Refresh=5
    ...                                set igmp Enabled=false Timeout=260
    ...                                set port-protect networkLoop=Enabled
    ...                                set port-protect pauseFlood=Enabled
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}    ${validation_all}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues    ${validation_all}

3.5.5.7--OV120-Existing LIG where Utilization Sampling configuration does not match
    [Tags]  OV120
    [Documentation]     US27797 - Validate existing LIG settings based on Ethernet Interconnect Settings/TelemetryConfiguration
    ...                 Verify if LIG Utilization Sampling configuration does not match, a critical issue raised if its each of its attributes do not match:
    ...                 Interval Sample
    ...                 Collection Rate"
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    @{commands_on}     Create List    set statistics-throughput -quiet Enabled=true SampleRate=3m
    @{commands_off}     Create List    set statistics-throughput -quiet Enabled=true SampleRate=5m
    ${validation}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 key=configuration-not-match
    ...                                 message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: Utilization Sampling: Total Number of Samples.
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists        oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}    ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        oneViewResourceCompatibility/logicalInterconnectGroup/issues   ${validation}

3.5.5.8--OV120-Existing LIG where SNMP configuration does not match
    [Tags]  OV120
    [Documentation]  'US31447 - Validate SNMP settings for existing LIG
    ...                          US30766 VC Migrate: Base Features, Existing LIG, LIG settings including SNMP
    ...                          Verify if LIG SNMP configuration does not match, a critical issue raised if its each of its attributes do not match:
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    ${validation}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                 level=Critical
    ...                                 message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: SNMP Configuration: Enabled,Read Community.
    @{commands_on}     Create List      set snmp enet ReadCommunity=private EnableV1V2=false EnableV3=false
    ...                                 set snmp fc ReadCommunity=private EnableV1V2=false EnableV3=false
    @{commands_off}    Create List      set snmp enet ReadCommunity=public EnableV1V2=true EnableV3=false
    ...                                 set snmp fc ReadCommunity=public EnableV1V2=true EnableV3=false
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}    ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed       oneViewResourceCompatibility/logicalInterconnectGroup/issues    ${validation}

3.5.5.3--OV120-Existing LIG where Uplink Set configuration does not match
    [Tags]  OV120
    [Documentation]      US30767 VC Migrate: Base Features, existing LIG, (Uplink Sets)
    ...                  Verify if Uplink Set already exists in LIG, a critical issue raised for each of its attributes that do not match:
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_2}
    ${validation_connection_mode}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: UplinkSet UplinkSet_1 attribute(s) do not match: Connection Mode,Networks associated.
    ${validation_diff_networks_associated}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: UplinkSet UplinkSet_2 attribute(s) do not match: Networks associated,Port different Enclosure 1, Bay 1, Port X4,Port not found Enclosure 1, Bay 2, Port X3,Port not found Enclosure 1, Bay 2, Port X5.
    ${validation_diff_port}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: UplinkSet UplinkSet_3 attribute(s) do not match: Port different Enclosure 1, Bay 3, Port X2,Port not found Enclosure 1, Bay 4, Port X2.
    ${validation_uplink_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_UPLINK_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The follow uplinkset Private from existing logical interconnect group LIG_2S1420PBPH are not present in the Virtual Connect configuration. They must match in size, name, and configuration.
    ${validation_uplink_not found}   Create Dictionary   errorCode=FAIL_TO_MATCH_UPLINK_NOT_FOUND
    ...                                  level=Critical
    ...                                  message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The uplinkset Net4,Net5,Net_1001,Net_1002 from the Virtual Connect configuration did not match one in the existing logical interconnect group LIG_2S1420PBPH. They must match in name, number of uplinks, and configuration.
# TODO: OV 1.20 does not generate this warning for administratively disabled port (QXCR1001466441)
#    ${validation_uplink_port_disabled}   Create Dictionary   errorCode=FEATURE_ISSUE_UPLINK_PORT_DISABLED_IN_UPLINKSET
#    ...                                  level=High
#    ...                                  message=The uplink set UplinkSet_2 contains at least one uplink that is administratively disabled.
    ${validation_network_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: UplinkSet Net3 attribute(s) do not match: Port different Enclosure 1, Bay 2, Port X2,Port not found Enclosure 1, Bay 1, Port X4.
    @{validation_errors}    Create List   ${validation_connection_mode}   ${validation_diff_networks_associated}   ${validation_diff_port}   ${validation_uplink_mismatch}   ${validation_uplink_not found}   ${validation_network_mismatch}
    ${resp}  ${resp_state}     ReportDetail against Existing EG     EG_2S1420PBPH
    Validate Existing Detail Report with Existing EG If General Issues Exists       ${resp}    oneViewResourceCompatibility/logicalInterconnectGroup/issues    ${uniqueValidationKey}   @{validation_errors}
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    ${resp}  ${resp_state}     ReportDetail against Existing EG     EG_2S1420PBPH
    Validate Existing Detail Report If General Issues Removed        ${resp}       oneViewResourceCompatibility/logicalInterconnectGroup/issues   @{validation_errors}

3.5.5.4--OV120-Existing LIG where Ethernet Network configuration does not match
    [Tags]  OV120
    [Documentation]     US30765 VC Migrate: Base Features, Existing LIG, Networks and Fabrics
    ...                 US31298 Validate and Translate networks where existing OneView networks or limits may collide
    Remove All Server Profiles
    Remove All Enclosures
    CleanVC
    Import.ConfigVC    ${vc_config_file_2}
    ${validation_network_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: UplinkSet Net3 attribute(s) do not match: Networks associated,Port different Enclosure 1, Bay 2, Port X2,Port not found Enclosure 1, Bay 1, Port X4.
    ${validation_uplink_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_UPLINK_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The follow uplinkset Private from existing logical interconnect group LIG_2S1420PBPH are not present in the Virtual Connect configuration. They must match in size, name, and configuration.
    ${validation_uplink_not found}   Create Dictionary   errorCode=FAIL_TO_MATCH_UPLINK_NOT_FOUND
    ...                                  level=Critical
    ...                                  message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The uplinkset Net4,Net5,Net_1001,Net_1002 from the Virtual Connect configuration did not match one in the existing logical interconnect group LIG_2S1420PBPH. They must match in name, number of uplinks, and configuration.
    ${validation_smartlink_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: Network Network_316 attribute(s) do not match: Smart Link.
# TODO: Need to add support for multiple error validation in a single filter
#    ${validation_bandwidth_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
#    ...                                  level=Medium
#    ...                                  message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: Network Net1 attribute(s) do not match: Typical Bandwidth,Maximum Bandwidth.
    ${validation_vlan_pvtntwk_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: Network Net1 attribute(s) do not match: VLAN Id,Private Network.
    ${validation_vlan_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: Network Net2 attribute(s) do not match: VLAN Id.
    ${validation_type_mismatch}   Create Dictionary   errorCode=FAIL_TO_MATCH_CONFIGURATION
    ...                                  level=Critical
    ...                                  message=The selected enclosure\u0019s Virtual Connect configuration does not match the selected OneView logical interconnect group LIG_2S1420PBPH. The following element(s) are inconsistent: Network Net3 attribute(s) do not match: Ethernet Network Type,Smart Link.
# NOTE: Write a quix for this blocker issue not being generated(QXCR1001467228)
#    ${validation_failover_enet_network}   Create Dictionary   errorCode=FEATURE_ISSUE_NETWORK_NO_UPLINK_WITH_FAILOVER
#    ...                                  level=Medium
#    ...                                  message=The Ethernet network Net4 has no uplinks and a connection mode of failover; this configuration is not supported by OneView.
    ${validation_limits_collide}   Create Dictionary   errorCode=VALIDATION_NUMBER_OF_ETHERNET_NETWORKS_EXCEEDS_ONEVIEW_MAXIMUM
    ...                                  level=Critical
    ...                                  message=The number of Ethernet networks exceeds the maximum number 1000 of allowed Ethernet networks in OneView.
    ${validation_smartlink_mismatc-filter}       Create Dictionary       name=Network_316
    ${Net1-filter}       Create Dictionary       name=Net1
    ${Net2-filter}       Create Dictionary       name=Net2
    ${Net3-filter}       Create Dictionary       name=Net3
#    ${Net4-filter}       Create Dictionary       name=Net4
    @{validation_errors}    Create List   ${validation_uplink_mismatch}   ${validation_uplink_not found}
    ${resp}  ${resp_state}     ReportDetail against Existing EG     EG_2S1420PBPH
    Validate Existing Detail Report If Issues Exists with Filter   ${resp}   oneViewResourceCompatibility/networks/networks   ${validation_smartlink_mismatch}   ${validation_smartlink_mismatc-filter}
# TODO: Need to add support for multiple error validation in a single filter
#    Validate Existing Detail Report If Issues Exists with Filter   ${resp}   oneViewResourceCompatibility/networks/networks   ${validation_bandwidth_mismatch}   ${Net1-filter}
    Validate Existing Detail Report If Issues Exists with Filter   ${resp}   oneViewResourceCompatibility/networks/networks   ${validation_vlan_pvtntwk_mismatch}   ${Net1-filter}
    Validate Existing Detail Report If Issues Exists with Filter   ${resp}   oneViewResourceCompatibility/networks/networks   ${validation_vlan_mismatch}   ${Net2-filter}
    Validate Existing Detail Report If Issues Exists with Filter   ${resp}   oneViewResourceCompatibility/networks/networks   ${validation_type_mismatch}   ${Net3-filter}
    Validate Existing Detail Report with Existing EG If General Issues Exists       ${resp}    oneViewResourceCompatibility/logicalInterconnectGroup/issues    ${uniqueValidationKey}    @{validation_errors}
    Validate Existing Detail Report with Existing EG If General Issues Exists       ${resp}    incompatibilities/migrationGeneralIssues/issues    ${uniqueValidationKey}    ${validation_limits_collide}
# NOTE: Write a quix for this blocker issue not being generated(QXCR1001467228)
#    Validate Existing Detail Report If Issues Exists with Filter   ${resp}   oneViewResourceCompatibility/networks/networks   ${validation_failover_enet_network}   ${Net4-filter}
    CleanVC
    Import.ConfigVC    ${vc_config_file_1}
    ${resp}  ${resp_state}     ReportDetail against Existing EG     EG_2S1420PBPH
    Validate Existing Detail Report If Issues Removed with Filter   ${resp}   oneViewResourceCompatibility/networks/networks   ${validation_smartlink_mismatch}   ${validation_smartlink_mismatc-filter}
# TODO: Need to add support for multiple error validation in a single filter
#    Validate Existing Detail Report If Issues Removed with Filter   ${resp}   oneViewResourceCompatibility/networks/networks   ${validation_bandwidth_mismatch}   ${Net1-filter}
    Validate Existing Detail Report If Issues Removed with Filter   ${resp}   oneViewResourceCompatibility/networks/networks   ${validation_vlan_pvtntwk_mismatch}   ${Net1-filter}
    Validate Existing Detail Report If Issues Removed with Filter   ${resp}   oneViewResourceCompatibility/networks/networks   ${validation_vlan_mismatch}   ${Net2-filter}
    Validate Existing Detail Report If Issues Removed with Filter   ${resp}   oneViewResourceCompatibility/networks/networks   ${validation_type_mismatch}   ${Net3-filter}
    Validate Existing Detail Report If General Issues Removed        ${resp}    oneViewResourceCompatibility/logicalInterconnectGroup/issues    @{validation_errors}
    Validate Existing Detail Report If General Issues Removed        ${resp}    incompatibilities/migrationGeneralIssues/issues    ${uniqueValidationKey}    ${validation_limits_collide} 
# NOTE: Write a quix for this blocker issue not being generated(QXCR1001467228)
#    Validate Existing Detail Report If Issues Removed with Filter   ${resp}   oneViewResourceCompatibility/networks/networks   ${validation_failover_enet_network}   ${Net4-filter}

# NOTE: This test is not ready for OV 1.20 or API 120 for that matter. 
#3.5.5.9--OV120-Existing LIG where Hardware configuration does not match
#    [Tags]  OV120
#    [Documentation]      US30769 VC Migrate: Base Features, Existing LIG, (IO Module match)
#    ...                  Verify if Interconnect Hardware configuration does not match, a critical issue raised if its each of its attributes do not match:
#    ...                  Interconnect Module Type
#    ...                  Firmware Version (Migration Manager does not raise an error, but OneView should mark it as out of compliance)
#    Delete OneView Selected    ${delResList}
#    Clean VC
#    Import.ConfigVC    ${vc_config_file_1}
#    @{ResourcesList}    Create List   lig   encgrp
#    Run Keyword If   ${X-API-version} == 200    Deploy OneView Resources From Variable File   ${VARIABLE_FILENAME_1}   ${OV_IP}   ResourcesList=${ResourcesList}
#     \      ...         ELSE IF   ${X-API-version} == 120    Deploy OneView Resources From Variable File   ${VARIABLE_FILENAME_2}   ${OV_IP}   ResourcesList=${ResourcesList}
#     \      ...         ELSE        Fail     msg=OV Version not supported
#    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_IO_MODULE_DIFFERENT
#    ...                                 level=Critical
#    ...                                 key=io_module_validation_different
#    Validate Detail Report with Existing EG If General Issues Exists       oneViewResourceCompatibility/logicalInterconnectGroup/issues   EG_2S1420PBPH    ${uniqueValidationKey}    ${validation}
