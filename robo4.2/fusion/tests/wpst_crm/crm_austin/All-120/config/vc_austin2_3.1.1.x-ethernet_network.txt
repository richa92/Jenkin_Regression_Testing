################################################################################
# Based on VC4.30 Pass34 RC3
# WPST_VC > MigrationManager1.20 > Feature Team > CLI > EthernetNetworks
#  3.1.1.13 network: add network, and set network
#  3.1.1.3  enet-connection: add enet-connection, and set enet-connection
#  3.1.1.18 server-port-map: add server-port-map, and set server-port-map
#  3.1.1.27 uplinkport: add uplinkport, and set uplinkport
#  3.1.1.28 uplinkset: add uplinkset, and set uplinkset
#  3.1.1.16 profile: add profile, assign profile, and set profile
################################################################################

set serverid Type=VC-Defined PoolId=61


set session Timeout=0


set domain MacType=VC-Defined MacPool=61

set mac-cache Enabled=true Refresh=5
set igmp Enabled=false
set enet-vlan -quiet VlanCapacity=Expanded
set statistics-throughput -quiet Enabled=true SampleRate=5m
set port-protect networkLoop=Enabled
set port-protect pauseFlood=Enabled
set lldp enhancedTlv=false
set lacp-timer Default=Short

add uplinkset OddPipe ConnectionMode=Auto LacpTimer=Domain-Default
add uplinkport enc0:1:X3 UplinkSet=OddPipe Speed=Auto
add uplinkport enc0:1:X4 UplinkSet=OddPipe Speed=Auto

add network-range -quiet UplinkSet=OddPipe nameprefix=net_0 namesuffix=O vlanids=2-6 NAGs=Default Labels=odd_pipe SmartLink=Enabled

add uplinkset EvenPipe ConnectionMode=Auto LacpTimer=Domain-Default
add uplinkport enc0:2:X3 UplinkSet=EvenPipe Speed=Auto
add uplinkport enc0:2:X4 UplinkSet=EvenPipe Speed=Auto

add network-range -quiet UplinkSet=EvenPipe nameprefix=net_0 namesuffix=E vlanids=2-6 NAGs=Default Labels=even_pipe SmartLink=Enabled

add uplinkset UplinkSetNative ConnectionMode=Failover
add uplinkport enc0:3:X3 UplinkSet=UplinkSetNative Speed=Auto Role=Primary
add uplinkport enc0:4:X3 UplinkSet=UplinkSetNative Speed=Auto Role=Secondary

add network net_10O -quiet UplinkSet=UplinkSetNative VLanID=10 NAGs=Default NativeVLAN=Enabled

add uplinkset UplinkSetNative2 ConnectionMode=Auto LacpTimer=Long
add uplinkport enc0:1:Q1.1 UplinkSet=UplinkSetNative2 Speed=Auto

add network net_10E -quiet UplinkSet=UplinkSetNative2 VLanID=10 NAGs=Default NativeVLAN=Enabled

add uplinkset UplinkSetPrivate1 ConnectionMode=Auto LacpTimer=Long
add uplinkport enc0:1:X5 UplinkSet=UplinkSetPrivate1 Speed=Auto

add network net_21O -quiet UplinkSet=UplinkSetPrivate1 VLanID=21 NAGs=Default Private=Enabled
add network net_22O -quiet UplinkSet=UplinkSetPrivate1 VLanID=22 NAGs=Default Private=Enabled

add uplinkset UplinkSetPrivate2 ConnectionMode=Auto LacpTimer=Long
add uplinkport enc0:2:X5 UplinkSet=UplinkSetPrivate2 Speed=Auto

add network net_21E -quiet UplinkSet=UplinkSetPrivate2 VLanID=21 NAGs=Default Private=Enabled
add network net_22E -quiet UplinkSet=UplinkSetPrivate2 VLanID=22 NAGs=Default Private=Enabled

add uplinkset UplinkSetNoPort ConnectionMode=Auto LacpTimer=Short

add network net_31 -quiet UplinkSet=UplinkSetNoPort VLanID=31 NAGs=Default PrefSpeedType=Custom PrefSpeed=3200
add network net_32 -quiet UplinkSet=UplinkSetNoPort VLanID=32 NAGs=Default PrefSpeedType=Custom PrefSpeed=5200

add uplinkset UplinkSet1longlong02longlong03longlong04longlong05longlong06long ConnectionMode=Failover
add uplinkport enc0:3:X5 UplinkSet=UplinkSet1longlong02longlong03longlong04longlong05longlong06long Speed=10Gb Role=Primary
add uplinkport enc0:4:X5 UplinkSet=UplinkSet1longlong02longlong03longlong04longlong05longlong06long Speed=Auto Role=Secondary

add network net_41 -quiet UplinkSet=UplinkSet1longlong02longlong03longlong04longlong05longlong06long VLanID=41 NAGs=Default
set network net_41 SmartLink=Enabled

add uplinkset UpSetMiscNative ConnectionMode=Auto LacpTimer=Short


add uplinkset UpSetVlanId ConnectionMode=Auto LacpTimer=Domain-Default


add uplinkset UpSetPortDisable ConnectionMode=Auto LacpTimer=Short
add uplinkport enc0:1:X7 UplinkSet=UpSetPortDisable Speed=1Gb


add uplinkset UpSet1 ConnectionMode=Auto LacpTimer=Long
add uplinkport enc0:2:Q1.1 UplinkSet=UpSet1 Speed=Auto

add network Network3 -quiet UplinkSet=UpSet1 VLanID=50 NAGs=Default PrefSpeedType=Custom PrefSpeed=2000 MaxSpeedType=Custom MaxSpeed=20000

add network 1Network891network892Network893network894Network895network896Net -quiet NAGs=Default VLanTunnel=Enabled LacpTimer=Domain-Default
add uplinkport enc0:3:X4 Network=1Network891network892Network893network894Network895network896Net Speed=Auto
add network 2Network891network892Network893network894Network895network896Net -quiet NAGs=Default VLanTunnel=Enabled LacpTimer=Domain-Default
add uplinkport enc0:4:X4 Network=2Network891network892Network893network894Network895network896Net Speed=Auto
add network 1Network -quiet State=Disabled NAGs=Default ConnectionMode=Failover VLanTunnel=Disabled PrefSpeedType=Custom PrefSpeed=5200
add uplinkport enc0:7:X3 Network=1Network Speed=Auto Role=Primary
add network 2Network -quiet NAGs=Default VLanTunnel=Disabled LacpTimer=Long MaxSpeedType=Custom MaxSpeed=20000
add uplinkport enc0:8:X3 Network=2Network Speed=Auto
add network 7 -quiet NAGs=Default VLanTunnel=Disabled LacpTimer=Short PrefSpeedType=Custom PrefSpeed=9100
add uplinkport enc0:7:X4 Network=7 Speed=Auto
add network 8 -quiet NAGs=Default ConnectionMode=Failover VLanTunnel=Enabled
add uplinkport enc0:8:X4 Network=8 Speed=10Gb Role=Primary
add network MiscSetNet -quiet NAGs=Default Private=Enabled VLanTunnel=Disabled LacpTimer=Short PrefSpeedType=Custom PrefSpeed=100 MaxSpeedType=Custom MaxSpeed=20000
add uplinkport enc0:5:X4 Network=MiscSetNet Speed=Auto
add network MiscNet2 -quiet NAGs=Default VLanTunnel=Disabled LacpTimer=Domain-Default
add network UnTagged_net -quiet NAGs=Default VLanTunnel=Disabled LacpTimer=Domain-Default
add uplinkport enc0:5:X3 Network=UnTagged_net Speed=10Gb
add network net100 -quiet NAGs=Default ConnectionMode=Failover VLanTunnel=Disabled PrefSpeedType=Custom PrefSpeed=8900
add uplinkport enc0:2:X7 Network=net100 Speed=Auto Role=Primary
add network net101 -quiet NAGs=Default VLanTunnel=Disabled LacpTimer=Domain-Default PrefSpeedType=Custom PrefSpeed=15000 MaxSpeedType=Custom MaxSpeed=20000
add uplinkport enc0:6:X3 Network=net101 Speed=Auto
add network net102 -quiet NAGs=Default ConnectionMode=Failover VLanTunnel=Enabled
add uplinkport enc0:6:X4 Network=net102 Speed=Auto Role=Primary
### PacketBufferOverallocationRatio is applicable only for
### HP 1/10Gb VC-Enet and HP 1/10Gb-F VC-Enet
### modules and deprecated for all other module types.

set advanced-networking -quiet PacketBufferOverallocationRatio=1 FlowControl=auto

set domain WwnType=VC-Defined WwnPool=61


set link-dist-interval Interval=30


add profile Profile1 -NoDefaultEnetConn -NoDefaultFcConn -NoDefaultFcoeConn -quiet NAG=Default HideUnusedFlexNICs=true BootMode=Auto
add enet-connection Profile1 Network=Unassigned PXE=UseBIOS
add enet-connection Profile1 Network=Unassigned PXE=Enabled
add enet-connection Profile1 Network=net_10O PXE=Disabled
add enet-connection Profile1 Network=net_10E PXE=UseBIOS
add enet-connection Profile1 Network=net_21O PXE=UseBIOS
add enet-connection Profile1 Network=net_21E PXE=UseBIOS
add enet-connection Profile1 Network=net_22O PXE=UseBIOS
add enet-connection Profile1 Network=net_41 PXE=UseBIOS
add enet-connection Profile1 Network=1Network891network892Network893network894Network895network896Net PXE=UseBIOS
add enet-connection Profile1 Network=2Network891network892Network893network894Network895network896Net PXE=UseBIOS
add enet-connection Profile1 Network=Unassigned PXE=UseBIOS
add enet-connection Profile1 Network=7 PXE=UseBIOS
add server-port-map-range Profile1:1 UplinkSet=OddPipe vlanids=2-4
add server-port-map-range Profile1:2 UplinkSet=EvenPipe vlanids=2-4

assign profile Profile1 enc0:1


add profile Profile2 -NoDefaultEnetConn -NoDefaultFcConn -NoDefaultFcoeConn -quiet NAG=Default HideUnusedFlexNICs=false SNType=Pool-Specified SerialNumber=VCX0001O66
add enet-connection Profile2 Network=1Network891network892Network893network894Network895network896Net PXE=UseBIOS
add enet-connection Profile2 Network=2Network891network892Network893network894Network895network896Net PXE=UseBIOS

assign profile Profile2 enc0:2


# The MAC/WWN/Logical SN may be different than the original profile configuration depending on pool settings.
#add profile Profile3 -NoDefaultEnetConn -NoDefaultFcConn -NoDefaultFcoeConn -quiet NAG=Default HideUnusedFlexNICs=true BootMode=Auto
add profile Profile3 -NoDefaultEnetConn -NoDefaultFcConn -NoDefaultFcoeConn -quiet NAG=Default HideUnusedFlexNICs=true SNType=User-Defined SerialNumber=VCX0122M22 UUID=aaaaaaaa-bbbb-cccc-dddd-eeeeeeeeeeee
add enet-connection Profile3 Network=Unassigned PXE=UseBIOS
add enet-connection Profile3 Network=8 PXE=UseBIOS
add server-port-map Profile3:1 Network3 UplinkSet=UpSet1 Untagged=false

assign profile Profile3 enc0:3

add profile Profile10 -NoDefaultEnetConn -NoDefaultFcConn -NoDefaultFcoeConn -quiet NAG=Default HideUnusedFlexNICs=true BootMode=Auto SNType=Factory-Default
add enet-connection Profile10 Network=net_02O PXE=Enabled AddressType=Factory-Default
add enet-connection Profile10 Network=net_02E PXE=UseBIOS AddressType=Factory-Default SpeedType=Custom Speed=5800
add enet-connection Profile10 Network=net_03O PXE=UseBIOS
add enet-connection Profile10 Network=net_03E PXE=UseBIOS AddressType=Factory-Default SpeedType=Auto

# The MAC/WWN/Logical SN may be different than the original profile configuration depending on pool settings.
add enet-connection Profile10 Network=net100 PXE=UseBIOS
add enet-connection Profile10 Network=Unassigned PXE=UseBIOS AddressType=Factory-Default
add server-port-map Profile10:6 Network3 UplinkSet=UpSet1 Untagged=false

assign profile Profile10 enc0:10

add profile Profile12 -NoDefaultEnetConn -NoDefaultFcConn -NoDefaultFcoeConn -quiet NAG=Default HideUnusedFlexNICs=true BootMode=Auto
add enet-connection Profile12 Network=1Network891network892Network893network894Network895network896Net PXE=Disabled
add enet-connection Profile12 Network=2Network891network892Network893network894Network895network896Net PXE=UseBIOS
add enet-connection Profile12 Network=net_02O PXE=UseBIOS
add enet-connection Profile12 Network=net_02E PXE=UseBIOS SpeedType=Auto
add enet-connection Profile12 Network=Unassigned PXE=UseBIOS
add enet-connection Profile12 Network=Unassigned PXE=UseBIOS
add enet-connection Profile12 Network=Unassigned PXE=UseBIOS
add enet-connection Profile12 Network=net_31 PXE=UseBIOS SpeedType=Custom Speed=12800
add enet-connection Profile12 Network=net_32 PXE=UseBIOS SpeedType=Custom Speed=2100
add enet-connection Profile12 Network=net_41 PXE=UseBIOS
add server-port-map-range Profile12:5 UplinkSet=OddPipe vlanids=2-6
add server-port-map Profile12:5 net_10O VLanID=10 Untagged=false
add server-port-map-range Profile12:6 UplinkSet=EvenPipe vlanids=2-6
add server-port-map Profile12:6 net_10E VLanID=10 Untagged=false

assign profile Profile12 enc0:12


show config
show config -includePoolInfo
#show all
