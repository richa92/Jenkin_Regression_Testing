*** Settings ***
Documentation    WPST VC CLI FCoE SAN Supported Test Suite
...              [1]3.1.1.7 fcoe-connection
...              [1]3.1.1.16 profile
...              [1]3.1.1.13 network
...              [1]3.1.1.27 uplinkport

Library           RoboGalaxyLibrary
Library           FusionLibrary
Library           ../lib/WPSTUtil.py

Variables                       ../resources/defaults.py
Variables                       ../resources/credentials_wpst.py   Austin4
Force Tags                      Austin4
Resource                        ../resources/keywords.txt
Suite Setup                     Suite Setup Tasks
Test Setup                      Test Setup Tasks

*** Variables ***
${vc_config_file}          config/vc_austin4_3.1.1.7-FCoE-SANs.txt
@{bayNumbers}              3   4

*** Test Cases ***
7-0--CleanOV.CleanVC
    [Tags]   CleanOV.CleanVC
    [Documentation]  Delete all resources in OV; delete VC domain
    CleanOV.CleanVC

7-1--Config VC
    [Documentation]  Import and configure VC from config_file
    Import VC
    # Detect, reset and sleep to workaround QXCR1001467844: Utah module in No Comm state after import enclosure
    Check Interconnect In No Comm And Recover If Needed   ${bayNumbers}
    Config VC     ${vc_config_file}

7-2--Run compatibility report and compare resources JSON
    [Documentation]  Generate Compatibility report; write to Json file and compare with saved Json file
    Report.Write.Compare

7-2--Migrate and compare resources JSON
    [Documentation]   Migrate into OV; get all resources in OV; write to Json file and compare with saved Json file
    Migrate.GetOVResources.Write.Compare
