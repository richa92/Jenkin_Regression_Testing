*** Settings ***
Documentation     VC Migration Ethernet Network Test Suite (JSON compare strategy)
...               Configure VC with provided CLI file, migrate VC to OV, and verify OV resources after migration
...               = Usage =
...               cmdline: pybot -d ../logs  --timestampoutputs -t <target test case> <target test file>

Library           RoboGalaxyLibrary
Library           FusionLibrary
Library           ../lib/WPSTUtil.py

Variables         ../resources/defaults.py
Variables         ../resources/credentials_wpst.py   Austin2

Resource          ../resources/keywords.txt

Suite Setup       Suite Setup Tasks
Test Setup        Test Setup Tasks


*** Variables ***
@{ignoreList}    uuid
${VCConfigFile}      config/vc_austin2_3.1.1.4-enet-vlan.txt

*** Test Cases ***
1--Debugging QXCR1001458836 - Reproduce the issue
    :FOR  ${i}  IN RANGE   0  999
    \    CleanOV.CleanVC
    \    Import.ConfigVC   ${VCConfigFile}
    \    Set Test Variable   ${IsCompare}   ${False}
    \    Report.Write.Compare

#2a--Debugging QXCR1001458836 - Get OA show All
#    ${showAll} =   WPST Execute Oacli Command   ${OA_CREDENTIAL_DATA}   show all

2b--Debugging QXCR1001458836 - Get OVA support dump
    ${body} =   Create Dictionary   encrypt=${false}   errorCode=CI
    ${response} =   Fusion Api Create Support Dump   ${body}
    ${uri} =   Get From Dictionary   ${response}   uri
    ${response} =   Fusion Api Download Support Dump   uri=${uri}   localfile=QXCR1001458836-Austin2/applianceSupportDump.sdmp

#2c--Debugging QXCR1001458836 - Get OA show syslog
#    ${showSyslog} =   WPST Execute Oacli Command   ${OA_CREDENTIAL_DATA}   show syslog oa 1

#2d--Debugging QXCR1001458836 - Get OA support dump
#    ${showSyslog} =   WPST Execute Oacli Command   ${OA_CREDENTIAL_DATA}   upload supportdump ftp://anonymous:anonymous@15.178.222.35/pub/QXCR1001458836-oa-support-dump.tgz

#2e--Debugging QXCR1001458836 - Get OA dump_debug
#    ${debugDump} =   WPST Execute Diag Command   ${OA_CREDENTIAL_DATA}  dump_debug
