*** Settings ***
Documentation    WPST VC CLI FC SAN Supported Test Suite
...              PreCondition: VC 4.3x
...              3.1.1.6 fc-connection
...              3.1.1.5 fabric
...              3.1.1.16 profile
...              3.1.1.10 link-dist-interval

Library           RoboGalaxyLibrary
Library           FusionLibrary
Library           ../lib/WPSTUtil.py

Variables                       ../resources/defaults.py
Variables                       ../resources/credentials_wpst.py   Austin4
Force Tags                      Austin4
Resource                        ../resources/keywords.txt
Suite Setup                     Suite Setup Tasks
Test Setup                      Test Setup Tasks

*** Variables ***
${vc_config_file}          config/vc_austin4_3.1.1.6-FC-SANs-vc430.txt
@{bayNumbers}              3   4

*** Test Cases ***
6-0--CleanOV.CleanVC
    [Tags]    CleanOV.CleanVC
    [Documentation]  Delete all resources in OV; delete VC domain
    CleanOV.CleanVC

6-1--Config VC
    [Documentation]  Import and configure VC from config_file
    Import VC
    # Detect, reset and sleep to workaround QXCR1001467844: Utah module in No Comm state after import enclosure
    Check Interconnect In No Comm And Recover If Needed   ${bayNumbers}
    Config VC     ${vc_config_file}

6-2--Generate Compatibility Report Then Compare Resource JSON Data
    [Documentation]  Generate Compatibility report; write to Json file and compare with saved Json file
    Report.Write.Compare

6-2--Migrate Then Compare Resource JSON Data
    [Documentation]   Migrate into OV; get all resources in OV; write to Json file and compare with saved Json file
    Migrate.GetOVResources.Write.Compare
