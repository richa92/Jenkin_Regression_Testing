*** Settings ***
Documentation    WPST VC Dynamic Bandwidth Test Suite
...              This testsuite covers the following testcases in ALM:
...                 3.2.2.1 Networks with Preferred and Max Unrestricted
...                 3.2.2.2 Networks with Preferred and Max Custom
...                 3.2.2.3 Multiple Networks with Preferred and Max Unrestricted
...                 3.2.2.4 Multiple Networks with Preferred and Max Custom
...                 3.2.2.6 Custom Requested exceeds Max bandwidth
...                 3.2.2.7 Preferred Requested exceeds Max bandwidth

Library           RoboGalaxyLibrary
Library           FusionLibrary
Library           ../lib/WPSTUtil.py

Variables                       ../resources/defaults.py
Variables                       ../resources/credentials_wpst.py   Austin3
Force Tags                      Austin3
Resource                        ../resources/keywords.txt
Suite Setup                     Suite Setup Tasks
Test Setup                      Test Setup Tasks

*** Variables ***
${vc_config_file1}          config/vc_austin3_bw-1.txt
${vc_config_file2}          config/vc_austin3_bw-2.txt
@{rptIgnore}   logicalInterconnectGroupName  enclosureIp  enclosureName  enclosureGroupName   oaIpAddress   vcmIpAddress  enclosureSerialNumber
*** Test Cases ***

T0--Clean OneView and VC
    [Tags]   CleanOV.CleanVC
    CleanOV.CleanVC

T1--Bandwidth testing with config1 - Test Compatibility
    [Documentation]     Bandwidth testing with config1
    Import.ConfigVC     ${vc_config_file1}
    Report.Write.Compare   ${rptIgnore}

T1--Bandwidth testing with config1 - Migrate
    [Documentation]     Bandwidth testing with config1
    Migrate
    GetOVResources.Write.Compare

T1-CleanupOV
    CleanOV

T1-CleanupVC
    CleanVC

T2--Bandwidth testing with config2 - Test Compatibility
    [Documentation]     Bandwidth testing with config2
    Import.ConfigVC     ${vc_config_file2}
    Report.Write.Compare    ${rptIgnore}

T2--Bandwidth testing with config2 - Migrate
    [Documentation]     Bandwidth testing with config2
    Migrate
    GetOVResources.Write.Compare
