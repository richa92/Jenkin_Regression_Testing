*** Settings ***
Documentation     VC CLI for Critial/High/Medium General Issues and no HW requirement
...    Covers the following testcases:
...        3.1.2.11--igmp
...        3.1.1.8 igmp
...        3.1.2.12--interconnect
...        3.1.2.20--mcast-filter
...        3.1.2.21--mcast-filter-rule
...        3.1.2.22--mcast-filter-set
...        3.1.2.24--2-network
...        3.1.2.25-network-access-group
...        3.1.2.37-sflow
...        3.1.2.41-1-snmp
...        3.1.2.41-2-snmp
...        3.1.2.41-3-snmp
...        3.1.2.45-stackinglink
...        3.1.2.48-tacacs
...        3.1.2.23-nag-network
...        3.1.2.46-statistics-throughput
...        3.1.2.34-role
...        3.1.2.42-snmp-user
...        3.1.1.21-1-smis
...        3.1.1.21-2-snmp-ReadCommunity
...        3.1.1.21-3-snmp-contact
...        3.1.1.23-1-snmp-net-trap
...        3.1.1.23-1.1-snmp-set-domain-trap
...        3.1.1.23-1.2-snmp-set-net-trap
...        3.1.1.23-1.3-snmp-set-profile-trap
...        3.1.1.23-1.4-snmp-set-serverstatus-trap
...        3.1.1.23-1.5-snmp-fabricstatus-trap
...        3.1.1.23-1.6-snmp-fcstatus-trap
...        3.1.1.23-1.7-snmp-legacy-trap
...        3.1.2.28-qos
...        3.1.2.32--radius
...        3.1.4.3--FlowControl
...
...    NOTES: 
...        When running against OV 2.0, you need to exclude OV 1.20 testcases by using --exclude OV120

Library           RoboGalaxyLibrary
Library           FusionLibrary
Library           ../lib/WPSTUtil.py

Variables                       ../resources/defaults.py
Variables                       ../resources/credentials_wpst.py   Austin4
Force Tags                      Austin4
Resource                        ../resources/keywords.txt
Suite Setup                     Suite Setup Tasks
Test Setup                      Test Setup Tasks

*** Variables ***


*** Test Cases ***
TC0
    [Tags]    CleanOV.CleanVC
    CleanOV.CleanVC

TC00--Import Enclosure in VC
    [Tags]    ImportEnclosure
    @{commands}     Create List    import enclosure username=${OA_CREDENTIAL_DATA['oaUsername']} password=${OA_CREDENTIAL_DATA['oaPassword']}
    Run CLI In Interconnect From List    ${commands}

#-----------The following test cases has no hardware configuration requirements---------
3.1.2.11--igmp
    [Documentation]  set igmp enabled=true NoFlood=true
    ...              This also covers 3.1.1.8 igmp test case
    @{commands_on}     Create List    set igmp enabled=true NoFlood=true
    @{commands_off}    Create List   set igmp enabled=false NoFlood=false
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_IGMP_NO_FLOOD
    ...                                 level=Critical
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists      incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed      incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.12--interconnect
    @{commands_on}     Create List    set interconnect enc0:1 -quiet Hostname="WSPTVC"
    @{commands_off}    Create List    set interconnect enc0:1 -quiet Hostname="DEFAULT"
    ${validation}           Create Dictionary   errorCode=FEATURE_ISSUE_TELEMETRY_CUSTOM_MODULE_HOSTNAME
    ...                                                     level=High
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists       incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Sleep       10 sec
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.20--mcast-filter
    @{commands_on}     Create List    add mcast-filter MCF1
    @{commands_off}    Create List    remove mcast-filter MCF1
    ${validation}           Create Dictionary   errorCode=FEATURE_CODE_ISSUE_MCAST_FILTER
    ...                                         level=Critical
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists       incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.21--mcast-filter-rule
    @{commands_on}     Create List    add mcast-filter MCF
    ...                               add mcast-filter-rule McastFilter=MCF Networks=224.12.0.1/32
    @{commands_off}    Create List    remove mcast-filter-rule McastFilter=MCF Network=*
    ...                               remove mcast-filter MCF
    ${validation}           Create Dictionary   errorCode=FEATURE_CODE_ISSUE_MCAST_FILTER
    ...                                         level=Critical
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists       incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.22--mcast-filter-set
    @{commands_on}     Create List    add mcast-filter-set MCFS
    @{commands_off}    Create List    remove mcast-filter-set MCFS
    ${validation}           Create Dictionary   errorCode=FEATURE_CODE_ISSUE_MCAST_FILTER
    ...                                         level=Critical
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists       incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.24--2-network
    [Tags]      OV120
    [Documentation]     FCoE dual-hop is supported in OV 2.0 and up only
    @{commands_on}     Create List    add uplinkset Uplinkset_fcoe
    ...                                 add network net_fcoe -fcoe UplinkSet=Uplinkset_fcoe VLANID=100
    @{commands_off}    Create List    remove network net_fcoe
    ...                                 remove uplinkset Uplinkset_fcoe
    ${validation}           Create Dictionary   errorCode=FEATURE_CODE_ISSUE_DUAL_HOP_FCOE
    ...                                         level=Critical
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists       incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.25-network-access-group
    @{commands_on}     Create List    add network-access-group HPIT
    @{commands_off}    Create List    remove network-access-group HPIT
    ${validation}           Create Dictionary   errorCode=FEATURE_CODE_ISSUE_NETWORK_ACCESS_GROUP
    ...                                         level=High
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists       incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.37-sflow
    @{commands_on}     Create List    add network sflow1
    ...                                 set sflow Network=sflow1
    @{commands_off}    Create List    set sflow network=
    ...                                 remove network sflow1
    ${validation}           Create Dictionary   errorCode=FEATURE_CODE_ISSUE_SFLOW
    ...                                         level=High
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists       incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.41-1-snmp
    @{commands_on}     Create List    set snmp fc enablev3=true
    ...                                 set snmp enet enablev3=true
    ...                                 add snmp-user snmpv3user
    ...                                 add snmp-trap EnetManagementStation Port=1001 Format=SNMPv3 UserName=snmpv3user Address=192.112.34.10 Severity=Normal,Critical EnetCategories=Other
    @{commands_off}    Create List    remove snmp-trap EnetManagementStation
    ...                                 remove snmp-user snmpv3user
    ...                                 set snmp Enet enablev3=false
    ...                                 set snmp fc enablev3=false
    ${validation}           Create Dictionary   errorCode=FEATURE_CODE_ISSUE_SNMPV3_SUPPORT
    ...                                         level=Critical
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists       incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.41-2-snmp
    @{commands_on}     Create List    set snmp enet enablev1v2=true
    ...                                 set snmp fc enablev1v2=false
    @{commands_off}    Create List    set snmp Enet enablev1v2=true
    ...                                 set snmp FC enablev1v2=true
    ${validation}           Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_ENET_FC_ENABLED
    ...                                         level=High
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists       incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.41-3-snmp
    @{commands_on}     Create List    set snmp FC SmisEnabled=false
    @{commands_off}    Create List    set snmp FC SmisEnabled=true
    ${validation}           Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_SMIS_IS_DISABLED
    ...                                         level=Medium
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists       incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.45-stackinglink-negative-test
    [Tags]   BelowOV300
    @{commands_on}     Create List   set stackinglink -quiet DomainStackingMode=Horizontal
    @{commands_off}    Create List   set stackinglink -quiet DomainStackingMode=full
    ${validation}           Create Dictionary   errorCode=FEATURE_CODE_ISSUE_PARTIALLY_STACKED_DOMAIN
    ...                                         level=Critical
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists       incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.45-stackinglink-positive-test
    [Tags]   OV300
    @{commands_on}     Create List   set stackinglink -quiet DomainStackingMode=Horizontal
    @{commands_off}    Create List   set stackinglink -quiet DomainStackingMode=full
    ${validation}           Create Dictionary   errorCode=FEATURE_CODE_ISSUE_PARTIALLY_STACKED_DOMAIN
    ...                                         level=Critical
    Run CLI In Interconnect From List    ${commands_on}
    #validate issues removed here because OV 3.00 supports PSD
    Validate Detail Report If General Issues Removed       incompatibilities/migrationGeneralIssues/issues   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.48-tacacs
    @{commands_on}     Create List   set tacacs enabled=true serveraddress=192.168.1.1 serverkey=123456
    @{commands_off}    Create List   set tacacs enabled=false
    ${validation}           Create Dictionary   errorCode=FEATURE_ISSUE_RADIUS_TACACS
    ...                                         level=High
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists       incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.23-nag-network
    @{commands_on}     Create List   add network nagnet
    ...                                 add network-access-group nag
    ...                                 add nag-network Nag=nag Network=nagnet
    ...                                 add network nagnet2 Nags=nag
    @{commands_off}    Create List   remove nag-network nag=nag network=nagnet
    ...                                 remove network nagnet
    ...                                 remove network nagnet2
    ...                                 remove network-access-group nag
    ${validation}           Create Dictionary   errorCode=FEATURE_CODE_ISSUE_NETWORK_ACCESS_GROUP
    ...                                         level=High
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists       incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.46-statistics-throughput
    @{commands_on}     Create List   set statistics-throughput Enabled=false
    @{commands_off}    Create List   set statistics-throughput Enabled=true
    ${validation}           Create Dictionary   errorCode=FEATURE_ISSUE_PORT_THROUGHPUT_STATISTICS
    ...                                         level=Medium
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists       incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.34-role
    @{commands_on}     Create List   set role server Operations=
    @{commands_off}    Create List   set role server Operations=default
    ${validation}           Create Dictionary   errorCode=FEATURE_CODE_ISSUE_ROLE_OPERATIONS
    ...                                         level=High
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists       incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed        incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.28-qos
    [Tags]    OV120
    [Documentation]   set qos CustomWithFCoE
    @{commands_on}    Create List   set qos CustomWithFCoE
    ...					set qos-class Class1 Enabled=True RealTime=False Share=50 MaxShare=75 EgressDOT1P=7
    @{commands_off}   Create List   set qos Passthrough
    ${validation}   Create Dictionary   errorCode=FEATURE_CODE_ISSUE_QOS
    ...					level=Critical
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

    # [Documentation]   set qos CustomNoFCoE
    @{commands_on}    Create List   set qos CustomNoFCoE
    ...					set qos-classifier All classifiers=DOT1P
    @{commands_off}   Create List   set qos Passthrough
    ${validation}   Create Dictionary   errorCode=FEATURE_CODE_ISSUE_QOS
    ...					level=Critical
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.42-snmp-user
    [Documentation]   snmp-user testing expects Critical level issue in compat report
    @{commands_on}    Create List   add snmp-user beta AuthAlgo=SHA1 AuthPassPhrase=bellerophone PrivAlgo=AES128 PrivPassPhrase=armageddon EngineId=0x44fecd55438f
    ...				set snmp-user beta AuthAlgo=SHA1 AuthPassPhrase=bellerophone PrivAlgo=AES128 PrivPassPhrase=armageddon EngineId=0x44fecd55438f	
    @{commands_off}   Create List   remove snmp-user beta EngineId=0x44fecd55438f
    ${validation}   Create Dictionary   errorCode=FEATURE_CODE_ISSUE_SNMPV3_SUPPORT
    ...					level=Critical
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.43-snmp-trap
    [Documentation]   snmp-trap testing expects Critical level issue in compat report
    @{commands_on}    Create List   add snmp-user theta AuthAlgo=SHA1 AuthPassPhrase=bellerophone PrivAlgo=AES128
    ...				add snmp-trap trap3 address=10.10.2.86 Port=4040 Format=SNMPv3 Severity=All EnetCategories=All UserName=theta SecurityLevel=AUTHNOPRIV
    ...				set snmp-trap trap3 address=10.10.2.86 Port=4040 Format=SNMPv3 Severity=All EnetCategories=All UserName=theta SecurityLevel=AUTHNOPRIV
    @{commands_off}   Create List   remove snmp-trap trap3
    ...				remove snmp-user theta
    ${validation}   Create Dictionary   errorCode=FEATURE_CODE_ISSUE_SNMPV3_SUPPORT
    ...					level=Critical
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.21-1-smis
    [Documentation]   Disabling SMIS is not supported in OneView
    @{commands_on}    Create List   set snmp fc SmisEnabled=false
    @{commands_off}   Create List   set snmp fc SmisEnabled=true
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_SMIS_IS_DISABLED
    ...					level=Medium
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.21-2-snmp-ReadCommunity
    [Documentation]   set snmp fc ReadCommunity=public-fc and expects to get error code FEATURE_ISSUE_SNMP_READ_COMMUNITY
    @{commands_on}    Create List   set snmp enet ReadCommunity=public-enet
    ...				set snmp fc ReadCommunity=public-fc
    @{commands_off}   Create List   set snmp fc ReadCommunity=public-enet
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_READ_COMMUNITY
    ...					level=High
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.21-3-snmp-contact
    [Documentation]   set snmp fc SystemContact=fc-conect expects FEATURE_ISSUE_SNMP_SYS_CONTACT in compat report
    @{commands_on}    Create List   set snmp fc SystemContact=fc-contact
    ...				set snmp enet SystemContact=enet-contact
    @{commands_off}   Create List  set snmp fc SystemContact=enet-contact 
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_SYS_CONTACT
    ...					level=High
    ...					recommendation=The setting Ethernet system contact enet-contact is different than Fibre Channel system contact fc-contact. OneView will use the SNMP system contact Ethernet system contact for both Ethernet and Fibre Channel.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.23-1-snmp-net-trap--OV200
    [Tags]   OV200
    [Documentation]   Testing snmp netstatus trap for error code FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORIES
    @{commands_on}    Create List   remove snmp-trap *
    ...				add snmp-trap EnetManagementServer Address=10.10.0.23 Community=private Format=SNMPv1 Severity=Normal,Critical EnetCategories=PortStatus DomainCategories=DomainStatus,NetworkStatus,ProfileStatus,ServerStatus,EnetStatus
    @{commands_off}   Create List  remove snmp-trap *
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORIES
    ...					level=High
    ...					recommendation=Virtual Connect Manager trap categories contains Domain Status, Server Status, Network Status, Profile Status, and Enet Status which are not supported by OneView. These categories will be removed.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   errorCode   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.23-1-snmp-net-trap--OV120
    [Tags]   OV120
    [Documentation]   Testing snmp netstatus trap for error code FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    @{commands_on}    Create List   remove snmp-trap *
    ...				add snmp-trap EnetManagementServer Address=10.10.0.23 Community=private Format=SNMPv1 Severity=Normal,Critical EnetCategories=PortStatus DomainCategories=DomainStatus,NetworkStatus,ProfileStatus,ServerStatus,EnetStatus
    @{commands_off}   Create List  remove snmp-trap *
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    ...					level=High
    ...					recommendation=Virtual Connect Manager Trap Categories is set to VCM_DOMAIN_STATUS and is not supported by OneView. This setting will be removed.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   recommendation   ${validation}
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.23-1.1-snmp-set-domain-trap--OV200
    [Tags]   OV200
    [Documentation]   Testing snmp set domain trap for error code FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORIES
    @{commands_on}    Create List   remove snmp-trap *
    ...				add snmp-trap EnetManagementServer Address=10.10.0.23 Community=private Format=SNMPv1 Severity=Normal,Critical EnetCategories=PortStatus DomainCategories=NetworkStatus,ProfileStatus,ServerStatus,EnetStatus
    @{commands_off}   Create List  remove snmp-trap *
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORIES
    ...					level=High
    ...					recommendation=Virtual Connect Manager trap categories contains Server Status, Network Status, Profile Status, and Enet Status which are not supported by OneView. These categories will be removed.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   recommendation   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.23-1.1-snmp-set-domain-trap--OV120
    [Tags]   OV120
    [Documentation]   Testing snmp set domain trap for error code FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    @{commands_on}    Create List   remove snmp-trap *
    ...				add snmp-trap EnetManagementServer Address=10.10.0.23 Community=private Format=SNMPv1 Severity=Normal,Critical EnetCategories=PortStatus DomainCategories=NetworkStatus,ProfileStatus,ServerStatus,EnetStatus
    @{commands_off}   Create List  remove snmp-trap *
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    ...					level=High
    ...					recommendation=Virtual Connect Manager Trap Categories is set to VCM_NETWORK_STATUS and is not supported by OneView. This setting will be removed.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   recommendation   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.23-1.2-snmp-set-net-trap--OV200
    [Tags]   OV200
    [Documentation]   Testing snmp set net trap for error code FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORIES
    @{commands_on}    Create List   remove snmp-trap *
    ...				add snmp-trap EnetManagementServer Address=10.10.0.23 Community=private Format=SNMPv1 Severity=Normal,Critical EnetCategories=PortStatus DomainCategories=ProfileStatus,ServerStatus,EnetStatus
    @{commands_off}   Create List  remove snmp-trap *
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORIES
    ...					level=High
    ...					recommendation=Virtual Connect Manager trap categories contains Server Status, Profile Status, and Enet Status which are not supported by OneView. These categories will be removed.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   recommendation   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.23-1.2-snmp-set-net-trap--OV120
    [Tags]   OV120
    [Documentation]   Testing snmp set net trap for error code FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    @{commands_on}    Create List   remove snmp-trap *
    ...				add snmp-trap EnetManagementServer Address=10.10.0.23 Community=private Format=SNMPv1 Severity=Normal,Critical EnetCategories=PortStatus DomainCategories=ProfileStatus,ServerStatus,EnetStatus
    @{commands_off}   Create List  remove snmp-trap *
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    ...					level=High
    ...					recommendation=Virtual Connect Manager Trap Categories is set to VCM_PROFILE_STATUS and is not supported by OneView. This setting will be removed.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   recommendation   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.23-1.3-snmp-set-profile-trap--OV200
    [Tags]   OV200
    [Documentation]   Testing snmp set profile trap for error code FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORIES
    @{commands_on}    Create List   remove snmp-trap *
    ...				add snmp-trap EnetManagementServer Address=10.10.0.23 Community=private Format=SNMPv1 Severity=Normal,Critical EnetCategories=PortStatus DomainCategories=ServerStatus,EnetStatus
    @{commands_off}   Create List  remove snmp-trap *
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORIES
    ...					level=High
    ...					recommendation=Virtual Connect Manager trap categories contains Server Status and Enet Status which are not supported by OneView. These categories will be removed.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   recommendation   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.23-1.3-snmp-set-profile-trap--OV120
    [Tags]   OV120
    [Documentation]   Testing snmp set profile trap for error code FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    @{commands_on}    Create List   remove snmp-trap *
    ...				add snmp-trap EnetManagementServer Address=10.10.0.23 Community=private Format=SNMPv1 Severity=Normal,Critical EnetCategories=PortStatus DomainCategories=ServerStatus,EnetStatus
    @{commands_off}   Create List  remove snmp-trap *
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    ...					level=High
    ...					recommendation=Virtual Connect Manager Trap Categories is set to VCM_SERVER_STATUS and is not supported by OneView. This setting will be removed.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   recommendation   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.23-1.4-snmp-set-serverstatus-trap--OV200
    [Tags]   OV200
    [Documentation]   Testing snmp set profile server status trap for error code FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    @{commands_on}    Create List   remove snmp-trap *
    ...				add snmp-trap EnetManagementServer Address=10.10.0.23 Community=private Format=SNMPv1 Severity=Normal,Critical EnetCategories=PortStatus DomainCategories=EnetStatus
    @{commands_off}   Create List  remove snmp-trap *
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    ...					level=High
    ...					recommendation=Virtual Connect Manager trap categories contains Enet Status which is not supported by OneView. This category will be removed.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   recommendation   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.23-1.4-snmp-set-serverstatus-trap--OV120
    [Tags]   OV120
    [Documentation]   Testing snmp set profile server status trap for error code FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    @{commands_on}    Create List   remove snmp-trap *
    ...				add snmp-trap EnetManagementServer Address=10.10.0.23 Community=private Format=SNMPv1 Severity=Normal,Critical EnetCategories=PortStatus DomainCategories=EnetStatus
    @{commands_off}   Create List  remove snmp-trap *
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    ...					level=High
    ...					recommendation=Virtual Connect Manager Trap Categories is set to VCM_VC_ENET_STATUS and is not supported by OneView. This setting will be removed.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   recommendation   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.23-1.5-snmp-fabricstatus-trap--OV200
    [Tags]    OV200
    [Documentation]   Testing snmp fabric status trap for error code FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    @{commands_on}    Create List   remove snmp-trap *
    ...				add snmp-trap EnetManagementServer Address=10.10.0.23 Community=private Format=SNMPv1 Severity=Normal,Critical EnetCategories=PortStatus DomainCategories=FabricStatus
    @{commands_off}   Create List  remove snmp-trap *
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    ...					level=High
    ...					recommendation=Virtual Connect Manager trap categories contains Fabric Status which is not supported by OneView. This category will be removed.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   recommendation   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.23-1.5-snmp-fabricstatus-trap--OV120
    [Tags]   OV120
    [Documentation]   Testing snmp fabric status trap for error code FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    @{commands_on}    Create List   remove snmp-trap *
    ...				add snmp-trap EnetManagementServer Address=10.10.0.23 Community=private Format=SNMPv1 Severity=Normal,Critical EnetCategories=PortStatus DomainCategories=FabricStatus
    @{commands_off}   Create List  remove snmp-trap *
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    ...					level=High
    ...					recommendation=Virtual Connect Manager Trap Categories is set to VCM_FABRIC_STATUS and is not supported by OneView. This setting will be removed.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   recommendation   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.23-1.6-snmp-fcstatus-trap--OV200
    [Tags]    OV200
    [Documentation]   Testing snmp fc status trap for error code FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    @{commands_on}    Create List   remove snmp-trap *
    ...				add snmp-trap EnetManagementServer Address=10.10.0.23 Community=private Format=SNMPv1 Severity=Normal,Critical FcCategories=PortStatus,Other DomainCategories=FcStatus
    @{commands_off}   Create List  remove snmp-trap *
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    ...					level=High
    ...					recommendation=Virtual Connect Manager trap categories contains FC Status which is not supported by OneView. This category will be removed.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   recommendation   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.23-1.6-snmp-fcstatus-trap--OV120
    [Tags]    OV120
    [Documentation]   Testing snmp fc status trap for error code FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    @{commands_on}    Create List   remove snmp-trap *
    ...				add snmp-trap EnetManagementServer Address=10.10.0.23 Community=private Format=SNMPv1 Severity=Normal,Critical FcCategories=PortStatus,Other DomainCategories=FcStatus
    @{commands_off}   Create List  remove snmp-trap *
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_SNMP_VCM_TRAP_CATEGORY
    ...					level=High
    ...					recommendation=Virtual Connect Manager Trap Categories is set to VCM_VC_FC_STATUS and is not supported by OneView. This setting will be removed.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   recommendation   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.1.23-1.7-snmp-legacy-trap
    [Documentation]   Testing snmp legacy trap for error code FEATURE_ISSUE_TELEMETRY_CUSTOM_MODULE_HOSTNAME
    @{commands_on}    Create List   set snmp enet ReadCommunity=public
    ...				set snmp fc ReadCommunity=public
    ...				set snmp enet SystemContact=contact1
    ...				set snmp fc SystemContact=contact1
    ...				set snmp fc SmisEnabled=true
    ...				set interconnect enc0:1 -quiet Hostname=XXX
    ...				set interconnect enc0:2 -quiet Hostname="DEFAULT"
    ...				remove snmp-trap *
    ...				add snmp-trap EnetManagementServer Address=10.10.0.23 Community=private Format=SNMPv1 Severity=Normal,Critical EnetCategories=PortStatus DomainCategories=Legacy
    @{commands_off}   Create List   set interconnect enc0:1 -quiet Hostname="DEFAULT"
    ...				remove snmp-trap *
    ${validation}   Create Dictionary   errorCode=FEATURE_ISSUE_TELEMETRY_CUSTOM_MODULE_HOSTNAME
    ...					level=High
    ...					recommendation=Select the interconnect module under the interconnect bays page and reset the module host name in the Virtual Connect domain.
    Run CLI In Interconnect From List   ${commands_on}
    Validate Detail Report If General Issue Exists   incompatibilities/migrationGeneralIssues/issues   recommendation   ${validation} 
    Run CLI In Interconnect From List   ${commands_off}
    Sleep       10 sec
    Validate Detail Report If General Issues Removed   incompatibilities/migrationGeneralIssues/issues   ${validation}

3.1.2.32--radius
    [Documentation]   This test expects High severity issue from Migration Manager
    @{commands_on}    Create List   set radius Enabled=true ServerAddress=192.168.0.124 ServerKey=test123 SecondaryServerAddress=radserver.hp.com SecondaryServerKey=test456 Port=1812 Timeout=10 SecondaryPort=1812 SecondaryTimeout=10
    @{commands_off}   Create List   set radius Enabled=false
    ${validation}     Create Dictionary   errorCode=FEATURE_ISSUE_RADIUS_TACACS
    ...                                        level=High
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists    incompatibilities/migrationGeneralIssues/issues    errorCode   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed    incompatibilities/migrationGeneralIssues/issues    ${validation}

3.1.4.3--FlowControl-On
    [Documentation]   FlowControl : (Optional) "auto" means VC Ethernet modules will decide automatically based on port type if flow control should be enabled or disabled. "on" means flow control is enabled for both RX/TX
    ...               directions for all ports. "off" means flow control is disabled for both RX/TX directions for all ports.
    ...               NOTE: Port-level Flow Control does not apply to ports on which FCoE is configured. FCoE utilizes priority-level FlowControl only when configured.
    ...               Expected result: If not set to AUTO, The Migration Manager should raise a Critical error.
    @{commands_on}    Create List   
    ...               set advanced-networking -quiet PacketBufferOverallocationRatio=1 FlowControl=on
    @{commands_off}   Create List   
    ...               set advanced-networking -quiet PacketBufferOverallocationRatio=1 FlowControl=auto
    ${validation}     Create Dictionary   errorCode=FEATURE_ISSUE_FLOW_CONTROL
    ...                                   level=Critical
    ...                                   recommendation=The setting Advanced Network Settings Flow Control is ON and is not supported by OneView. Change the value to AUTO.
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists    incompatibilities/migrationGeneralIssues/issues    recommendation   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed    incompatibilities/migrationGeneralIssues/issues    ${validation}

3.1.4.3--FlowControl-Off
    [Documentation]   FlowControl : (Optional) "auto" means VC Ethernet modules will decide automatically based on port type if flow control should be enabled or disabled. "on" means flow control is enabled for both RX/TX
    ...               directions for all ports. "off" means flow control is disabled for both RX/TX directions for all ports.
    ...               NOTE: Port-level Flow Control does not apply to ports on which FCoE is configured. FCoE utilizes priority-level FlowControl only when configured.
    ...               Expected result: If not set to AUTO, The Migration Manager should raise a Critical error.
    @{commands_on}    Create List   
    ...               set advanced-networking -quiet PacketBufferOverallocationRatio=1 FlowControl=off
    @{commands_off}   Create List   
    ...               set advanced-networking -quiet PacketBufferOverallocationRatio=1 FlowControl=auto
    ${validation}     Create Dictionary   errorCode=FEATURE_ISSUE_FLOW_CONTROL
    ...                                   level=Critical
    ...                                   recommendation=The setting Advanced Network Settings Flow Control is OFF and is not supported by OneView. Change the value to AUTO.
    Run CLI In Interconnect From List    ${commands_on}
    Validate Detail Report If General Issue Exists    incompatibilities/migrationGeneralIssues/issues    recommendation   ${validation}
    Run CLI In Interconnect From List    ${commands_off}
    Validate Detail Report If General Issues Removed    incompatibilities/migrationGeneralIssues/issues    ${validation}

TCR--Test Compatibility Report Against High and Critical Issues
    ${validation}   Create Dictionary   level=Critical
    ${resp}  ${resp_state}      ReportDetail
    Validate Existing Detail Report If General Issues Removed   ${resp}   incompatibilities/migrationGeneralIssues/issues   ${validation} 
    ${validation}   Create Dictionary   level=High
    Validate Existing Detail Report If General Issues Removed   ${resp}   incompatibilities/migrationGeneralIssues/issues   ${validation} 

