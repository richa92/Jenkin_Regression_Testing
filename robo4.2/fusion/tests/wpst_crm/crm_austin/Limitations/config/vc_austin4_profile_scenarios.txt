# ALM testcase under Limitations - VC Functionality:
#  [1]3.4.2 Profile Connections - Network Not Assigned
#  3.4.11 Profile Connections - Unmapped
#  [1]3.4.3 Profile unassigned

# ethernet network
add network Net1 -quiet NAGs=Default VLanTunnel=Disabled LacpTimer=Domain-Default
add uplinkport enc0:1:X1 Network=Net1 Speed=Auto
add uplinkport enc0:2:X1 Network=Net1 Speed=Auto
add network Net2 -quiet NAGs=Default VLanTunnel=Disabled LacpTimer=Domain-Default
add uplinkport enc0:1:X2 Network=Net2 Speed=Auto
add uplinkport enc0:2:X2 Network=Net2 Speed=Auto
add network Net3
add network Net4
add network Net5
add network Net6
# FCoE network
# FC ports for the HP VC FlexFabric 10Gb/24-Port modules  are specified with a leading 'X'.
# But when adding the fabric the port numbers are specified without the leading 'X'.
# See the note on the VCMCLI help text for 'add fabric'.
add fabric FCoE1 Type=FabricAttach Bay=1 Ports=3 Speed=Auto LinkDist=Manual
add fabric FCoE2 Type=FabricAttach Bay=2 Ports=3 Speed=4Gb LinkDist=Manual
add fabric FC1 Type=FabricAttach Bay=3 Ports=1 Speed=2Gb LinkDist=Manual
add fabric FC2 Type=FabricAttach Bay=4 Ports=1 Speed=Auto LinkDist=Manual
add fabric FC3 Type=FabricAttach Bay=3 Ports=2,3 Speed=4Gb LinkDist=Manual
add fabric FC4 Type=FabricAttach Bay=4 Ports=2,3 Speed=8Gb LinkDist=Manual

# profile setup with 2 unassigned network connection and 2 unmapped connection for fcoe-connection
add profile Server_01 -NoDefaultEnetConn -NoDefaultFcConn -NoDefaultFcoeConn -quiet NAG=Default HideUnusedFlexNICs=true BootMode=Auto SriovMode=Advanced
add enet-connection Server_01 Network=Net1 PXE=Enabled SriovType=Disabled
add enet-connection Server_01 Network=Net2 PXE=Disabled SriovType=Disabled
add fc-connection Server_01 Fabric=FC1 Speed=Auto
add fc-connection Server_01 Fabric=FC2 Speed=Auto
add fcoe-connection Server_01 Fabric=FCoE1 SpeedType=Preferred
add fcoe-connection Server_01 Fabric=FCoE2 SpeedType=Preferred
# unassigned connection (3.4.2 Profile Connections - Network Not Assigned)
add fcoe-connection Server_01 Fabric=Unassigned SpeedType=Preferred
add fcoe-connection Server_01 Fabric=Unassigned SpeedType=Preferred
# assigned connection but no mapped (3.4.11 Profile Connections - Unmapped)
add fcoe-connection Server_01 Fabric=FCoE1 SpeedType=Preferred
add fcoe-connection Server_01 Fabric=FCoE2 SpeedType=Preferred

assign profile Server_01 enc0:1

# profile setup with 2 unassigned network connection and 2 unmapped connection for fc-connection
add profile Server_02 -NoDefaultEnetConn -NoDefaultFcConn -NoDefaultFcoeConn -quiet NAG=Default HideUnusedFlexNICs=true BootMode=Auto SriovMode=Advanced
add enet-connection Server_02 Network=Net1 PXE=Enabled SriovType=Disabled
add enet-connection Server_02 Network=Net2 PXE=Disabled SriovType=Disabled
add fcoe-connection Server_02 Fabric=FCoE1 SpeedType=Preferred
add fcoe-connection Server_02 Fabric=FCoE2 SpeedType=Preferred
add fc-connection Server_02 Fabric=FC1 Speed=Auto
add fc-connection Server_02 Fabric=FC2 Speed=Auto
# unassigned connection (3.4.2 Profile Connections - Network Not Assigned)
add fc-connection Server_02
add fc-connection Server_02
# assigned connection but no mapped (3.4.11 Profile Connections - Unmapped)
add fc-connection Server_02 Fabric=FC3
add fc-connection Server_02 Fabric=FC4

assign profile Server_02 enc0:2

# profile setup with 2 unassigned network connection and 2 unmapped connection for enet-connection
add profile Server_03 -NoDefaultEnetConn -NoDefaultFcConn -NoDefaultFcoeConn -quiet NAG=Default HideUnusedFlexNICs=true BootMode=Auto SriovMode=Advanced
add fc-connection Server_03 Fabric=FC1 Speed=Auto
add fc-connection Server_03 Fabric=FC2 Speed=Auto
add fcoe-connection Server_03 Fabric=FCoE1
set fcoe-connection Server_03:1 bootpriority=disabled
add fcoe-connection Server_03 Fabric=FCoE2
add enet-connection Server_03 Network=Net1 PXE=Enabled SriovType=Disabled
add enet-connection Server_03 Network=Net2 PXE=Disabled SriovType=Disabled
add enet-connection Server_03 Network=Net3
add enet-connection Server_03 Network=Net4
# unassigned connection (3.4.2 Profile Connections - Network Not Assigned)
add enet-connection Server_03
add enet-connection Server_03
# assigned connection but no mapped (3.4.11 Profile Connections - Unmapped)
add enet-connection Server_03 Network=Net5
add enet-connection Server_03 Network=Net6

assign profile Server_03 enc0:3

# profile setup for unassigned profile testcase ([1]3.4.3 Profile unassigned)
add profile Server_04 -NoDefaultEnetConn -NoDefaultFcConn -NoDefaultFcoeConn -quiet NAG=Default HideUnusedFlexNICs=true BootMode=Auto SriovMode=Advanced
add fc-connection Server_04 Fabric=FC1 Speed=Auto
add fc-connection Server_04 Fabric=FC2 Speed=Auto
add fcoe-connection Server_04 Fabric=FCoE1
set fcoe-connection Server_04:1 bootpriority=disabled
add fcoe-connection Server_04 Fabric=FCoE2
add enet-connection Server_04 Network=Net1 PXE=Enabled SriovType=Disabled
add enet-connection Server_04 Network=Net2 PXE=Disabled SriovType=Disabled

show config -includePoolInfo
