*** Settings ***
Documentation     End to End Test of all major keywords and workflow
...               Positive test scenarios
...                 Example1:   run all test cases
...                     pybot e2etest1.txt
...                 Example2:   run cleanup for a certain appliance
...                     pybot -i CleanOVVC -vOV_IP:15.186.21.170 e2etest1.txt

Library           RoboGalaxyLibrary
Library           FusionLibrary
Library           ../lib/WPSTUtil.py

Variables                       ../resources/defaults.py
Variables                       ../resources/credentials_wpst.py   Austin3
Resource                        ../resources/keywords.txt
Suite Setup                     Suite Setup Tasks
Test Setup                      Test Setup Tasks

*** Variables ***
${vc_config_file1}     config/vc_showDomain.txt
${vc_config_file}     config/vc_int1_simple1.txt
@{ignoreL}          enclosureGroupName
@{getResList}       ethnets    fcnets    fcoenets
@{delResList}          ethernet-networks   fcoe-networks
@{delL1}    enclosures


*** Test Cases ***
C1
    [Documentation]     Import and Config VC
    Import.ConfigVC        ${vc_config_file}
C2
    [Documentation]     With imported VC domain, config VC
    Config VC    ${vc_config_file1}

R1
    [Documentation]     Generate compatibitlity report against the new EG; write to Json and compare with expected file
    ...                 when comparing, use the default ignore list
    Report.Write.Compare

R2
    [Documentation]     Generate compatibitlity report against the new EG; write to Json
    ...                 will not perform comparison
    Set Test Variable    ${IsCompare}   ${False}
    Report.Write.Compare

R3
    [Documentation]     Create a new EG and LIG; Generate compatibitlity report against the existing EG; write to Json and compare
    ...                 write to Json and compare with expected file
    ...                 when comparing, use customized ignore list
    Report.Write.Compare    ${ignoreL}   ${OAVC_CREDENTIALS}    ${EMPTYLIST}   ${True}   EG2

R4
    [Documentation]     Generate compatibitlity report against the new EG and LIG; write to Json and compare
    ...                 when comparing, use the default ignore list and also output original diff to diffall*.txt
    Report.Write.Compare    ${EMPTYLIST}   ${OAVC_CREDENTIALS}    ${EMPTYLIST}   ${True}   EG1    LIG1

R5
    [Documentation]     Generate compatibitlity report against the new EG; write to Json and compare
    ...                 when comparing, use the default ignore list and also output original diff to diffall*.txt
    Report.Write.Compare
    WPST DIFF JSON   ${SAVE_RPT}   ${DATA_RPT}   ${dataFileDir}     ALL

R6
    [Documentation]     Load credentials from specified enclosure
    ...                 Generate compatibitlity report against the new EG; write to Json
    ...                 will not perform comparison
    Set Test Variable    ${IsCompare}   ${False}
    Import Variables    ../resources/credentials_devINT.py    int1
    Report.Write.Compare

R7
    [Documentation]     Generate compatibitlity report against the new EG; write to Json and compare with expected file
    ...                 when comparing, use the default ignore list
    ReportDetail.Write.Compare

M1
    [Documentation]     Generate compatibitlity report against the new EG and migrate to OV
    Set Test Variable    ${IsCompare}   ${False}
    Report.Write.Compare
    Migrate.GetOVResources.Write.Compare

G1
    [Documentation]     Get all available OneView resources; write to Json and compare
    GetOVResources.Write.Compare   ${AllResourcesList}

G2
    [Documentation]     Get all common CRM related OneView resources; write to Json and compare
    GetOVResources.Write.Compare

G3
    [Documentation]     Get selected OneView resources; write to Json and compare
    GetOVResources.Write.Compare   ${getResList}


D1
    [Documentation]     Delete selected OV resource using API version 120
    Set Test Variable    ${X-API-Version}    120
    Delete OneView Selected    ${delResList}

D2
    [Documentation]     Delete selected OV resource. It will delete all resources by default
    ...                 Its default behavior is the same as 'Delete OneView All'
    Delete OneView Selected    ${delL1}
    # Delete OneView All

D3
    [Tags]   CleanOVVC
    [Documentation]     Delete all OV resources
    CleanOV.CleanVC

D4
    [Documentation]     Reset VC
    Reset VC

D5
    [Documentation]     Delete VC
    Delete VC Domain
