*** Settings ***
Documentation     FCoE Dual Hop VC to OV Migration - Existing LIG Blocking Test Cases
...               = Usage =
...               Command Line Example:
...					>pybot -t TestXXX* Mig-FCoE-DH-Existing-LIG.txt
...					>pybot Mig-FCoE-DH-Existing-LIG.txt
...               Output: There are two files generated in the dataFiles directory,
...					"data-rpt-Mig-FCoE-DH-Existing-TestXXX.json" contains the VC to OV compatibility report.
...					"data-ov-Mig-FCoE-DH-Existing-TestXXX.json" contains VC to OV migration information.
...					There are three files generated in the local directory (tests) - output.html, log.html, and report.html
...
...               This test suite covers the following test names in ALM:
...                 Migration FCoE Dual Hop - Preexisting LIG where a duplicate FCoE network exists, but Max conn speed differ - warning expected
...                 Migration FCoE Dual Hop - Preexisting LIG where a duplicate FCoE network exists, but Preferred conn speed differ - warning expected
...                 Migration FCoE Dual Hop - Preexisting LIG where a duplicate but case sensitive FCoE network name exists
...                 Migration FCoE Dual Hop - Preexisting LIG with compatible values
...                 Migration FCoE Dual Hop - Verify migration with VC module Super Shaw

Library           RoboGalaxyLibrary
Library           FusionLibrary
Library           BuiltIn
Library           ../lib/WPSTUtil.py

Variables                       ../resources/defaults.py
Variables                       ../resources/DTOtemplates.py
Variables                       ../resources/credentials_wpst.py   DualHop
Force Tags                      OV200   DualHop
Resource                        ../resources/keywords.txt
Resource                        ../resources/keywords_ovcli.txt
Suite Setup                     Suite Setup Tasks
Test Setup                      Test Setup Tasks


*** Variables ***
@{ignoreL}          			uuid
@{delResList}          			server-profiles   enclosures
${vc_config_file_Test400}		./config/cli_PreExist_LIG_Base.txt
${vc_config_file_Test401}		./config/cli_PreExist_LIG_Speed_Max.txt
${vc_config_file_Test402}		./config/cli_PreExist_LIG_Speed_Preferred.txt
${vc_config_file_Test403}		./config/cli_PreExist_LIG_Case_Sensitive_FCoE_Name.txt
${vc_config_file_Test404}		./config/cli_PreExist_LIG_Base.txt
#${OV_IP}                   	15.186.14.119


*** Test Cases ***
Test400--Base Setup Test Compatibiliry
    [Tags]   Base
    CleanOV.CleanVC
    Import.ConfigVC  ${vc_config_file_Test400}
    Report.Write.Compare

Test400--Base Setup Migrate
    [Tags]   Base
    Migrate
    Sleep   1 min
    GetOVResources.Write.Compare	ignoreList=${ignoreL}

Test401--Import into an existing LIG, but Max speed values are dropped Test Compatibility
    Delete OneView Selected    ${delResList}
    Sleep   1 min
    Import.ConfigVC    ${vc_config_file_Test401}
    Report.Write.Compare 	${EMPTYLIST}   ${OAVC_CREDENTIALS}    ${EMPTYLIST}   ${True}   EG_2SN44000VW

Test401--Import into an existing LIG, but Max speed values are dropped Migrate
    Migrate
    Sleep   1 min
    GetOVResources.Write.Compare	ignoreList=${ignoreL}

Test402--Import into an existing LIG, but Preferred Speed values are dropped Test Compatibility
    Delete OneView Selected    ${delResList}
    Sleep   1 min
    Import.ConfigVC    ${vc_config_file_Test402}
    Report.Write.Compare 	${EMPTYLIST}   ${OAVC_CREDENTIALS}    ${EMPTYLIST}   ${True}   EG_2SN44000VW

Test402--Import into an existing LIG, but Preferred Speed values are dropped Migrate
    Migrate
    Sleep   1 min
    GetOVResources.Write.Compare	ignoreList=${ignoreL}

Test403--Import into an existing LIG, with case sensitive FCoE name Test Compatibility
    Delete OneView Selected    ${delResList}
    Sleep   1 min
    Import.ConfigVC    ${vc_config_file_Test403}
    Report.Write.Compare 	${EMPTYLIST}   ${OAVC_CREDENTIALS}    ${EMPTYLIST}   ${True}   EG_2SN44000VW

Test403--Import into an existing LIG, with case sensitive FCoE name Migrate
    Migrate
    Sleep   1 min
    GetOVResources.Write.Compare	ignoreList=${ignoreL}

Test404--Import into an existing LIG, with compatible value Test Compatibility
    Delete OneView Selected    ${delResList}
    Sleep   1 min
    Import.ConfigVC    ${vc_config_file_Test404}
    Report.Write.Compare 	${EMPTYLIST}   ${OAVC_CREDENTIALS}    ${EMPTYLIST}   ${True}   EG_2SN44000VW

Test404--Import into an existing LIG, with compatible value Migrate
    Migrate
    Sleep   1 min
    GetOVResources.Write.Compare	ignoreList=${ignoreL}

