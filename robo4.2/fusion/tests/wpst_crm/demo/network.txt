*** Settings ***
Documentation		Ethernet network test suite  
...
...		
#Variables 		    C:\\Users\\Administrator\\git\\robogalaxy\\tests\\demo\\wpst_crm\\wpst_variables.py		
Suite Setup   		Load Test Data And Login to OneView         
Suite Teardown		Logout OneView via REST  	

Resource			network_resource.txt
Resource			resource.txt         	

*** Test Cases ***
Create Variable List
        ${ethernet_api}		Convert To Integer	101
        ${true}				Convert To Boolean		True
        ${filter}           Convert To String  	"'name' == 'wpstDefaultnetwork'"	
        Set Suite Variable 		${ethernet_api}	
        Set Suite Variable		${true}
        Set Suite Variable		${filter}
        Set Suite Variable		${ethernet_name}		wpstDefaultnetwork
        Set Suite Variable		${default_conn_name}	defaultConnectionTemplate
        Set Suite Variable 		${max_bw}				8000
        Set Suite Variable 		${typ_bw}				2000

        ${bandwidth_dict}		Create Dictionary	name=${default_conn_name}
        ...											maximumBandwidth=${max_bw}
        ...											typicalBandwidth=${typ_bw}
        Set Suite Variable		${bandwidth_dict}	${bandwidth_dict}
        
        ${smart}			Convert To Boolean		True
		${private}			Convert To Boolean		False
		Set Suite Variable		${namePrefix}			Bulk_Net
		Set Suite Variable		${vlanIdRange}			1-10
		Set Suite Variable		${purpose}				General	
 		${bulk_networks_dict}		Create Dictionary	namePrefix=${namePrefix}
		...												vlanIdRange=${vlanIdRange}
     	...												purpose=${purpose}
    	...												smart=${smart}
    	...												private=${private}
        Set Suite Variable		${bulk_networks_dict}	${bulk_networks_dict}

Create Ethernet Network With Default Connection Template
	[Documentation]		Create an Ethernet network thats defined in the xml config file using a default connection template
	Set Log Level	DEBUG
	${network} =  Get data by property  ${TestDataApi.networks}  name  ${ethernet_name}
	${respDict} = 	Fusion Api Add Ethernet Network		${network[0]}	${ethernet_api}		${None}	${true}	
	${keys} = 		Get Dictionary Keys	${respDict}
	Dictionary Should Contain Key 	${respDict}		associatedResource		msg=Key associatedResource not found
	${uri} = 		Get From Dictionary	${respDict['associatedResource']}		resourceUri
	${rc} = 		Convert To Integer	202
	${valDict} = 	Create Dictionary	status_code=${rc}
	Validate Response	${respDict}	${valDict}
	
	${rc} = 		Convert to Integer	200
	${keys} = 		Get Dictionary Keys	${respDict}
	${respDict} = 	Fusion Api Get Resource	${uri}
	${valDict} = 	Create Dictionary	name=Bobby
	Validate Response	${respDict}	${valDict}	
	

  
	        
	
	 		