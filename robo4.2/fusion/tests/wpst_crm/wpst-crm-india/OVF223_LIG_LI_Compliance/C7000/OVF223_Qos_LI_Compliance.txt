*** Settings ***
Documentation     F223-LIG_LI Compliance Reporting:Qos Aggregated Configuration-LI
Library         OperatingSystem
Library         FusionLibrary
Library         RoboGalaxyLibrary
Library         Collections
Library         Telnet
Library         SSHLibrary
Library         data_variables
Variables       data_variables.py
Resource        ../../../resource/fusion_api_all_resource_files.txt
Library         String
Variables       Expected_messages.py

*** Variables ***
${APPLIANCE_IP}    15.212.136.24

*** Test Cases ***
Initial Setup
    [Documentation]    Initial Setup
    Set Log Level    TRACE
    ${Login_resp}    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${admin_credentials}
    Run keyword unless  ${Login_resp[0]['status_code']}== 200   Fail    "Unable to Login"

    Remove All Enclosures
    Remove ALL Enclosure Groups
    Remove ALL LIGs
    Remove All Network Sets
    Remove ALL Ethernet Networks
    Remove ALL FC Networks
    Remove ALL FCoE Networks

    :For    ${Enet}    IN    @{Ethernet}
    \    ${Enet1_resp}    Fusion Api Create Ethernet Network    ${Enet}
    \    Run keyword unless    ${Enet1_resp['status_code']}== 202    Fail    "Unable to Create Ethernet network"

    :For    ${Fcnet}    IN    @{FcNet}
    \    ${Fcnet_resp}    Fusion Api Create Fc Network    ${Fcnet}
    \    Run keyword unless ${Fcnet_resp['status_code']}== 202  Fail    "Unable to Create Fc network"

    :For    ${Fcoe_net}    IN    @{FcoeNet}
    \    ${Fcoenet_resp}    Fusion Api Create Fcoe Network    ${Fcoe_net}
    \    Run keyword unless ${Fcoenet_resp['status_code']}== 202    Fail    "Unable to Create Fcoe network"

    ${body} =   Build LIG body      ${LIGS_TB}
    Log to console and logfile    ${body}
    ${lig_resp}    Fusion Api Create LIG    ${body}
    ${task} =   Wait For Task    ${lig_resp}    400s    2s
    Run Keyword If  '${lig_resp['status_code']}' != '202'   fail    ELSE    Log to Console  \n-LIG  created successfully

    ${eg_resp}    Add Enclosure Group from variable    ${enc_group}
    Log to console    \n Resp is : ${eg_resp}
    Run Keyword If  '${eg_resp['status_code']}' != '201'  Fail    ELSE  log to console   \n-EG created successfully

    Add Enclosures from variable     ${encs}
    Log to console and logfile    Enclosure imported succesfully

    ${li_uri} =     Get LI URI   ${LE}-${LIG_1}
    Set Global Variable    ${LIURI}    ${li_uri}


OVF223_TC_43 Qos_Passthrough to With Fcoe Lossless LI_Compliance

    [Documentation]    Edit LIG-Check for the Compliance alert and events in LI
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_Fcoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITH_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${PASSTHROUGH}
    ${Qos_Passthrough_Fcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Qos_Fcoe_compliance_alert}    Built the Alert list    ${Qos_Passthrough_Fcoe}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Fcoe_compliance_alert}

    ${Edit_Qos}    ${lig_uri}    Build Edit LIG Body    ${LIGS_TB}    ${Qos_config}
    Set To Dictionary    ${Edit_Qos}    qosConfiguration    ${Qos_Fcoe}


    ${qos_edit}    Fusion Api Edit Lig    ${Edit_Qos}    ${lig_uri}
    ${task} =   Wait For Task    ${qos_edit}    1100s    2s

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_44 Qos_With Fcoe to No Fcoe Lossless LI_Compliance
    [Documentation]    Edit LIG-Check for the Compliance alert and events in LI
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_NoFcoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITHOUT_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITH_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${INGRESS_DOT1P_MAPPING_MODIFIED}    XXX    ${Dot1p_effort}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${Class_Name_msg[6]}
    ${Qos_ingress_dot1p}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_ingress_dot1p}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    ${Edit_Qos}    ${lig_uri}    Build Edit LIG Body    ${LIGS_TB}    ${Qos_config}
    Set To Dictionary    ${Edit_Qos}    qosConfiguration    ${Qos_NoFcoe}

    ${qos_edit}    Fusion Api Edit Lig    ${Edit_Qos}    ${lig_uri}
    ${task} =   Wait For Task    ${qos_edit}    1100s    2s

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_45 Qos_With No Fcoe to Fcoe Lossless LI_Compliance
    [Documentation]    Edit LIG-Check for the Compliance alert and events in LI
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_Fcoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITH_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITHOUT_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    ${Edit_Qos}    ${lig_uri}    Build Edit LIG Body    ${LIGS_TB}    ${Qos_config}
    Set To Dictionary    ${Edit_Qos}    qosConfiguration    ${Qos_Fcoe}

    ${qos_edit}    Fusion Api Edit Lig    ${Edit_Qos}    ${lig_uri}
    ${task} =   Wait For Task    ${qos_edit}    1100s    2s

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_46 Qos With Fcoe DOT1P and DOT1P
    [Documentation]    Edit LIG-Check for the Compliance alert and events in LI
    ${Edit_Qos}    ${lig_uri}    Build Edit LIG Body    ${LIGS_TB}    ${Qos_config}
    Set To Dictionary    ${Edit_Qos}    qosConfiguration    ${Qos_NoFcoe}

    ${qos_edit}    Fusion Api Edit Lig    ${Edit_Qos}    ${lig_uri}
    ${task} =   Wait For Task    ${qos_edit}    1100s    2s

    Perform an LI Update From Group    ${LIURI}

    ${Qos_WFCoe}    Copy Dictionary    ${Qos_Fcoe}
    Set To Dictionary    ${Qos_WFCoe['activeQosConfig']}    downlinkClassificationType    ${DOT1P}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITH_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITHOUT_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${DOWNLINK_CLASSIFICATION_MODIFIED}    XXX    ${DOT1P}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${DOT1P_DSCP}
    ${Qos_dot1p}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_dot1p}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_47 Qos With Fcoe DOT1P and DSCP
    [Documentation]    Edit LIG-Check for the Compliance alert and events in LI
    ${Qos_WFCoe}    Copy Dictionary    ${Qos_Fcoe}
    Set To Dictionary    ${Qos_WFCoe['activeQosConfig']}    downlinkClassificationType    ${DSCP}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITH_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITHOUT_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${DOWNLINK_CLASSIFICATION_MODIFIED}    XXX    ${DSCP}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${DOT1P_DSCP}
    ${Qos_dot1p}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_dot1p}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_48 Qos With Fcoe DOT1P and DOT1P_DSCP
    [Documentation]    Edit LIG-Check for the Compliance alert and events in LI
    ${Qos_WFCoe}    Copy Dictionary    ${Qos_Fcoe}
    Set To Dictionary    ${Qos_WFCoe['activeQosConfig']}    downlinkClassificationType    ${DOT1P_DSCP}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITH_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITHOUT_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_49 Qos With Fcoe DSCP and DOT1P

    [Documentation]    Edit LIG-Check for the Compliance alert and events in LI
    ${Qos_WFCoe}    Copy Dictionary    ${Qos_Fcoe}
    Set To Dictionary    ${Qos_WFCoe['activeQosConfig']}    uplinkClassificationType    ${DSCP}
    Set To Dictionary    ${Qos_WFCoe['activeQosConfig']}    downlinkClassificationType    ${DOT1P}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITH_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITHOUT_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${DOWNLINK_CLASSIFICATION_MODIFIED}    XXX    ${DOT1P}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${DOT1P_DSCP}
    ${Qos_dscp_DL}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${UPLINK_CLASSIFICATION_MODIFIED}    XXX    ${DSCP}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DOT1P}
    ${Qos_dscp_UL}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_DL}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_UL}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_50 Qos With Fcoe DSCP and DSCP
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Qos_WFCoe}    Copy Dictionary    ${Qos_Fcoe}
    Set To Dictionary    ${Qos_WFCoe['activeQosConfig']}    uplinkClassificationType    ${DSCP}
    Set To Dictionary    ${Qos_WFCoe['activeQosConfig']}    downlinkClassificationType    ${DSCP}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITH_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITHOUT_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${DOWNLINK_CLASSIFICATION_MODIFIED}    XXX    ${DSCP}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${DOT1P_DSCP}
    ${Qos_dscp_DL}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${UPLINK_CLASSIFICATION_MODIFIED}    XXX    ${DSCP}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DOT1P}
    ${Qos_dscp_UL}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_DL}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_UL}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_51 Qos With Fcoe DSCP and DOT1P_DSCP
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Qos_WFCoe}    Copy Dictionary    ${Qos_Fcoe}
    Set To Dictionary    ${Qos_WFCoe['activeQosConfig']}    uplinkClassificationType    ${DSCP}
    Set To Dictionary    ${Qos_WFCoe['activeQosConfig']}    downlinkClassificationType    ${DOT1P_DSCP}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITH_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITHOUT_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${UPLINK_CLASSIFICATION_MODIFIED}    XXX    ${DSCP}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${DOT1P}
    ${Qos_dscp_UL}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_UL}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_52 Qos With Fcoe DOT1P_DSCP and DOT1P
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Qos_WFCoe}    Copy Dictionary    ${Qos_Fcoe}
    Set To Dictionary    ${Qos_WFCoe['activeQosConfig']}    uplinkClassificationType    ${DOT1P_DSCP}
    Set To Dictionary    ${Qos_WFCoe['activeQosConfig']}    downlinkClassificationType    ${DOT1P}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITH_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITHOUT_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${DOWNLINK_CLASSIFICATION_MODIFIED}    XXX    ${DOT1P}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${DOT1P_DSCP}
    ${Qos_dscp_DL}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${UPLINK_CLASSIFICATION_MODIFIED}    XXX    ${DOT1P_DSCP}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DOT1P}
    ${Qos_dscp_UL}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_DL}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_UL}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_53 Qos With Fcoe DOT1P_DSCP and DSCP
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Qos_WFCoe}    Copy Dictionary    ${Qos_Fcoe}
    Set To Dictionary    ${Qos_WFCoe['activeQosConfig']}    uplinkClassificationType    ${DOT1P_DSCP}
    Set To Dictionary    ${Qos_WFCoe['activeQosConfig']}    downlinkClassificationType    ${DSCP}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITH_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITHOUT_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${DOWNLINK_CLASSIFICATION_MODIFIED}    XXX    ${DSCP}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${DOT1P_DSCP}
    ${Qos_dscp_DL}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${UPLINK_CLASSIFICATION_MODIFIED}    XXX    ${DOT1P_DSCP}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DOT1P}
    ${Qos_dscp_UL}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_DL}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_UL}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_54 Qos With Fcoe DOT1P_DSCP and DOT1P_DSCP
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Qos_WFCoe}    Copy Dictionary    ${Qos_Fcoe}
    Set To Dictionary    ${Qos_WFCoe['activeQosConfig']}    uplinkClassificationType    ${DOT1P_DSCP}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITH_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITHOUT_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${UPLINK_CLASSIFICATION_MODIFIED}    XXX    ${DOT1P_DSCP}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${DOT1P}
    ${Qos_dscp_UL}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_UL}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_55 Qos No Fcoe DOT1P and DOT1P
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Edit_Qos}    ${lig_uri}    Build Edit LIG Body    ${LIGS_TB}    ${Qos_config}
    Set To Dictionary    ${Edit_Qos}    qosConfiguration    ${Qos_Fcoe}

    ${qos_edit}    Fusion Api Edit Lig    ${Edit_Qos}    ${lig_uri}
    ${task} =   Wait For Task    ${qos_edit}    1100s    2s

    Perform an LI Update From Group    ${LIURI}

    ${Qos_WNFCoe}    Copy Dictionary    ${Qos_NoFcoe}
    Set To Dictionary    ${Qos_WNFCoe['activeQosConfig']}    downlinkClassificationType    ${DOT1P}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WNFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITHOUT_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITH_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${INGRESS_DOT1P_MAPPING_MODIFIED}    XXX    ${Dot1p_effort}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${Class_Name_msg[6]}
    ${Qos_ingress_dot1p}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${DOWNLINK_CLASSIFICATION_MODIFIED}    XXX    ${DOT1P}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DOT1P_DSCP}
    ${Qos_dot1p}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_ingress_dot1p}
    Append to list    ${Compliance_alert_list}    ${Qos_dot1p}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_56 Qos No Fcoe DOT1P and DSCP
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Qos_WNFCoe}    Copy Dictionary    ${Qos_NoFcoe}
    Set To Dictionary    ${Qos_WNFCoe['activeQosConfig']}    downlinkClassificationType    ${DSCP}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WNFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITHOUT_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITH_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${INGRESS_DOT1P_MAPPING_MODIFIED}    XXX    ${Dot1p_effort}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${Class_Name_msg[6]}
    ${Qos_ingress_dot1p}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${DOWNLINK_CLASSIFICATION_MODIFIED}    XXX    ${DSCP}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DOT1P_DSCP}
    ${Qos_dot1p}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_ingress_dot1p}
    Append to list    ${Compliance_alert_list}    ${Qos_dot1p}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_57 Qos No Fcoe DOT1P and DOT1P_DSCP
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Qos_WNFCoe}    Copy Dictionary    ${Qos_NoFcoe}
    Set To Dictionary    ${Qos_WNFCoe['activeQosConfig']}    downlinkClassificationType    ${DOT1P_DSCP}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WNFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITHOUT_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITH_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${INGRESS_DOT1P_MAPPING_MODIFIED}    XXX    ${Dot1p_effort}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${Class_Name_msg[6]}
    ${Qos_ingress_dot1p}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_ingress_dot1p}

    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_58 Qos No Fcoe DSCP and DOT1P
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Qos_WNFCoe}    Copy Dictionary    ${Qos_NoFcoe}
    Set To Dictionary    ${Qos_WNFCoe['activeQosConfig']}    uplinkClassificationType    ${DSCP}
    Set To Dictionary    ${Qos_WNFCoe['activeQosConfig']}    downlinkClassificationType    ${DOT1P}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WNFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITHOUT_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITH_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${INGRESS_DOT1P_MAPPING_MODIFIED}    XXX    ${Dot1p_effort}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${Class_Name_msg[6]}
    ${Qos_ingress_dot1p}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${DOWNLINK_CLASSIFICATION_MODIFIED}    XXX    ${DOT1P}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DOT1P_DSCP}
    ${Qos_dscp_DL}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg9}    Replace String Using Regexp   ${UPLINK_CLASSIFICATION_MODIFIED}    XXX    ${DSCP}
    ${msg10}    Replace String Using Regexp   ${msg9}    YYY    ${DOT1P}
    ${Qos_dscp_UL}    Replace String Using Regexp   ${msg10}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_ingress_dot1p}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_DL}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_UL}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}


    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_59 Qos No Fcoe DSCP and DSCP
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Qos_WNFCoe}    Copy Dictionary    ${Qos_NoFcoe}
    Set To Dictionary    ${Qos_WNFCoe['activeQosConfig']}    uplinkClassificationType    ${DSCP}
    Set To Dictionary    ${Qos_WNFCoe['activeQosConfig']}    downlinkClassificationType    ${DSCP}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WNFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITHOUT_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITH_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${INGRESS_DOT1P_MAPPING_MODIFIED}    XXX    ${Dot1p_effort}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${Class_Name_msg[6]}
    ${Qos_ingress_dot1p}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${DOWNLINK_CLASSIFICATION_MODIFIED}    XXX    ${DSCP}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DOT1P_DSCP}
    ${Qos_dscp_DL}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg9}    Replace String Using Regexp   ${UPLINK_CLASSIFICATION_MODIFIED}    XXX    ${DSCP}
    ${msg10}    Replace String Using Regexp   ${msg9}    YYY    ${DOT1P}
    ${Qos_dscp_UL}    Replace String Using Regexp   ${msg10}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_ingress_dot1p}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_DL}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_UL}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_60 Qos No Fcoe DSCP and DOT1P_DSCP
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Qos_WNFCoe}    Copy Dictionary    ${Qos_NoFcoe}
    Set To Dictionary    ${Qos_WNFCoe['activeQosConfig']}    uplinkClassificationType    ${DSCP}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WNFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITHOUT_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITH_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${INGRESS_DOT1P_MAPPING_MODIFIED}    XXX    ${Dot1p_effort}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${Class_Name_msg[6]}
    ${Qos_ingress_dot1p}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${UPLINK_CLASSIFICATION_MODIFIED}    XXX    ${DSCP}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DOT1P}
    ${Qos_dscp_UL}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_ingress_dot1p}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_UL}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_61 Qos No Fcoe DOT1P_DSCP and DOT1P
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Qos_WNFCoe}    Copy Dictionary    ${Qos_NoFcoe}
    Set To Dictionary    ${Qos_WNFCoe['activeQosConfig']}    uplinkClassificationType    ${DOT1P_DSCP}
    Set To Dictionary    ${Qos_WNFCoe['activeQosConfig']}    downlinkClassificationType    ${DOT1P}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WNFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITHOUT_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITH_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${INGRESS_DOT1P_MAPPING_MODIFIED}    XXX    ${Dot1p_effort}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${Class_Name_msg[6]}
    ${Qos_ingress_dot1p}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${DOWNLINK_CLASSIFICATION_MODIFIED}    XXX    ${DOT1P}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DOT1P_DSCP}
    ${Qos_dscp_DL}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg9}    Replace String Using Regexp   ${UPLINK_CLASSIFICATION_MODIFIED}    XXX    ${DOT1P_DSCP}
    ${msg10}    Replace String Using Regexp   ${msg9}    YYY    ${DOT1P}
    ${Qos_dscp_UL}    Replace String Using Regexp   ${msg10}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_ingress_dot1p}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_DL}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_UL}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_62 Qos No Fcoe DOT1P_DSCP and DSCP
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Qos_WNFCoe}    Copy Dictionary    ${Qos_NoFcoe}
    Set To Dictionary    ${Qos_WNFCoe['activeQosConfig']}    uplinkClassificationType    ${DOT1P_DSCP}
    Set To Dictionary    ${Qos_WNFCoe['activeQosConfig']}    downlinkClassificationType    ${DSCP}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WNFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITHOUT_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITH_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${INGRESS_DOT1P_MAPPING_MODIFIED}    XXX    ${Dot1p_effort}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${Class_Name_msg[6]}
    ${Qos_ingress_dot1p}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${DOWNLINK_CLASSIFICATION_MODIFIED}    XXX    ${DSCP}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DOT1P_DSCP}
    ${Qos_dscp_DL}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg9}    Replace String Using Regexp   ${UPLINK_CLASSIFICATION_MODIFIED}    XXX    ${DOT1P_DSCP}
    ${msg10}    Replace String Using Regexp   ${msg9}    YYY    ${DOT1P}
    ${Qos_dscp_UL}    Replace String Using Regexp   ${msg10}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_ingress_dot1p}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_DL}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_UL}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_63 Qos No Fcoe DOT1P_DSCP and DOT1P_DSCP
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Qos_WNFCoe}    Copy Dictionary    ${Qos_NoFcoe}
    Set To Dictionary    ${Qos_WNFCoe['activeQosConfig']}    uplinkClassificationType    ${DOT1P_DSCP}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WNFCoe}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${msg1}    Replace String Using Regexp   ${QOS_CONFIG_TYPE_MODIFIED}    XXX    ${CUSTOM_WITHOUT_FCOE}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${CUSTOM_WITH_FCOE}
    ${Qos_Fcoe_NoFcoe}    Replace String Using Regexp   ${msg2}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg3}    Replace String Using Regexp   ${TRAFFIC_CLASS_REMOVED}    XXX    ${Class_Name_msg[4]}
    ${Qos_Class_remove}    Replace String Using Regexp   ${msg3}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ADDED}    XXX    ${Class_Name_msg[6]}
    ${Qos_Class_add}    Replace String Using Regexp   ${msg4}    YYY    ${ACTIVE_QOS_CONFIGURATION}
    ${msg5}    Replace String Using Regexp   ${INGRESS_DOT1P_MAPPING_MODIFIED}    XXX    ${Dot1p_effort}
    ${msg6}    Replace String Using Regexp   ${msg5}    YYY    ${Class_Name_msg[6]}
    ${Qos_ingress_dot1p}    Replace String Using Regexp   ${msg6}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${UPLINK_CLASSIFICATION_MODIFIED}    XXX    ${DOT1P_DSCP}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DOT1P}
    ${Qos_dscp_UL}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}

    ${Compliance_alert_list}    Create list
    Append to list    ${Compliance_alert_list}    ${Qos_Fcoe_NoFcoe}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_add}
    Append to list    ${Compliance_alert_list}    ${Qos_Class_remove}
    Append to list    ${Compliance_alert_list}    ${Qos_ingress_dot1p}
    Append to list    ${Compliance_alert_list}    ${Qos_dscp_UL}
    Sort list    ${Compliance_alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Compliance_alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_64 Qos With Fcoe Modify Max share

    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Edit_Qos}    ${lig_uri}    Build Edit LIG Body    ${LIGS_TB}    ${Qos_config}
    Set To Dictionary    ${Edit_Qos}    qosConfiguration    ${Qos_Fcoe}

    ${qos_edit}    Fusion Api Edit Lig    ${Edit_Qos}    ${lig_uri}
    ${task} =   Wait For Task    ${qos_edit}    1100s    2s

    Perform an LI Update From Group    ${LIURI}


    ${Before_edit_Max_Share}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Max_Band_qos}

    ${Qos_WFCoe_body}    Copy Dictionary    ${Qos_Fcoe}
    Set To Dictionary    ${Qos_WFCoe_body['activeQosConfig']['qosTrafficClassifiers'][0]['qosTrafficClass']}    maxBandwidth    ${Best_Effort}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Max_Share}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Max_Band_qos}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_MAXSHARE_MODIFIED}    XXX    ${After_edit_Max_Share}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Max_Share}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_max_share}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    ${Qos_Fcoe_class_alert}    Built the Alert list    ${Best_effort_max_share}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Fcoe_class_alert}
    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_65 Qos With Fcoe Modify Class1
    [Documentation]    Edit LI-Check for the Compliance alert and events in LIs
    ${Before_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${Before_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[0]}    ${Band_Width_qos}
    ${Before_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[0]}    ${Egress_Dot1p_Value_qos}

    ${Qos_WFCoe_body}    Build Qos body    ${Qos_Fcoe}    ${Class_Name[0]}    ${Share}    ${Total_band}    ${Qos_Enable}    ${Dot1p_value}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${After_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[0]}    ${Band_Width_qos}
    ${After_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[0]}    ${Egress_Dot1p_Value_qos}
    ${After_edit_enabled}    Get Qos Classifiers Value LI    ${Class_Name[0]}    ${Enabled_qos}

    ${Qos_Alert_list}    Create list
    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Best_effort}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Best_effort}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_bandwidth}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_egress}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_egress}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[0]}
    ${Class_egress_dot1p}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${TRAFFIC_CLASS_ENABLED_DISABLED}    XXX    ${Class_Name_msg[0]}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DISABLED}
    ${Qos_Fcoe_Class}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg9}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_bandwidth}
    ${msg10}    Replace String Using Regexp   ${msg9}    YYY    ${Before_edit_bandwidth}
    ${msg11}    Replace String Using Regexp   ${msg10}    ZZZ    ${Class_Name_msg[0]}
    ${Class_bandwidth}    Replace String Using Regexp   ${msg11}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth}
    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p}
    Append to list    ${Qos_Alert_list}    ${Qos_Fcoe_Class}
    Append to list    ${Qos_Alert_list}    ${Class_bandwidth}
    Sort list    ${Qos_Alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_66 Qos With Fcoe Modify Class2
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Before_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${Before_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[1]}    ${Band_Width_qos}
    ${Before_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[1]}    ${Egress_Dot1p_Value_qos}

    ${Qos_WFCoe_body}    Build Qos body    ${Qos_Fcoe}    ${Class_Name[1]}    ${Share}    ${Total_band}    ${Qos_Enable}    ${Dot1p_value}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${After_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[1]}    ${Band_Width_qos}
    ${After_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[1]}    ${Egress_Dot1p_Value_qos}
    ${After_edit_enabled}    Get Qos Classifiers Value LI    ${Class_Name[1]}    ${Enabled_qos}

    ${Qos_Alert_list}    Create list
    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Best_effort}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Best_effort}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_bandwidth}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_egress}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_egress}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[1]}
    ${Class_egress_dot1p}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${TRAFFIC_CLASS_ENABLED_DISABLED}    XXX    ${Class_Name_msg[1]}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DISABLED}
    ${Qos_Fcoe_Class}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg9}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_bandwidth}
    ${msg10}    Replace String Using Regexp   ${msg9}    YYY    ${Before_edit_bandwidth}
    ${msg11}    Replace String Using Regexp   ${msg10}    ZZZ    ${Class_Name_msg[1]}
    ${Class_bandwidth}    Replace String Using Regexp   ${msg11}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth}
    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p}
    Append to list    ${Qos_Alert_list}    ${Qos_Fcoe_Class}
    Append to list    ${Qos_Alert_list}    ${Class_bandwidth}
    Sort list    ${Qos_Alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_67 Qos With Fcoe Modify Class3
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Before_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${Before_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[2]}    ${Band_Width_qos}
    ${Before_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[2]}    ${Egress_Dot1p_Value_qos}

    ${Qos_WFCoe_body}    Build Qos body    ${Qos_Fcoe}    ${Class_Name[2]}    ${Share}    ${Total_band}    ${Qos_Enable}    ${Dot1p_value}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${After_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[2]}    ${Band_Width_qos}
    ${After_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[2]}    ${Egress_Dot1p_Value_qos}
    ${After_edit_enabled}    Get Qos Classifiers Value LI    ${Class_Name[2]}    ${Enabled_qos}

    ${Qos_Alert_list}    Create list
    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Best_effort}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Best_effort}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_bandwidth}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_egress}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_egress}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[2]}
    ${Class_egress_dot1p}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${TRAFFIC_CLASS_ENABLED_DISABLED}    XXX    ${Class_Name_msg[2]}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DISABLED}
    ${Qos_Fcoe_Class}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg9}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_bandwidth}
    ${msg10}    Replace String Using Regexp   ${msg9}    YYY    ${Before_edit_bandwidth}
    ${msg11}    Replace String Using Regexp   ${msg10}    ZZZ    ${Class_Name_msg[2]}
    ${Class_bandwidth}    Replace String Using Regexp   ${msg11}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth}
    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p}
    Append to list    ${Qos_Alert_list}    ${Qos_Fcoe_Class}
    Append to list    ${Qos_Alert_list}    ${Class_bandwidth}
    Sort list    ${Qos_Alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_68 Qos With Fcoe Modify Class4
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Before_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${Before_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[3]}    ${Band_Width_qos}
    ${Before_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[3]}    ${Egress_Dot1p_Value_qos}

    ${Qos_WFCoe_body}    Build Qos body    ${Qos_Fcoe}    ${Class_Name[3]}    ${Share}    ${Total_band}    ${Qos_Enable}    ${Dot1p_value}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${After_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[3]}    ${Band_Width_qos}
    ${After_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[3]}    ${Egress_Dot1p_Value_qos}
    ${After_edit_enabled}    Get Qos Classifiers Value LI    ${Class_Name[3]}    ${Enabled_qos}

    ${Qos_Alert_list}    Create list
    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Best_effort}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Best_effort}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_bandwidth}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_egress}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_egress}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[3]}
    ${Class_egress_dot1p}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${TRAFFIC_CLASS_ENABLED_DISABLED}    XXX    ${Class_Name_msg[3]}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DISABLED}
    ${Qos_Fcoe_Class}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg9}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_bandwidth}
    ${msg10}    Replace String Using Regexp   ${msg9}    YYY    ${Before_edit_bandwidth}
    ${msg11}    Replace String Using Regexp   ${msg10}    ZZZ    ${Class_Name_msg[3]}
    ${Class_bandwidth}    Replace String Using Regexp   ${msg11}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth}
    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p}
    Append to list    ${Qos_Alert_list}    ${Qos_Fcoe_Class}
    Append to list    ${Qos_Alert_list}    ${Class_bandwidth}
    Sort list    ${Qos_Alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_69 Qos With Fcoe Modify Fcoeloss less
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Before_edit_egress}    Get Qos Classifiers Value LI    ${Fcoe_lossless}    ${Egress_Dot1p_Value_qos}

    ${Qos_WFCoe_body}    Copy Dictionary    ${Qos_Fcoe}
    Set To Dictionary    ${Qos_WFCoe_body['activeQosConfig']['qosTrafficClassifiers'][5]['qosTrafficClass']}    egressDot1pValue    ${Dot1p_value}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_egress}    Get Qos Classifiers Value LI    ${Fcoe_lossless}    ${Egress_Dot1p_Value_qos}

    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_egress}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_egress}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[6]}
    ${Class_egress_dot1p}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    ${Qos_Fcoe_class1_alert}    Built the Alert list    ${Class_egress_dot1p}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Fcoe_class1_alert}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_70 Qos With Fcoe Modify Medium
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Before_edit_Medium_bandwidth}    Get Qos Classifiers Value LI    ${Medium}    ${Band_Width_qos}
    ${Before_edit_Besteffort_bandwidth}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}

    ${Qos_WFCoe_body}    Build Qos body    ${Qos_Fcoe}    ${Medium}    ${Medium_share}    ${Total_band}    ${Qos_Enable}    ${egressDot1p_value}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Medium_bandwidth}    Get Qos Classifiers Value LI    ${Medium}    ${Band_Width_qos}
    ${After_edit_Besteffort_bandwidth}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Besteffort_bandwidth}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Besteffort_bandwidth}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_bandwidth}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Medium_bandwidth}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_Medium_bandwidth}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[7]}
    ${Medium_bandwidth}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    ${Qos_Alert_list}    Create list
    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth}
    Append to list    ${Qos_Alert_list}    ${Medium_bandwidth}
    Sort list    ${Qos_Alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_71 Qos With Fcoe Modify Real time
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Before_edit_Realtime_bandwidth}    Get Qos Classifiers Value LI    ${Real_time}    ${Band_Width_qos}
    ${Before_edit_Besteffort_bandwidth}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${Before_edit_Realtime_maxshare}    Get Qos Classifiers Value LI    ${Real_time}    ${Max_Band_qos}

    ${Qos_WFCoe_body}    Build Qos body    ${Qos_Fcoe}    ${Real_time}    ${Real_time_share}    ${Total_band}    ${Qos_Enable}    ${egressDot1p_value_realtime}
    Set To Dictionary    ${Qos_WFCoe_body['activeQosConfig']['qosTrafficClassifiers'][7]['qosTrafficClass']}    maxBandwidth    ${Real_time_share}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Realtime_bandwidth}    Get Qos Classifiers Value LI    ${Real_time}    ${Band_Width_qos}
    ${After_edit_Besteffort_bandwidth}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${After_edit_Realtime_maxshare}    Get Qos Classifiers Value LI    ${Real_time}    ${Max_Band_qos}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Besteffort_bandwidth}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Besteffort_bandwidth}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_bandwidth}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Realtime_bandwidth}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_Realtime_bandwidth}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[8]}
    ${Realtime_bandwidth}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_MAXSHARE_MODIFIED}    XXX    ${After_edit_Realtime_maxshare}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Realtime_maxshare}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[8]}
    ${Realtime_max_share}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    ${Qos_Alert_list}    Create list
    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth}
    Append to list    ${Qos_Alert_list}    ${Realtime_bandwidth}
    Append to list    ${Qos_Alert_list}    ${Realtime_max_share}
    Sort list    ${Qos_Alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_72 Qos with Fcoe Modify all the traffic pass
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Before_edit_Best_effort_band}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${Before_edit_Ral_time_band}    Get Qos Classifiers Value LI    ${Real_time}    ${Band_Width_qos}
    ${Before_edit_Medium_band}    Get Qos Classifiers Value LI    ${Medium}    ${Band_Width_qos}
    ${Before_edit_Fcoeloss_Egress}    Get Qos Classifiers Value LI    ${Fcoe_lossless}    ${Egress_Dot1p_Value_qos}
    ${Before_edit_Real_time_Egress}    Get Qos Classifiers Value LI    ${Real_time}    ${Egress_Dot1p_Value_qos}
    ${Before_edit_Medium_Egress}    Get Qos Classifiers Value LI    ${Medium}    ${Egress_Dot1p_Value_qos}
    ${Before_edit_Real_time_Band}    Get Qos Classifiers Value LI    ${Real_time}    ${Max_Band_qos}
    ${Before_edit_Best_effort_Egress}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Max_Band_qos}

    ${Qos_WFCoe_body}    Copy Dictionary    ${Qos_Fcoe}
    Set To Dictionary    ${Qos_WFCoe_body['activeQosConfig']}    qosTrafficClassifiers    ${Qos_classifiers}

    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Best_effort_band}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${After_edit_Ral_time_band}    Get Qos Classifiers Value LI    ${Real_time}    ${Band_Width_qos}
    ${After_edit_Medium_band}    Get Qos Classifiers Value LI    ${Medium}    ${Band_Width_qos}
    ${After_edit_Fcoeloss_Egress}    Get Qos Classifiers Value LI    ${Fcoe_lossless}    ${Egress_Dot1p_Value_qos}
    ${After_edit_Real_time_Egress}    Get Qos Classifiers Value LI    ${Real_time}    ${Egress_Dot1p_Value_qos}
    ${After_edit_Medium_Egress}    Get Qos Classifiers Value LI    ${Medium}    ${Egress_Dot1p_Value_qos}
    ${After_edit_Real_time_Band}    Get Qos Classifiers Value LI    ${Real_time}    ${Max_Band_qos}
    ${After_edit_Best_effort_Egress}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Max_Band_qos}

    ${Qos_Alert_list}    Create list
    :For    ${x}    INRANGE    0    4
    \    ${Before_edit_bandwidth}    Get Qos Classifiers Value    ${Class_Name[${x}]}    ${Band_Width_qos}
    \    ${Before_edit_egress}    Get Qos Classifiers Value    ${Class_Name[${x}]}    ${Egress_Dot1p_Value_qos}
    \    ${After_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[${x}]}    ${Band_Width_qos}
    \    ${After_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[${x}]}    ${Egress_Dot1p_Value_qos}
    \    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_egress}
    \    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_egress}
    \    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[${x}]}
    \    ${Class_egress_dot1p}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    \    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ENABLED_DISABLED}    XXX    ${Class_Name_msg[${x}]}
    \    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${DISABLED}
    \    ${Qos_Fcoe_Class}    Replace String Using Regexp   ${msg5}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    \    ${msg6}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_bandwidth}
    \    ${msg7}    Replace String Using Regexp   ${msg6}    YYY    ${Before_edit_bandwidth}
    \    ${msg8}    Replace String Using Regexp   ${msg7}    ZZZ    ${Class_Name_msg[${x}]}
    \    ${Class_bandwidth}    Replace String Using Regexp   ${msg8}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    \    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p}
    \    Append to list    ${Qos_Alert_list}    ${Qos_Fcoe_Class}
    \    Append to list    ${Qos_Alert_list}    ${Class_bandwidth}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Best_effort_band}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Best_effort_band}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_bandwidth}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Ral_time_band}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Ral_time_band}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[8]}
    ${Best_effort_bandwidth_real_time}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth_real_time}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Medium_band}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Medium_band}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[7]}
    ${Best_effort_bandwidth_Medium}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth_Medium}

    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_Fcoeloss_Egress}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_Fcoeloss_Egress}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[6]}
    ${Class_egress_dot1p_Fcoeloss}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p_Fcoeloss}

    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_Real_time_Egress}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_Real_time_Egress}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[8]}
    ${Class_egress_dot1p_real_time}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p_real_time}

    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_Medium_Egress}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_Medium_Egress}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[7]}
    ${Class_egress_dot1p_Medium}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p_Medium}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_MAXSHARE_MODIFIED}    XXX    ${After_edit_Real_time_Band}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Real_time_Band}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[8]}
    ${Best_effort_max_share_real_time}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    Append to list    ${Qos_Alert_list}    ${Best_effort_max_share_real_time}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_MAXSHARE_MODIFIED}    XXX    ${After_edit_Best_effort_Egress}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Best_effort_Egress}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_max_share}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    Append to list    ${Qos_Alert_list}    ${Best_effort_max_share}

    Sort list    ${Qos_Alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert


OVF223_TC_73 Qos No Fcoe Modify Max share
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Edit_Qos}    ${lig_uri}    Build Edit LIG Body    ${LIGS_TB}    ${Qos_config}
    Set To Dictionary    ${Edit_Qos}    qosConfiguration    ${Qos_NoFcoe}

    ${qos_edit}    Fusion Api Edit Lig    ${Edit_Qos}    ${lig_uri}
    ${task} =   Wait For Task    ${qos_edit}    1100s    2s

    Perform an LI Update From Group    ${LIURI}

    ${Before_edit_Max_Share}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Max_Band_qos}

    ${Qos_WFCoe_body}    Copy Dictionary    ${Qos_NoFcoe}
    Set To Dictionary    ${Qos_WFCoe_body['activeQosConfig']['qosTrafficClassifiers'][0]['qosTrafficClass']}    maxBandwidth    ${Best_Effort}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Max_Share}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Max_Band_qos}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_MAXSHARE_MODIFIED}    XXX    ${After_edit_Max_Share}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Max_Share}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_max_share}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    ${Qos_Fcoe_class_alert}    Built the Alert list    ${Best_effort_max_share}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Fcoe_class_alert}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_74 Qos No Fcoe Modify Class1
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Before_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${Before_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[0]}    ${Band_Width_qos}
    ${Before_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[0]}    ${Egress_Dot1p_Value_qos}

    ${Qos_WFCoe_body}    Build Qos body    ${Qos_NoFcoe}    ${Class_Name[0]}    ${Share}    ${Total_band}    ${Qos_Enable}    ${Dot1p_value}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${After_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[0]}    ${Band_Width_qos}
    ${After_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[0]}    ${Egress_Dot1p_Value_qos}
    ${After_edit_enabled}    Get Qos Classifiers Value LI    ${Class_Name[0]}    ${Enabled_qos}

    ${Qos_Alert_list}    Create list
    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Best_effort}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Best_effort}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_bandwidth}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_egress}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_egress}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[0]}
    ${Class_egress_dot1p}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${TRAFFIC_CLASS_ENABLED_DISABLED}    XXX    ${Class_Name_msg[0]}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DISABLED}
    ${Qos_Fcoe_Class}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg9}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_bandwidth}
    ${msg10}    Replace String Using Regexp   ${msg9}    YYY    ${Before_edit_bandwidth}
    ${msg11}    Replace String Using Regexp   ${msg10}    ZZZ    ${Class_Name_msg[0]}
    ${Class_bandwidth}    Replace String Using Regexp   ${msg11}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth}
    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p}
    Append to list    ${Qos_Alert_list}    ${Qos_Fcoe_Class}
    Append to list    ${Qos_Alert_list}    ${Class_bandwidth}
    Sort list    ${Qos_Alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_75 Qos No Fcoe Modify Class2
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Before_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${Before_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[1]}    ${Band_Width_qos}
    ${Before_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[1]}    ${Egress_Dot1p_Value_qos}

    ${Qos_WFCoe_body}    Build Qos body    ${Qos_NoFcoe}    ${Class_Name[1]}    ${Share}    ${Total_band}    ${Qos_Enable}    ${Dot1p_value}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${After_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[1]}    ${Band_Width_qos}
    ${After_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[1]}    ${Egress_Dot1p_Value_qos}
    ${After_edit_enabled}    Get Qos Classifiers Value LI    ${Class_Name[1]}    ${Enabled_qos}

    ${Qos_Alert_list}    Create list
    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Best_effort}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Best_effort}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_bandwidth}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_egress}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_egress}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[1]}
    ${Class_egress_dot1p}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${TRAFFIC_CLASS_ENABLED_DISABLED}    XXX    ${Class_Name_msg[1]}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DISABLED}
    ${Qos_Fcoe_Class}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg9}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_bandwidth}
    ${msg10}    Replace String Using Regexp   ${msg9}    YYY    ${Before_edit_bandwidth}
    ${msg11}    Replace String Using Regexp   ${msg10}    ZZZ    ${Class_Name_msg[1]}
    ${Class_bandwidth}    Replace String Using Regexp   ${msg11}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth}
    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p}
    Append to list    ${Qos_Alert_list}    ${Qos_Fcoe_Class}
    Append to list    ${Qos_Alert_list}    ${Class_bandwidth}
    Sort list    ${Qos_Alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_76 Qos No Fcoe Modify Class3
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Before_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${Before_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[2]}    ${Band_Width_qos}
    ${Before_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[2]}    ${Egress_Dot1p_Value_qos}

    ${Qos_WFCoe_body}    Build Qos body    ${Qos_NoFcoe}    ${Class_Name[2]}    ${Share}    ${Total_band}    ${Qos_Enable}    ${Dot1p_value}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${After_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[2]}    ${Band_Width_qos}
    ${After_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[2]}    ${Egress_Dot1p_Value_qos}
    ${After_edit_enabled}    Get Qos Classifiers Value LI    ${Class_Name[2]}    ${Enabled_qos}

    ${Qos_Alert_list}    Create list
    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Best_effort}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Best_effort}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_bandwidth}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_egress}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_egress}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[2]}
    ${Class_egress_dot1p}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${TRAFFIC_CLASS_ENABLED_DISABLED}    XXX    ${Class_Name_msg[2]}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DISABLED}
    ${Qos_Fcoe_Class}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg9}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_bandwidth}
    ${msg10}    Replace String Using Regexp   ${msg9}    YYY    ${Before_edit_bandwidth}
    ${msg11}    Replace String Using Regexp   ${msg10}    ZZZ    ${Class_Name_msg[2]}
    ${Class_bandwidth}    Replace String Using Regexp   ${msg11}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth}
    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p}
    Append to list    ${Qos_Alert_list}    ${Qos_Fcoe_Class}
    Append to list    ${Qos_Alert_list}    ${Class_bandwidth}
    Sort list    ${Qos_Alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Alert_list}
    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_77 Qos No Fcoe Modify Class4
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Before_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${Before_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[3]}    ${Band_Width_qos}
    ${Before_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[3]}    ${Egress_Dot1p_Value_qos}

    ${Qos_WFCoe_body}    Build Qos body    ${Qos_NoFcoe}    ${Class_Name[3]}    ${Share}    ${Total_band}    ${Qos_Enable}    ${Dot1p_value}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${After_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[3]}    ${Band_Width_qos}
    ${After_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[3]}    ${Egress_Dot1p_Value_qos}
    ${After_edit_enabled}    Get Qos Classifiers Value LI    ${Class_Name[3]}    ${Enabled_qos}

    ${Qos_Alert_list}    Create list
    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Best_effort}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Best_effort}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_bandwidth}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_egress}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_egress}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[3]}
    ${Class_egress_dot1p}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${TRAFFIC_CLASS_ENABLED_DISABLED}    XXX    ${Class_Name_msg[3]}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DISABLED}
    ${Qos_Fcoe_Class}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg9}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_bandwidth}
    ${msg10}    Replace String Using Regexp   ${msg9}    YYY    ${Before_edit_bandwidth}
    ${msg11}    Replace String Using Regexp   ${msg10}    ZZZ    ${Class_Name_msg[3]}
    ${Class_bandwidth}    Replace String Using Regexp   ${msg11}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth}
    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p}
    Append to list    ${Qos_Alert_list}    ${Qos_Fcoe_Class}
    Append to list    ${Qos_Alert_list}    ${Class_bandwidth}
    Sort list    ${Qos_Alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_78 Qos No Fcoe Modify Class5
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Before_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${Before_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[4]}    ${Band_Width_qos}
    ${Before_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[4]}    ${Egress_Dot1p_Value_qos}

    ${Qos_WFCoe_body}    Build Qos body    ${Qos_NoFcoe}    ${Class_Name[4]}    ${Share}    ${Total_band}    ${Qos_Enable}    ${Dot1p_value}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Best_effort}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${After_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[4]}    ${Band_Width_qos}
    ${After_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[4]}    ${Egress_Dot1p_Value_qos}
    ${After_edit_enabled}    Get Qos Classifiers Value LI    ${Class_Name[4]}    ${Enabled_qos}

    ${Qos_Alert_list}    Create list
    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Best_effort}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Best_effort}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_bandwidth}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_egress}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_egress}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[4]}
    ${Class_egress_dot1p}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    ${msg7}    Replace String Using Regexp   ${TRAFFIC_CLASS_ENABLED_DISABLED}    XXX    ${Class_Name_msg[4]}
    ${msg8}    Replace String Using Regexp   ${msg7}    YYY    ${DISABLED}
    ${Qos_Fcoe_Class}    Replace String Using Regexp   ${msg8}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    ${msg9}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_bandwidth}
    ${msg10}    Replace String Using Regexp   ${msg9}    YYY    ${Before_edit_bandwidth}
    ${msg11}    Replace String Using Regexp   ${msg10}    ZZZ    ${Class_Name_msg[4]}
    ${Class_bandwidth}    Replace String Using Regexp   ${msg11}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth}
    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p}
    Append to list    ${Qos_Alert_list}    ${Qos_Fcoe_Class}
    Append to list    ${Qos_Alert_list}    ${Class_bandwidth}
    Sort list    ${Qos_Alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_79 Qos No Fcoe Modify Medium
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Before_edit_Medium_bandwidth}    Get Qos Classifiers Value LI    ${Medium}    ${Band_Width_qos}
    ${Before_edit_Besteffort_bandwidth}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}

    ${Qos_WFCoe_body}    Build Qos body    ${Qos_NoFcoe}    ${Medium}    ${Medium_share}    ${Total_band}    ${Qos_Enable}    ${egressDot1p_value}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Medium_bandwidth}    Get Qos Classifiers Value LI    ${Medium}    ${Band_Width_qos}
    ${After_edit_Besteffort_bandwidth}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Besteffort_bandwidth}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Besteffort_bandwidth}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_bandwidth}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Medium_bandwidth}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_Medium_bandwidth}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[7]}
    ${Medium_bandwidth}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    ${Qos_Alert_list}    Create list
    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth}
    Append to list    ${Qos_Alert_list}    ${Medium_bandwidth}
    Sort list    ${Qos_Alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_80 Qos No Fcoe Modify Real time
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Before_edit_Realtime_bandwidth}    Get Qos Classifiers Value LI    ${Real_time}    ${Band_Width_qos}
    ${Before_edit_Besteffort_bandwidth}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${Before_edit_Realtime_maxshare}    Get Qos Classifiers Value LI    ${Real_time}    ${Max_Band_qos}

    ${Qos_WFCoe_body}    Build Qos body    ${Qos_NoFcoe}    ${Real_time}    ${Real_time_share}    ${Total_band}    ${Qos_Enable}    ${egressDot1p_value_realtime}
    Set To Dictionary    ${Qos_WFCoe_body['activeQosConfig']['qosTrafficClassifiers'][7]['qosTrafficClass']}    maxBandwidth    ${Real_time_share}
    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Realtime_bandwidth}    Get Qos Classifiers Value LI    ${Real_time}    ${Band_Width_qos}
    ${After_edit_Besteffort_bandwidth}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${After_edit_Realtime_maxshare}    Get Qos Classifiers Value LI    ${Real_time}    ${Max_Band_qos}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Besteffort_bandwidth}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Besteffort_bandwidth}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_bandwidth}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Realtime_bandwidth}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_Realtime_bandwidth}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[8]}
    ${Realtime_bandwidth}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_MAXSHARE_MODIFIED}    XXX    ${After_edit_Realtime_maxshare}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Realtime_maxshare}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[8]}
    ${Realtime_max_share}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}

    ${Qos_Alert_list}    Create list
    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth}
    Append to list    ${Qos_Alert_list}    ${Realtime_bandwidth}
    Append to list    ${Qos_Alert_list}    ${Realtime_max_share}
    Sort list    ${Qos_Alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_81 Qos with No Fcoe Modify all the traffic pass
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Before_edit_Best_effort_band}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${Before_edit_Ral_time_band}    Get Qos Classifiers Value LI    ${Real_time}    ${Band_Width_qos}
    ${Before_edit_Medium_band}    Get Qos Classifiers Value LI    ${Medium}    ${Band_Width_qos}
    ${Before_edit_Real_time_Egress}    Get Qos Classifiers Value LI    ${Real_time}    ${Egress_Dot1p_Value_qos}
    ${Before_edit_Medium_Egress}    Get Qos Classifiers Value LI    ${Medium}    ${Egress_Dot1p_Value_qos}
    ${Before_edit_Real_time_Band}    Get Qos Classifiers Value LI    ${Real_time}    ${Max_Band_qos}
    ${Before_edit_Best_effort_Egress}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Max_Band_qos}

    ${Qos_WFCoe_body}    Copy Dictionary    ${Qos_NoFcoe}
    Set To Dictionary    ${Qos_WFCoe_body['activeQosConfig']}    qosTrafficClassifiers    ${Qos_classifiers_wofcoe}

    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${After_edit_Best_effort_band}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Band_Width_qos}
    ${After_edit_Ral_time_band}    Get Qos Classifiers Value LI    ${Real_time}    ${Band_Width_qos}
    ${After_edit_Medium_band}    Get Qos Classifiers Value LI    ${Medium}    ${Band_Width_qos}
    ${After_edit_Real_time_Egress}    Get Qos Classifiers Value LI    ${Real_time}    ${Egress_Dot1p_Value_qos}
    ${After_edit_Medium_Egress}    Get Qos Classifiers Value LI    ${Medium}    ${Egress_Dot1p_Value_qos}
    ${After_edit_Real_time_Band}    Get Qos Classifiers Value LI    ${Real_time}    ${Max_Band_qos}
    ${After_edit_Best_effort_Egress}    Get Qos Classifiers Value LI    ${Bestefforts}    ${Max_Band_qos}

    ${Qos_Alert_list}    Create list
    :For    ${x}    INRANGE    0    5
    \    ${Before_edit_bandwidth}    Get Qos Classifiers Value    ${Class_Name[${x}]}    ${Band_Width_qos}
    \    ${Before_edit_egress}    Get Qos Classifiers Value    ${Class_Name[${x}]}    ${Egress_Dot1p_Value_qos}
    \    ${After_edit_bandwidth}    Get Qos Classifiers Value LI    ${Class_Name[${x}]}    ${Band_Width_qos}
    \    ${After_edit_egress}    Get Qos Classifiers Value LI    ${Class_Name[${x}]}    ${Egress_Dot1p_Value_qos}
    \    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_egress}
    \    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_egress}
    \    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[${x}]}
    \    ${Class_egress_dot1p}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    \    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_ENABLED_DISABLED}    XXX    ${Class_Name_msg[${x}]}
    \    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${DISABLED}
    \    ${Qos_Fcoe_Class}    Replace String Using Regexp   ${msg5}    ZZZ    ${ACTIVE_QOS_CONFIGURATION}
    \    ${msg6}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_bandwidth}
    \    ${msg7}    Replace String Using Regexp   ${msg6}    YYY    ${Before_edit_bandwidth}
    \    ${msg8}    Replace String Using Regexp   ${msg7}    ZZZ    ${Class_Name_msg[${x}]}
    \    ${Class_bandwidth}    Replace String Using Regexp   ${msg8}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    \    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p}
    \    Append to list    ${Qos_Alert_list}    ${Qos_Fcoe_Class}
    \    Append to list    ${Qos_Alert_list}    ${Class_bandwidth}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Best_effort_band}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Best_effort_band}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_bandwidth}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}


    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Ral_time_band}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Ral_time_band}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[8]}
    ${Best_effort_bandwidth_real_time}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth_real_time}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_SHARE_MODIFIED}    XXX    ${After_edit_Medium_band}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Medium_band}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[7]}
    ${Best_effort_bandwidth_Medium}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    Append to list    ${Qos_Alert_list}    ${Best_effort_bandwidth_Medium}

    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_Real_time_Egress}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_Real_time_Egress}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[8]}
    ${Class_egress_dot1p_real_time}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p_real_time}

    ${msg4}    Replace String Using Regexp   ${TRAFFIC_CLASS_EGRESSDOT1P_MODIFIED}    XXX    ${After_edit_Medium_Egress}
    ${msg5}    Replace String Using Regexp   ${msg4}    YYY    ${Before_edit_Medium_Egress}
    ${msg6}    Replace String Using Regexp   ${msg5}    ZZZ    ${Class_Name_msg[7]}
    ${Class_egress_dot1p_Medium}    Replace String Using Regexp   ${msg6}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    Append to list    ${Qos_Alert_list}    ${Class_egress_dot1p_Medium}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_MAXSHARE_MODIFIED}    XXX    ${After_edit_Real_time_Band}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Real_time_Band}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[8]}
    ${Best_effort_max_share_real_time}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    Append to list    ${Qos_Alert_list}    ${Best_effort_max_share_real_time}

    ${msg1}    Replace String Using Regexp   ${TRAFFIC_CLASS_MAXSHARE_MODIFIED}    XXX    ${After_edit_Best_effort_Egress}
    ${msg2}    Replace String Using Regexp   ${msg1}    YYY    ${Before_edit_Best_effort_Egress}
    ${msg3}    Replace String Using Regexp   ${msg2}    ZZZ    ${Class_Name_msg[5]}
    ${Best_effort_max_share}    Replace String Using Regexp   ${msg3}    AAA    ${ACTIVE_QOS_CONFIGURATION}
    Append to list    ${Qos_Alert_list}    ${Best_effort_max_share}

    Sort list    ${Qos_Alert_list}

    ${Alert_message}    Get Alert and Compliance Message    ${Qos_Alert_list}

    Perform an LI Update From Group    ${LIURI}

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_83 Qos with No Fcoe Reset LI_Compliance
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Li_resp}    Fusion Api Get Li
    ${Li_reset_body}    Copy Dictionary    ${Li_resp['members'][0]['qosConfiguration']}
    Log to console and logfile    ${Li_reset_body}

    ${Qos_WFCoe_body}    Copy Dictionary    ${Qos_NoFcoe}
    Set To Dictionary    ${Qos_WFCoe_body['activeQosConfig']}    qosTrafficClassifiers    ${Qos_classifiers_wofcoe}

    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${Li_resp_1}    Fusion Api Get Li
    ${Li_created}    Get Variable Value    ${Li_resp_1['members'][0]['qosConfiguration']['activeQosConfig']['created']}
    ${Li_modified}    Get Variable Value    ${Li_resp_1['members'][0]['qosConfiguration']['activeQosConfig']['modified']}
    Set to Dictionary    ${Li_reset_body['activeQosConfig']}    created       ${Li_created}
    Set to Dictionary    ${Li_reset_body['activeQosConfig']}    modified       ${Li_modified}
    Log to console and logfile    ${Li_reset_body}

    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Li_reset_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

OVF223_TC_82_84 Qos with No Fcoe Reset LI_Compliance and Verify Update from group
    [Documentation]    Edit LI-Check for the Compliance alert and events in LI
    ${Edit_Qos}    ${lig_uri}    Build Edit LIG Body    ${LIGS_TB}    ${Qos_config}
    Set To Dictionary    ${Edit_Qos}    qosConfiguration    ${Qos_Fcoe}

    ${qos_edit}    Fusion Api Edit Lig    ${Edit_Qos}    ${lig_uri}
    ${task} =   Wait For Task    ${qos_edit}    1100s    2s

    Perform an LI Update From Group    ${LIURI}

    ${Li_resp}    Fusion Api Get Li
    ${Li_reset_body}    Copy Dictionary    ${Li_resp['members'][0]['qosConfiguration']}
    Log to console and logfile    ${Li_reset_body}

    ${Qos_WFCoe_body}    Copy Dictionary    ${Qos_Fcoe}
    Set To Dictionary    ${Qos_WFCoe_body['activeQosConfig']}    qosTrafficClassifiers    ${Qos_classifiers}

    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Qos_WFCoe_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    Verify LI/LIG Consistent Status    ${Expected_Non_Consistency_Status}    ${LE}-${LIG_1}

    ${Li_resp_1}    Fusion Api Get Li
    ${Li_created}    Get Variable Value    ${Li_resp_1['members'][0]['qosConfiguration']['activeQosConfig']['created']}
    ${Li_modified}    Get Variable Value    ${Li_resp_1['members'][0]['qosConfiguration']['activeQosConfig']['modified']}
    Set to Dictionary    ${Li_reset_body['activeQosConfig']}    created       ${Li_created}
    Set to Dictionary    ${Li_reset_body['activeQosConfig']}    modified       ${Li_modified}
    Log to console and logfile    ${Li_reset_body}

    ${Qos_Edit}    Fusion Api Update qos aggregated configuration    ${Li_reset_body}    ${LIURI}
    ${task} =   Wait For Task    ${Qos_Edit}    1100s    2s

    :For    ${x}    INRANGE    1    3
    \    Wait Until Keyword Succeeds    650s   35 s    Verify Interconnect State    ${Interconnect_${x}}    ${IC_Configured}

    Verify LI/LIG Consistent Status    ${Expected_Consistency_Status}    ${LE}-${LIG_1}
    ${Clear_alerts}    fusion_api_delete_alert

*** Keywords ***
Build Edit LIG Body
    [Documentation]    Build LIG body to edit LIG body
    [Arguments]    ${LIGS_TB}    ${Edit_Lig}
    ${Get_lig}    Fusion Api Get Lig    param=?filter="'name'=='${LIGS_TB['name']}'"
    ${lig_uri}    Get From Dictionary    ${Get_lig['members'][0]}    uri
    ${Get_lig_body}    Copy Dictionary    ${Get_lig['members']}
    ${Edit_lig_body}    Copy Dictionary    ${Edit_Lig}
    Set To Dictionary    ${Edit_lig_body}    snmpConfiguration    ${Get_lig_body[0]['snmpConfiguration']}
    Set To Dictionary    ${Edit_lig_body}    fabricUri    ${Get_lig_body[0]['fabricUri']}
    Set To Dictionary    ${Edit_lig_body}    interconnectMapTemplate    ${Get_lig_body[0]['interconnectMapTemplate']}
    Set To Dictionary    ${Edit_lig_body}    scopesUri    ${Get_lig_body[0]['scopesUri']}
    Set To Dictionary    ${Edit_lig_body}    created    ${Get_lig_body[0]['created']}
    Set To Dictionary    ${Edit_lig_body}    eTag    ${Get_lig_body[0]['eTag']}
    Set To Dictionary    ${Edit_lig_body}    modified    ${Get_lig_body[0]['modified']}
    Set To Dictionary    ${Edit_lig_body}    uri    ${Get_lig_body[0]['uri']}
    Sleep    90
    [Return]    ${Edit_lig_body}    ${lig_uri}

Build Qos body
    [Documentation]    Build Qos body to edit LIG body
    [Arguments]    ${Qos_Fcoe}    ${Qos_classname}    ${Share}    ${Total_band}    ${class_enable}    ${Dot1p_value}
    ${Qos_body}    Copy Dictionary    ${Qos_Fcoe}
    ${Qos_traffic_count}    Get Length    ${Qos_body['activeQosConfig']['qosTrafficClassifiers']}
    :For    ${x}    INRANGE    0    ${Qos_traffic_count}
    \     ${Class_name}    Get From Dictionary    ${Qos_body['activeQosConfig']['qosTrafficClassifiers'][${x}]['qosTrafficClass']}    className
    \     Run Keyword If    '${Class_name}'!='${Qos_classname}'    Continue for loop
    \     Set To Dictionary    ${Qos_body['activeQosConfig']['qosTrafficClassifiers'][${x}]['qosTrafficClass']}    bandwidthShare    ${Share}
    \     Set To Dictionary    ${Qos_body['activeQosConfig']['qosTrafficClassifiers'][${x}]['qosTrafficClass']}    enabled    ${class_enable}
    \     Set To Dictionary    ${Qos_body['activeQosConfig']['qosTrafficClassifiers'][${x}]['qosTrafficClass']}    egressDot1pValue    ${Dot1p_value}
    Set To Dictionary    ${Qos_body['activeQosConfig']['qosTrafficClassifiers'][0]['qosTrafficClass']}    bandwidthShare    ${Total_band}
    [Return]    ${Qos_body}

Get Alert and Compliance Message
    [Documentation]    Get Compliance alert message according to the activity performed
    [Arguments]    ${Alert_message_compliance}
    ${Get_Alerts}    Fusion Api Get Alerts
    ${Get_alert_count}    Get From Dictionary    ${Get_Alerts}    count
    :For    ${x}    INRANGE    0    ${Get_alert_count}
    \    ${Alertstate}    Get From Dictionary    ${Get_Alerts['members'][${x}]}    alertState
    \    Run Keyword If    '${Alertstate}' != 'Active'    Continue For Loop
    \    ${AlertID}    Get From Dictionary    ${Get_Alerts['members'][${x}]}    alertTypeID
    \    Run Keyword If    '${AlertID}' != 'crm.complianceChange'    Continue For Loop
    \    ${Event_uri}    Get From Dictionary    ${Get_Alerts['members'][${x}]}    associatedEventUris
    \    ${Get_event_details}    Fusion Api Get Alerts    ${Event_uri[0]}
    \    ${Event_Details}    Get From Dictionary    ${Get_event_details}    eventDetails
    \    ${Count}    Get Length    ${Event_Details}
    \    ${Event_item_value}    Get Event Item Value    ${Count}    ${Event_Details}
    \    Lists Should Be Equal    ${Event_item_value}    ${Alert_message_compliance}

Get Event Item Value
    [Documentation]    Get Event item value from the corresponding alerts
    [Arguments]    ${count}    ${event_details}
    ${Actual_Alert}    Create list
    :For    ${x}    INRANGE    0    ${count}
    \    ${Get_event_name}    Get From Dictionary    ${event_details[${x}]}    eventItemName
    \    Run Keyword If    '${Get_event_name}' != 'qualityOfService'    Continue For Loop
    \    ${Event_item_value}    Get From Dictionary    ${event_details[${x}]}    eventItemValue
    \    ${Actual_Alert}    Built the Alert list    ${Event_item_value}

    [Return]    ${Actual_Alert}

Perform an LI Update From Group
    [Documentation]    Perform an LI Update From Group
    ...             Example:
    ...             Perform an LI Update From Group    ${li}    ${interval}
    [Arguments]       ${li}=${LE}-${LIG1}     ${timeout}=30 min    ${interval}=15s
    ${resp} =       Fusion Api Update from group    ${li}
    ${task} =       Wait For Task       ${resp}     ${timeout}        ${interval}
    ${valDict} =    Create Dictionary   status_code=${200}
    ...                                 taskState=Completed
    Validate Response    ${task}    ${valDict}

Verify LI/LIG Consistent Status
    [Documentation]    Verify the consistency status of LIG/LI
    [Arguments]    ${Expected_Consistency_Status}    ${li}=${LE}-${LIG}
    Sleep    90
    ${Li_resp}= Fusion Api Get Li
    ${l} =  Get Length  ${Li_resp['members']}
    :FOR    ${x}    IN RANGE    0   ${l}
    \   Run Keyword If  '${Li_resp['members'][${x}]['name']}' != '${li}'        Continue For Loop
    \   Should Be Equal As Strings  ${Li_resp['members'][${x}]['consistencyStatus']}    ${Expected_Consistency_Status}
    Log to console and logfile    LI/LIG are ${Expected_Consistency_Status}.

Verify Interconnect State
    [Documentation]    Verify the interconnect state
    ...             Example:
    ...             Verify Interconnect State    ${interconnectname_1}    ${IC_Configured}
    [Arguments]        ${interconnectname_1}        ${IC_Configured}
    ${ic} =    Get IC    ${interconnectname_1}
    ${State} =    Get From IC        ${ic}    state
    Log to Console and logfile    ${State}
    Log to console and logfile    Interconnect state is ${interconnectname_1}:${State}
    Should Be Equal As Strings    ${State}    ${IC_Configured}

Get IC
    [Documentation]    Get IC by name
    ...             Example:
    ...             Get IC    ${ICM_NAME}
    [Arguments]        ${ICM_NAME}
    ${resp} =   fusion api get interconnect
    Log        ${resp}
    ${ics} =     Get From Dictionary     ${resp}    members
    ${l} =     Get Length    ${ics}
    :FOR    ${x}    IN RANGE    0    ${l}
    \   ${ic} =     Get From List   ${ics}    ${x}
    \     Exit For Loop If     '${ic['name']}' == '${ICM_NAME}'
    [Return]    ${ic}

Get from IC
    [Documentation]    Get the required element from the interconnect
    ...             Example:
    ...             Get from IC    ${ic}    ${element}
    [Arguments]     ${ic}   ${element}
    ${return} =     Get From Dictionary     ${ic}   ${element}
    [Return]    ${return}

Built the Alert list
    [Documentation]    Build Alert list to verify the compliance alerts
    [Arguments]    ${Qos_compliance_alert}

    ${Line_count}    Get Line Count    ${Qos_compliance_alert}
    ${Alert_List}    Create List
    :For    ${x}    INRANGE    0    ${Line_count}
    \    ${Get_line}    Get Line    ${Qos_compliance_alert}    ${x}
    \    Append to list    ${Alert_List}    ${Get_line}
    Sort List    ${Alert_List}

    [Return]    ${Alert_List}

Get Qos Classifiers Value
    [Documentation]    Get Qos Classifiers Value from LIG
    [Arguments]    ${Class_Name_qos}    ${Parameter}
    ${Get_lig}    Fusion Api Get Lig    param=?filter="'name'=='${LIGS_TB['name']}'"
    ${Get_lig_body}    Copy Dictionary    ${Get_lig['members'][0]['qosConfiguration']['activeQosConfig']['qosTrafficClassifiers']}
    ${Qos_classifier_count}    Get Length    ${Get_lig_body}

    :For    ${x}    INRANGE    0    ${Qos_classifier_count}
    \    ${classname}    Get From Dictionary    ${Get_lig_body[${x}]['qosTrafficClass']}    className
    \    Run Keyword If    '${classname}' != '${Class_Name_qos}'    Continue For Loop
    \    ${Qos_traffic_Value}    Get From Dictionary    ${Get_lig_body[${x}]['qosTrafficClass']}    ${Parameter}
    \    ${Qos_traffic_classifier_Value}    Convert To String    ${Qos_traffic_Value}

    [Return]    ${Qos_traffic_classifier_Value}

Get Qos Classifiers Value LI
    [Documentation]    Get Qos Classifiers Value from LI
    [Arguments]    ${Class_Name_qos}    ${Parameter}
    ${Get_li}    Fusion Api Get Li
    ${Get_li_body}    Copy Dictionary    ${Get_li['members'][0]['qosConfiguration']['activeQosConfig']['qosTrafficClassifiers']}
    ${Qos_classifier_count}    Get Length    ${Get_li_body}

    :For    ${x}    INRANGE    0    ${Qos_classifier_count}
    \    ${classname}    Get From Dictionary    ${Get_li_body[${x}]['qosTrafficClass']}    className
    \    Run Keyword If    '${classname}' != '${Class_Name_qos}'    Continue For Loop
    \    ${Qos_traffic_Value}    Get From Dictionary    ${Get_li_body[${x}]['qosTrafficClass']}    ${Parameter}
    \    ${Qos_traffic_classifier_Value}    Convert To String    ${Qos_traffic_Value}

    [Return]    ${Qos_traffic_classifier_Value}

Cleanup For Suite

   [Documentation]    Returns appliance to a 'clean' state by removing all resources\enclosures
    Log to console and logfile    [Cleanup]
    Login to OneView via REST
    Power off ALL Servers
    Remove All Server Profiles
    Remove All Logical Enclosures
    Remove ALL Enclosure Groups
    Remove ALL LIGs
    Remove All Network Sets
    Remove ALL Ethernet Networks
    Remove ALL FC Networks
    Remove ALL FCoE Networks