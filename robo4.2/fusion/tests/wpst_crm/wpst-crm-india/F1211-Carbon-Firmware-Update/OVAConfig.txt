*** Settings ***
Library		        RoboGalaxyLibrary
Library             FusionLibrary
Library             SSHLibrary
Library             OperatingSystem
Library             XML
Library             String
*** Variables ***
${DataFile}             ./lig-eg-le_data.xml
#${ApplianceUrl}        https://15.212.160.199
#${Browser}             Chrome
#${Browser}             IE
#${Browser}             FireFox
#${SeleniumSpeed}       0.1


*** Keywords ***

Load Test Data and Open Browser
    Set Log Level    TRACE
	Load Test Data  ${DataFile}
    Log Variables
	Open Browser  ${ApplianceUrl}  ${Browser}
	Maximize Browser Window
	Set Selenium Speed  ${SeleniumSpeed}

Logout and Close All Browsers
	Fusion UI Logout of Appliance
	Close All Browsers

kc Logout and Close All Browsers
	Log to Console	"Execution of Set of test cases is done"
	
Log into Fusion appliance as Administrator
	${user} =  Get Data By Property  ${TestData.users}  name  Administrator
	Fusion UI Login to Appliance   ${user[0].name}

Log into Fusion appliance as Serveradmin
	${user} =  Get Data By Property  ${TestData.users}  name  server
	Fusion UI Login to Appliance   ${user[0].name}

Log into Fusion appliance as Networkadmin
	${user} =  Get Data By Property  ${TestData.users}  name  network
	Fusion UI Login to Appliance   ${user[0].name}

Log into Fusion appliance as Backupadmin
	${user} =  Get Data By Property  ${TestData.users}  name  backup
	Fusion UI Login to Appliance   ${user[0].name}

Log into Fusion appliance as Storageadmin
    ${user} =  Get Data By Property  ${TestData.users}  name  storage
    Fusion UI Login to Appliance   ${user[0].name}

Log into Fusion appliance as Softwareadmin
    ${user} =  Get Data By Property  ${TestData.users}  name  software
    Fusion UI Login to Appliance   ${user[0].name}

Perform SSH connection test
      [Arguments]      ${IP}	${USER1}	${PASSWORD}
      Set Default Configuration    prompt=${PROMPT}  timeout=1 minute
      ${id}=           Open Connection   ${IP}
      ${ssh_status}    ${output}=  Run Keyword And Ignore Error  Login	${USER1}	${PASSWORD}
      Run keyword if	'${ssh_status}'=='FAIL'	Log to Console	"SSH to Server: Failed"
      Run keyword if	'${ssh_status}'=='PASS'	Log to Console	"SSH to Server: Passed"
      Close Connection
      Log to Console	"Closed SSH channel"
      Log to Console	"SSH_status"
      Log to Console	${ssh_status}
      [return]	${ssh_status}
      