*** Settings ***
Documentation       Function to verify ILT port connections 

Variables           data_variables.py
Library             Collections
Library             json
Library             FusionLibrary
Library             BuiltIn
Library             OperatingSystem
Library             Selenium2Library
Library             ILT_validation.py


*** Variables ***

${APPLIANCE_IP}                 15.212.137.104

*** Keywords ***
Verify Interconnect Link Topology		
	[Arguments]		${APPLIANCE_IP}     ${admin_credentials}	
    Log to console  Verifying interconnect link topology
    ${getresponse}=  Fusion Api Get Interconnect Link Topology		
    @{ilt_state} =  verify_ilt		${getresponse}		${APPLIANCE_IP}     ${admin_credentials}
    :FOR    ${x}    IN  @{ilt_state}
    \   Should Be True      ${x}        Wrong ILT Configuration
   	
Verify Interconnect Link Topology Alerts
	[Arguments]		${APPLIANCE_IP}     ${admin_credentials} 
	${getresponse}=  Fusion Api Get Interconnect Link Topology
   	${alertresponse} =	Fusion Api Get Alerts    param=?filter="alertState='Locked'"
    verify_ilt_alerts		${alertresponse}		${getresponse}		${APPLIANCE_IP}     ${admin_credentials}		

*** Test cases ***

Login
    Fusion Api Login Appliance      ${APPLIANCE_IP}     ${admin_credentials}
ILT task 1
    Verify Interconnect Link Topology		${APPLIANCE_IP}     ${admin_credentials}
    
ILT task 2    
   	Verify Interconnect Link Topology Alerts		${APPLIANCE_IP}     ${admin_credentials}
   
    
          





