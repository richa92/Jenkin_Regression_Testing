*** Settings ** *
Documentation      Continuous Integration Tests for RoboGalaxy dev Branch
Resource           OVAConfig.txt
Force Tags         Buildup
Suite Setup			Load Test Data and Open Browser
#Suite Teardown		Logout And Close All Browsers
Library            Dialogs
Library 			String
Library				Collections
Library             json
Library				OperatingSystem
Library				iperfpingfunction.py

*** Test Cases ***

TC 12, 13, 15	
		
	########################## Mezz 1 of Server Bay 9 #####################
				 	
	fusion_ui_power_off_server_profile	@{TestData.profile_12_13_15_1}
	sleep	180
		    
	${Status}=    fusion_ui_edit_server_profile     @{TestData.profile_12_13_15_1}
	Log to Console   Server profile creation status: ${Status}
            
	fusion_ui_power_on_server_profile	@{TestData.profile_12_13_15_1}
	sleep	650
	
	server_ipassignment_ping			@{TestData.server_parameters_bay_15_Mezz1}[0]
	${port_a_mezz1} =	server_ipassignment_ping  			@{TestData.iperf_server_ping}[0]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_15_Mezz1}[1]
	${port_b_mezz1} =	server_ipassignment_ping  @{TestData.iperf_server_ping}[1]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_15_Mezz1}[2]
	${port_c_mezz1} =	server_ipassignment_ping  @{TestData.iperf_server_ping}[2]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_15_Mezz1}[3]
	${port_d_mezz1} =	server_ipassignment_ping  @{TestData.iperf_server_ping}[3]

	server_ipassignment_ping  @{TestData.server_parameters_bay_15_Mezz1}[4]	
	${port_e_mezz1} =	fusion_ui_server_ipassignment_ping	@{TestData.iperf_server_ping}[4]			
	${band_porte_mezz1}=	Convert To Number	${port_e_mezz1}
	Log to Console   Speed of Port e: ${band_porte_mezz1}
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_15_Mezz1}[5]
	${port_f_mezz1}=	server_ipassignment_ping  @{TestData.iperf_server_ping}[5]	
	${band_portf_mezz1}=	Convert To Number	${port_f_mezz1}
	Log to Console   Speed of Port f: ${band_portf_mezz1}
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_15_Mezz1}[6]
	${port_g_mezz1}=	server_ipassignment_ping  @{TestData.iperf_server_ping}[6]	
	${band_portg_mezz1}=	Convert To Number	${port_g_mezz1}
	Log to Console   Speed of Port g: ${band_portg_mezz1}
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_15_Mezz1}[7]
	${port_h_mezz1}=	server_ipassignment_ping  @{TestData.iperf_server_ping}[7]	
	${band_porth_mezz1}=	Convert To Number	${port_h_mezz1}
	Log to Console   Speed of Port h: ${band_porth_mezz1}
	
	${Total_Speed1}=	Evaluate	${band_porte_mezz1}+${band_portf_mezz1}+${band_portg_mezz1}+${band_porth_mezz1}
	Log to Console   Total speed of four Ports: ${Total_Speed1}
	${Total_Speed_Ports1}=	Convert To Number	${Total_Speed1}
	Log to Console   Speed Ports1 ${Total_Speed_Ports1}	
	
	Fusion UI Logout of Appliance
	Log to Console  Successfully Logged out Appliance
	
	Log into Fusion appliance as Administrator    
   	Log to Console  Test Step - 1 Completed
   	
   	
	########################## Mezz 2 of Server Bay 9 ###################
		
	fusion_ui_power_off_server_profile	@{TestData.profile_12_13_15_1}
	sleep	180

	${Status}=    fusion_ui_edit_server_profile     @{TestData.profile_12_13_15_1_edit}
	Log to Console   Server profile creation status: ${Status}
	
	${Status}=    fusion_ui_edit_server_profile     @{TestData.profile_12_13_15_1_add}
	Log to Console   Server profile creation status: ${Status}
            
	fusion_ui_power_on_server_profile	@{TestData.profile_12_13_15_1}
	sleep	650
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_15_Mezz2}[0]
	server_ipassignment_ping  @{TestData.iperf_server_ping}[0]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_15_Mezz2}[1]
	server_ipassignment_ping  @{TestData.iperf_server_ping}[1]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_15_Mezz2}[2]
	server_ipassignment_ping  @{TestData.iperf_server_ping}[2]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_15_Mezz2}[3]
	server_ipassignment_ping  @{TestData.iperf_server_ping}[3]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_15_Mezz2}[4]
	${port_e_mezz2}=	server_ipassignment_ping  @{TestData.iperf_server_ping}[4]			
	${band_porte_mezz2}=	Convert To Number	${port_e_mezz2}
	Log to Console   Speed of Port e: ${band_porte_mezz2}
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_15_Mezz2}[5]	
	${port_f_mezz2}=	server_ipassignment_ping  @{TestData.iperf_server_ping}[5]	
	${band_portf_mezz2}=	Convert To Number	${port_f_mezz2}
	Log to Console   Speed of Port f: ${band_portf_mezz2}
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_15_Mezz2}[6]
	${port_g_mezz2}=	server_ipassignment_ping  @{TestData.iperf_server_ping}[5]	
	${band_portg_mezz2}=	Convert To Number	${port_g_mezz2}
	Log to Console   Speed of Port g: ${band_portg_mezz2}
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_15_Mezz2}[7]
	${port_h_mezz2}=	server_ipassignment_ping  @{TestData.iperf_server_ping}[5]	
	${band_porth_mezz2}=	Convert To Number	${port_h_mezz2}
	Log to Console   Speed of Port f: ${band_porth_mezz2}	
	
	${Total_Speed2}=	Evaluate	${band_porte_mezz2}+${band_portf_mezz2}+${band_portg_mezz2}+${band_porth_mezz2}
	Log to Console   Total speed of four Ports: ${Total_Speed2}
	${Total_Speed_Ports2}=	Convert To Number	${Total_Speed2}
	Log to Console   Speed Ports2 ${Total_Speed_Ports2}

	# TC 40
	Log to Console	Total of the e,f,g,h Ports		
	${Total_Speed}=		Evaluate	${Total_Speed_Ports1}+${Total_Speed_Ports2}
	Log to Console	Total Speed is:${Total_Speed}
	Log to console	The Speed matched between Server and Profile
	
###################################Test case 40 ends here

	########################## LOM 1 of Server Bay 5 ###################
	
	fusion_ui_power_off_server_profile	@{TestData.profile_12_13_15_1_add_Lom1_bay5}
	sleep	180
		    
	${Status}=    fusion_ui_edit_server_profile     @{TestData.profile_12_13_15_1_add_Lom1_bay5}
	Log to Console   Server profile creation status: ${Status}
            
	fusion_ui_power_on_server_profile	@{TestData.profile_12_13_15_1_add_Lom1_bay5}
	sleep	650
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom1}[0]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[0]	
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom1}[1]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[1]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom1}[2]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[2]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom1}[3]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[3]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom1}[4]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[4]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom1}[5]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[5]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom1}[6]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[6]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom1}[7]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[7]
	
	Fusion UI Logout of Appliance
	Log to Console  Successfully Logged out Appliance
	
	Log into Fusion appliance as Administrator    
   	Log to Console  Test Step - 1 Completed	
	
	########################## LOM 2 of Server Bay 5 ###################
		
	fusion_ui_power_off_server_profile	@{TestData.profile_12_13_15_1_edit_Lom1_bay5}
	sleep	180

	${Status}=    fusion_ui_edit_server_profile     @{TestData.profile_12_13_15_1_edit_Lom1_bay5}
	Log to Console   Server profile creation status: ${Status}
	
	${Status}=    fusion_ui_edit_server_profile     @{TestData.profile_12_13_15_1_add_Lom2_bay5}
	Log to Console   Server profile creation status: ${Status}
            
	fusion_ui_power_on_server_profile	@{TestData.profile_12_13_15_1_add_Lom2_bay5}
	sleep	650
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom2}[0]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[0]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom2}[1]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[1]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom2}[2]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[2]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom2}[3]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[3]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom2}[4]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[4]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom2}[5]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[5]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom2}[6]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[6]
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_5_Lom2}[7]
	server_ipassignment_ping  @{TestData.iperf_server_ping_bay5}[7]
	
	
	###################################Test case 12, 13, 15 ends here   

#TC 39, 42

# Step : 2 Edit ethernet network
    Log To Console    *********Edit ethernet network****************
	Fusion UI Edit Ethernet Network    @{TestData.networks_a}	
    
    Fusion UI Logout of Appliance
	Log to Console  Successfully Logged out Appliance
	
	Log into Fusion appliance as Administrator    
   	Log to Console  Test Step - 1 Completed
   	   	
	fusion_ui_power_off_server_profile	@{TestData.profile_39_42_a}
	sleep	180
   	
    Log to Console	***********Editing server profile**********
    ${Status}=    fusion_ui_edit_server_profile     @{TestData.profile_39_42_a}
    Log to Console   Server profile creation status: ${Status}
    
	${Status}=    fusion_ui_edit_server_profile     @{TestData.profile_39_42_b}
	Log to Console   Server profile creation status: ${Status}
	
	fusion_ui_power_on_server_profile	@{TestData.profile_39_42_a}
	sleep	650
		
	#Step : 4 Verify profile connections
	Log to Console	**************Verifying profile connections **************	
	${Status} =    fusion_ui_verify_server_profile_connections_info    @{TestData.profile_39_42_verify}
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_39_42}[0]
	${port_e2}=	server_ipassignment_ping  @{TestData.iperf_server_ping_39_42}[0]
	Log to Console   Speed of Port e: ${port_e2}
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_39_42}[1]
	${port_f2}=	server_ipassignment_ping  @{TestData.iperf_server_ping_39_42}[1]
	Log to Console   Speed of Port f: ${port_f2}
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_39_42}[2]
	${port_g2}=	server_ipassignment_ping  @{TestData.iperf_server_ping_39_42}[2]
	Log to Console   Speed of Port g: ${port_g2}
	
	server_ipassignment_ping  @{TestData.server_parameters_bay_39_42}[3]
	${port_h2}=	server_ipassignment_ping  @{TestData.iperf_server_ping_39_42}[3]
	Log to Console   Speed of Port h: ${port_h2}	
	
###################################Test case 39, 42 ends here