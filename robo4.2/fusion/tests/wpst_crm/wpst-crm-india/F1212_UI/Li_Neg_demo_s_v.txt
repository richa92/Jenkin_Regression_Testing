*** Settings ***
Documentation      Continuous   Integration Tests for F1212 feature
Resource           F1212OVAConfig.txt
Force Tags         Buildup
Suite Setup         Load Test Data and Open Browser
Suite Teardown      Logout And Close All Browsers
Library             Dialogs

*** Variables ***
${ExpectedErrorMsg1}=           Unable to update firmware for the logical interconnect SGH420HHYA-LIG_B1 as an attempt was made to downgrade the firmware without selecting the force option.
${ExpectedErrorMsg3}=           No update required. Selected firmware is already installed in the logical interconnect SGH420HHYA-LIG_B1.
${ExpectedErrorMsg1}=    No update required
${ExpectedErrorMsg2}=    Selected firmware is already installed in the logical interconnect
${ExpectedErrorMsg3}=    Selected firmware is already installed
${ExpectedErrorMsg4}=    Unable to update firmware for the logical interconnect
${ExpectedErrorMsg5}=    an attempt was made to downgrade the firmware without selecting the force option
${ExpectedErrorMsg5.1}=    Retry the downgrade operation by selecting force option in the logical interconnect firmware update page
${ExpectedErrorMsg6}=    Firmware activation failed for logical interconnect
${ExpectedErrorMsg7}=    Activation failed due to failure of firmware update operation on interconnect
${ExpectedErrorMsg8}=    If the interconnects are in configured, unmanaged, maintenance or configuration error state, try the firmware activation again
${ExpectedErrorMsg9}=    If the interconnect is in any other state, refresh the enclosure and then retry the firmware update
${ExpectedErrorMsg10}=    If the problem continues to occur, contact your authorized support representative and provide them with a support dump
${ExpectedErrorMsg11}=    One or more interconnects are not in a valid state for firmware update
${ExpectedErrorMsg11.1}=   Visit the listed interconnects and examine the Activity view and follow the problem resolution steps listed there in order to bring the interconnects back to a Configured state or an Unmanaged state
${ExpectedErrorMsg11.2}=   AddedWithErrors state
${ExpectedErrorMsg12}=    There is an ongoing operation on the resource

${ExpectedErrorMsg13}=    One or more interconnects are not in a valid state for firmware update
${ExpectedErrorMsg14}=    Configuring state


*** Test Cases ***
#######   Try to installing   same version of the firmware without force flag  F1212_TC_UI_65  ########
TC01 IVerify the alert message appears when try to set firmware baseline which is same as currently installed version and dont check the force installation option in firmware update operation on LI page

        Set Log Level    TRACE
        Log Variables
        ${user}=    Get Data By Property    ${TestData.users}   name    Administrator
        Fusion UI Login to Appliance   ${user[0].name}

        [Documentation]    "1.3.1.1 Hill FW update LI:Verify the alert message appears when try to set firmware baseline which is same as currently installed version and dont check the force installation option in  firmware update operation on LI page"
        Log to Console    "Testcase_ID: TP section 1.3.1.1 F1212_TC_UI_65 --> Verify the alert message appears when try to set firmware baseline which is same as currently installed version and dont check the force installation option in  firmware update operation on LI page"
        ${Status}=    fusion_ui_update_firmware_logical_interconnect      @{TestData.Update_firmware_ebb_neg}[0]

        ${Status}=    fusion_ui_validate_error_message_li     ${TestData.Demo_Update_firmware_ebb}[0]

        ${Status}=              Convert To Lowercase    ${Status}
#       ${ExpectedErrorMsg1}=   Convert To Lowercase    ${ExpectedErrorMsg1}
        ${ExpectedErrorMsg3}=   Convert To Lowercase    ${ExpectedErrorMsg3}


#       Run Keyword and Continue on Failure    Should Contain       '${Status}'     ${ExpectedErrorMsg1}    Expected Error Message Not seen
        Run Keyword and Continue on Failure    Should Contain       '${Status}'     ${ExpectedErrorMsg3}    Expected Error Message Not seen
        Log to Console    Found the alert message ${ExpectedErrorMsg3}
