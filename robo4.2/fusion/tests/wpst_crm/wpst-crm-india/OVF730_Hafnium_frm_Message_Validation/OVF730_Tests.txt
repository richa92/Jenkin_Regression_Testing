*** Settings ***
Documentation       Feature Test: These test cases intended to test Synergey 12000 frame Hafnium Interconnect Module - \
...                  firmware update validation - OVF730 feature\
...
Variables           ./data_variables.py
#Resource            ../../resources/resource.txt
#Resource            ./Generic_API_Resources.txt
#Resource            ../../../resource/fusion_api_all_resource_files.txt
Resource            ../../../../Resources/api/fusion_api_resource.txt
Library             Collections
Library             json
Library             BuiltIn
Library             OperatingSystem
Library             RoboGalaxyLibrary
Library             FusionLibrary

*** Variables ***
${APPLIANCE_IP}                     192.168.148.45
${SLEEP_TIME}                       30
${LI_NAME}                          LE-LIG_BAY_SET_3

*** Keywords ***

Create Server Profile
    [Documentation]    Create SP
    [Arguments]       ${SERVER_DATA}
    ${server}=    Get From Dictionary  ${SERVER_DATA[0]}    serverHardwareUri
    ${server}=    Split String    ${server}    :
    log to console    ${server[1]}
    Power off Server    ${server[1]}
    ${resp}=    Add Server Profiles from variable   ${SERVER_DATA}
    log to console    ${resp[0]}
    ${task} =                       Wait For Task           ${resp[0]}     2800s    30s
    log to console    ${task}
    ${valDict} =    Create Dictionary    status_code=${200}
    ...                                  taskState=Completed
    Validate Response   ${task}     ${valDict}

Create LIG
    [Documentation]    Create LIG
    [Arguments]   ${LIG_DATA}
    Add LIG from variable   ${LIG_DATA}

Create EG
    [Documentation]    Create EG
    [Arguments]   ${EG_DATA}
    Log to console    Create Enclosure group
    ${enc_groups} =    Get Variable Value    ${EG_DATA}
    log to console and log file     ${enc_groups}
    Run Keyword If    ${enc_groups} is not ${null}    Run Keyword for List    ${enc_groups}    Add Enclosure Group from variable
    sleep   15

Create LE
    [Documentation]    Create LE
    [Arguments]   ${LE_DATA}
    ${enc_le} =   Get Variable Value      ${LE_DATA}
    Run Keyword If    ${enc_le} is not ${null}    Run Keyword for List    ${enc_le}   Add Logical Enclosure from variable 
    
Add ethernet networks
    [Documentation]    Add Ethernet
    [Arguments]     ${network}
    ${ethernet_networks} =    Get Variable Value     ${network} 
    Run Keyword If  ${ethernet_networks} is not ${null}    Add Ethernet Networks from variable      ${ethernet_networks}

Add FC networks
    [Documentation]    Add FC Networks
    [Arguments]     ${network}
    ${fc_networks} =    Get Variable Value     ${network} 
    Run Keyword If  ${fc_networks} is not ${null}    Add FC Networks from variable      ${fc_networks}

Add FCoE networks
    [Documentation]    Add FCOE Network
    [Arguments]     ${network}
    ${fcoe_networks} =    Get Variable Value     ${network} 
    Run Keyword If  ${fcoe_networks} is not ${null}    Add FCoE Networks from variable      ${fcoe_networks}

Update LI Firmware and return msg
    [Documentation]    Update LI frm
    [Arguments]       ${LI_FIRMWARE_DATA}    ${LI_NAME}
    ${uri} =    Get LI URI    ${LI_NAME}
    ${body} =    Build LI FwUpdate API body    ${LI_FIRMWARE_DATA}
    ${resp} =   fusion_api_li_upgrade_firmware   body=${body}    uri=${uri}
    ${task}=  Wait For Task     ${resp}     3600s    30s
    ${taskStatus}=                 Get From Dictionary     ${task}         taskStatus
    ${taskErrors}=                 Get From Dictionary     ${task}         taskErrors
    ${errorCode}=                  Get From Dictionary     ${taskErrors[0]}     errorCode
    ${recommendedActions}=         Get From Dictionary     ${taskErrors[0]}    recommendedActions
    ${data}=                       Get From Dictionary     ${taskErrors[0]}    data
    ${serverDetail}=                     Get From Dictionary     ${data}    LIFirmwareUpgradeCompatibilityStatusKey
    ${message}=                    Get From Dictionary     ${taskErrors[0]}    message
    ${return_data} =    Create Dictionary                taskStatus=${taskStatus}
    ...                                            taskErrors=${taskErrors}
    ...                                            errorCode=${errorCode}
    ...                                            recommendedActions=${recommendedActions}
    ...                                            serverDetail=${serverDetail}
    ...                                            data=${data}
    ...                                            message=${message}
    [Return]    ${return_data}
    # Example
    #${msg} =    Update LI Firmware and return msg    ${LI_fw_update_Carbon_orchestrated_stage_activate_incomp}    TB_CAR_LE_1_4-lig_1_4
    #${msg1}=              Convert To Lowercase    ${msg}
    #${sameversionmsg1}=   Convert To Lowercase    ${sameversionmsg}
    #Run Keyword and Continue on Failure    Should Contain       '${msg1}'     ${sameversionmsg1}

Build LI FwUpdate API body
      [Documentation]    Build LI body
      [Arguments]       ${li-fw-update}
      ${command} =                  Get From Dictionary     ${li-fw-update}  command
      ${path} =                     Get From Dictionary     ${li-fw-update}  path
      ${ethernetActivationDelay} =  Get From Dictionary     ${li-fw-update}  ethernetActivationDelay
      ${ethernetActivationType} =   Get From Dictionary     ${li-fw-update}  ethernetActivationType
      ${fcActivationDelay} =        Get From Dictionary     ${li-fw-update}  fcActivationDelay
      ${fcActivationType} =         Get From Dictionary     ${li-fw-update}  fcActivationType
      ${force} =                    Get From Dictionary     ${li-fw-update}  force
      ${sppUri} =                   Get From Dictionary     ${li-fw-update}  sppUri
      ${validateOnly}               Get From Dictionary     ${li-fw-update}  validationType
      ${body} =    Create Dictionary                command=${command}
      ...                                            ethernetActivationDelay=${ethernetActivationDelay}
      ...                                            ethernetActivationType=${ethernetActivationType}
      ...                                            fcActivationDelay=${fcActivationDelay}
      ...                                            fcActivationType=${fcActivationType}
      ...                                            validationType=${validateOnly}
      ...                                            force=${force}
      ...                                            sppUri=${sppUri}
      Log to console    ${body}
      [Return]    ${body}

Add Network Sets from variable1
    [Documentation]    Add netset
    [Arguments]     ${networks}
    Log to console and logfile      Adding NETWORK SETS 
    :FOR    ${net}  IN  @{networks}
    \       ${networkUris} =    Get Ethernet URIs   ${net['networkUris']}
    \       Set to dictionary   ${net}  networkUris    ${networkUris}
    \       ${resp} =   Fusion Api Create Network Set       body=${net}
    [Return]    ${resp}

Power Off the server from server profile
    [Documentation]    Power off server
    [Arguments]       ${SERVER_DATA}
    ${server}=    Get From Dictionary  ${SERVER_DATA[0]}    serverHardwareUri
    ${server}=    Split String    ${server}    :
    log to console    ${server[1]}
    Power Off Server    ${server[1]}

Power On the server from server profile
    [Documentation]    Power On server
    [Arguments]       ${SERVER_DATA}
    ${server}=    Get From Dictionary  ${SERVER_DATA[0]}    serverHardwareUri
    ${server}=    Split String    ${server}    :
    log to console    ${server[1]}
    Power On Server    ${server[1]}

Get Server List in message
     [Documentation]    Get server list
     [Arguments]    ${msg}
     ${server_list}=    Get Regexp Matches    ${msg}    [0-9a-fA-F]*, bay .
     [return]    ${server_list}

Message Should Contain Server Name
     [Documentation]    Check server in msg
     [Arguments]    ${SERVER_LIST}    ${SERVER_PROFILE}
     ${server}=    Get From Dictionary  ${SERVER_PROFILE[0]}    serverHardwareUri
     ${server}=    Split String    ${server}    :
     log to console    ${server[1]}
     List Should Contain Value    ${SERVER_LIST}    ${server[1]}

Disable Selected Uplink Port
    [Documentation]     Disable uplink
    [Arguments]     ${IC_NAME}    ${UpLinkPort}    ${body_disable_uplink}
    ${uri} =    Get IC URI     ${IC_NAME}
    Update IC Port     ${IC_NAME}   ${UpLinkPort}   ${body_disable_uplink}

Enable Selected Uplink Port
    [Documentation]    Enable uplink
    [Arguments]     ${IC_NAME}    ${UpLinkPort}    ${body_enable_uplink}
    ${uri} =    Get IC URI     ${IC_NAME}
    Update IC Port     ${IC_NAME}   ${UpLinkPort}   ${body_enable_uplink}
    #
    #Enable Selected Uplink Port    ${ICM_NAME_1}    ${UpLinkPort}    ${enable_uplink}

Disable Selected Downlink Port
    [Documentation]    Disable downlink
    [Arguments]     ${IC_NAME}    ${DownLinkPort}    ${body_disable_downlink}
    ${uri} =    Get IC URI     ${IC_NAME}
    Update IC Port     ${IC_NAME}   ${DownLinkPort}   ${body_disable_downlink}
    #
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${DownLinkPort}    ${body_disable_downlink}

Enable Selected Downlink Port
    [Documentation]    Enable downlink
    [Arguments]     ${IC_NAME}    ${DownLinkPort}    ${body_enable_downlink}
    ${uri} =    Get IC URI     ${IC_NAME}
    Update IC Port     ${IC_NAME}   ${DownLinkPort}   ${body_enable_downlink}
    #
    #Enable Selected Downlink Port    ${ICM_NAME_1}    ${DownLinkPort}    ${body_enable_downlink}

*** Test Cases ***

00 Appliance LogIn
    [Tags]    AutoSplitBeforeLE
    Fusion Api Login Appliance     ${APPLIANCE_IP}   ${login_details}

Clean Appliance
    Log to console and log file    \nCleaning Appliance
    Run Keyword and Ignore Error    Remove All Server Profiles
    Run Keyword and Ignore Error    Remove All Server Profile Templates
    Run Keyword and Ignore Error    Remove All LEs
    Run Keyword and Ignore Error    Remove All Enclosure Groups
    Run Keyword and Ignore Error    Remove All LIGs
    Run Keyword and Ignore Error    Remove All Network Sets
    Run Keyword and Ignore Error    Remove All Ethernet Networks
    Run Keyword and Ignore Error    Remove All FC Networks
    Run Keyword and Ignore Error    Remove All FCoE Networks

Create LIG EG before starting tests
    Log to console and log file     Create LIG EG before starting tests
    Add ethernet networks    ${Eth_networks}
    Add FC networks    ${fc_networks}
    Add FCoE networks    ${fcoe_networks}
    Add Network Sets from variable1    ${network_sets}
    Create LIG    ${OVF730_lig_3frame_ibs3_ha}
    Create EG    ${OVF730_eg_3enc_BaySet3_ha}
    Create LE     ${OVF730_le}

Create Server SP
    Create Server Profile    ${Redundant_Server_FC_Temp}
    Create Server Profile    ${Not_Redundant_Server_FC_Temp}
    Create Server Profile    ${Redundant_Server_FCOE_Temp}
    Create Server Profile    ${Not_Redundant_Server_FCOE_Temp}
    Create Server Profile    ${Eth_Server_Redundant_Uplink_not_redundant_temp}
    Create Server Profile    ${LAG_Server_temp}
    Create Server Profile    ${NO_LAG_Server_temp}
    Create Server Profile    ${Multi_LAG_Server_temp}
    Create Server Profile    ${Untagged_LAG_Server_temp}
    Create Server Profile    ${Tunnel_LAG_Server_temp}

##################################################################################

OVF730_1 : Fully LAG'ed, Down-FC/FCoE-Reduandant, UPL-Eth-Reduandant; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    ${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${FC_ENET} =    replace string using regexp    ${FC_ENET}    \n    ${EMPTY}
    Should Contain       ${recommendedActions[0]}     ${FC_ENET}

OVF730_3_5 : Some of them LAG'ed, but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed; Down-FC/FCoE-Reduandant, UPL-Eth-Reduandant; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    ${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${FC_ENET} =    replace string using regexp    ${FC_ENET}    \n    ${EMPTY}
    Should Contain       ${recommendedActions[0]}     ${FC_ENET}
    #${sl}=    Get Server List in message    ${recommendedActions[0]}
    #Log to console and log file    ${sl}
    #Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}

OVF730_4 : Some of them LAG'ed + but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed + Some of them are Non-Redundent
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    ${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}


##################################################################################

OVF730_6: Fully LAG'ed, DOWL-FC/FCoE-Not-Reduandant, UPL-Eth-Reduandant, UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    ${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}

OVF730_8_10: Some of them LAG'ed + but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed + Some of them are Non-Redundent, DOWL-FC/FCoE-Not-Reduandant, UPL-Eth-Reduandant, UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    ${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}

OVF730_9: DOWN-Eth-Some of them LAG'ed, but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed, DOWL-FC/FCoE-Not-Reduandant, UPL-Eth-Reduandant, UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    ${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}

##############################################################################################

Setup Port status1
    Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}

OVF730_11: Fully LAG'ed, DOWL-FC/FCoE-Reduandant-port-down, UPL-Eth-Reduandant, UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${FC_ENET} =    replace string using regexp    ${FC_ENET}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${FC_ENET}
    Should Contain       ${recommendedActions[0]}     ${FC_ENET}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FC_Temp}

OVF730_13_15: Some of them LAG'ed, but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed, DOWL-FC/FCoE-Reduandant-port-down, UPL-Eth-Reduandant, UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${FC_ENET} =    replace string using regexp    ${FC_ENET}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${FC_ENET}
    Should Contain       ${recommendedActions[0]}     ${FC_ENET}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FC_Temp}

OVF730_14: Some of them LAG'ed + but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed + Some of them are Non-Redundent, DOWL-FC/FCoE-Reduandant-port-down, UPL-Eth-Reduandant, UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${FC_ENET} =    replace string using regexp    ${FC_ENET}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${FC_ENET}
    Should Contain       ${recommendedActions[0]}     ${FC_ENET}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}

Restore Port Status1
    Enable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Enable_downlink}


##############################################################################################

Setup Port status2
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_Untagged_UpLinkPort}    ${Eth_Untagged_Disable_UpLinkPort}
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_Tunnel_UpLinkPort}    ${Eth_Tunnel_Disable_UpLinkPort}

OVF730_16: Fully LAG'ed, DOWL-FC/FCoE-Reduandant, UPL-Eth-Reduandant+ Few of LAG ports are down; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Untagged_LAG_Server_temp}
    Power On the server from server profile    ${Tunnel_LAG_Server_temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${FC_ENET} =    replace string using regexp    ${FC_ENET}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${FC_ENET}
    Should Contain       ${recommendedActions[0]}     ${FC_ENET}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Multi_LAG_Server_temp}
    Message Should Contain Server Name    ${sl}    ${Untagged_LAG_Server_temp}
    Message Should Contain Server Name    ${sl}    ${Tunnel_LAG_Server_temp}

OVF730_18_20: Some of them LAG'ed, but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed, DOWL-FC/FCoE-Reduandant, UPL-Eth-Reduandant+ Few of LAG ports are down; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Untagged_LAG_Server_temp}
    Power On the server from server profile    ${Tunnel_LAG_Server_temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${FC_ENET} =    replace string using regexp    ${FC_ENET}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${FC_ENET}
    Should Contain       ${recommendedActions[0]}     ${FC_ENET}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Multi_LAG_Server_temp}
    Message Should Contain Server Name    ${sl}    ${Untagged_LAG_Server_temp}
    Message Should Contain Server Name    ${sl}    ${Tunnel_LAG_Server_temp}

OVF730_19: Some of them LAG'ed + but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed + Some of them are Non-Redundent, -FC/FCoE-Reduandant, UPL-Eth-Reduandant+ Few of LAG ports are down; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Untagged_LAG_Server_temp}
    Power On the server from server profile    ${Tunnel_LAG_Server_temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}
    Message Should Contain Server Name    ${sl}    ${Multi_LAG_Server_temp}
    Message Should Contain Server Name    ${sl}    ${Untagged_LAG_Server_temp}
    Message Should Contain Server Name    ${sl}    ${Tunnel_LAG_Server_temp}

Restore Port Status2
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_Untagged_UpLinkPort}    ${Eth_Untagged_Enable_UpLinkPort}
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_Tunnel_UpLinkPort}    ${Eth_Tunnel_Enable_UpLinkPort}

##############################################################################################

Setup Port status3
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}


OVF730_21: Fully LAG'ed, -FC/FCoE-Reduandant, UPL-Eth-Reduandant+ Few of LAG ports are down; UPL-FC/FCoE-Not-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_DownLinkPort}    ${Eth_Disable_UpLinkPort}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Multi_LAG_Server_temp}

OVF730_23_25: Some of them LAG'ed, but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed, -FC/FCoE-Not-Reduandant, UPL-Eth-Reduandant+ Few of LAG ports are down; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_DownLinkPort}    ${Eth_Disable_UpLinkPort}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Multi_LAG_Server_temp}

OVF730_24: Some of them LAG'ed + but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed + Some of them are Non-Redundent, -FC/FCoE-Not-Reduandant, UPL-Eth-Reduandant+ Few of LAG ports are down; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_DownLinkPort}    ${Eth_Disable_UpLinkPort}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}
    Message Should Contain Server Name    ${sl}    ${Multi_LAG_Server_temp}

Restore Port Status3
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}

##############################################################################################

Setup Port status4
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}

OVF730_26: Fully LAG'ed, -FC/FCoE-Reduandant-port-down, UPL-Eth-Reduandant+ Few of LAG ports are down; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_DownLinkPort}    ${Eth_Disable_UpLinkPort}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FC_Temp}


OVF730_28_30: Some of them LAG'ed, but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed, -FC/FCoE-Reduandant-port-down, UPL-Eth-Reduandant+ Few of LAG ports are down; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_DownLinkPort}    ${Eth_Disable_UpLinkPort}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FC_Temp}

OVF730_29: Some of them LAG'ed + but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed + Some of them are Non-Redundent, -FC/FCoE-Reduandant-port-down, UPL-Eth-Reduandant+ Few of LAG ports are down; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_DownLinkPort}    ${Eth_Disable_UpLinkPort}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}

Restore Port Status4
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${FC_UpLinkPort}    ${FC_Enable_uplink}

##############################################################################################

Setup Port status5
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}

OVF730_31_33_35: Fully LAG'ed, -FC/FCoE-Reduandant, UPL-Eth-Reduandant+ Few of LAG ports are down+some of them are redundent; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    #Message Should Contain Server Name    ${sl}    ${Redundant_Server_FC_Temp}

OVF730_34: Fully LAG'ed, -FC/FCoE-Reduandant, UPL-Eth-Reduandant+ Few of LAG ports are down+some of them are redundent; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}

Restore Port Status5
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}

##############################################################################################

Setup Port status6
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}

OVF730_36_38_40: Fully LAG'ed, DOWL-FC/FCoE-Not-Reduandant, UPL-Eth-Reduandant+ Few of LAG ports are down+some of them are redundent; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FCOE_Temp}

OVF730_39: Fully LAG'ed, -FC/FCoE-Reduandant, DOWL-FC/FCoE-Not-Reduandant, UPL-Eth-Reduandant+ Few of LAG ports are down+some of them are redundent; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FCOE_Temp}

Restore Port Status6
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}

##############################################################################################

Setup Port status7
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}

OVF730_41_43_45: Fully LAG'ed, DOWL-FC/FCoE-Reduandant-one side port is down, UPL-Eth-Reduandant+ Few of LAG ports are down+some of them are redundent; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FCOE_Temp}

OVF730_44: Fully LAG'ed, DOWL-FC/FCoE-Reduandant-one side port is down, UPL-Eth-Reduandant+ Few of LAG ports are down+some of them are redundent; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FCOE_Temp}

Restore Port Status7
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${FC_UpLinkPort}    ${FC_Enable_uplink}

##############################################################################################

Setup Port status8
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}

OVF730_47_49: Fully LAG'ed, DOWL-FC/FCoE-Reduandant, UPL-Eth-Reduandant+ Few of LAG ports are down+some of them are redundent + some of them are non-redundent; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Eth_Server_Redundant_Uplink_not_redundant_temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Eth_Server_Redundant_Uplink_not_redundant_temp}

OVF730_48: Fully LAG'ed-Not-Lag'ed-not-redundant, DOWL-FC/FCoE-Reduandant, UPL-Eth-Reduandant+ Few of LAG ports are down+some of them are redundent + some of them are non-redundent; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Eth_Server_Redundant_Uplink_not_redundant_temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}
    Message Should Contain Server Name    ${sl}    ${Eth_Server_Redundant_Uplink_not_redundant_temp}

Restore Port Status8
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}
    #Enable Selected Downlink Port    ${ICM_NAME_1}    ${Eth_DownLinkPort}    ${Eth_Enable_downlink}

##############################################################################################

Setup Port status9
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}

OVF730_50_52_54: Fully LAG'ed, DOWL-FC/FCoE-Reduandant-but one side port is down, UPL-Eth-Reduandant+ Few of LAG ports are down+some of them are redundent + some of them are non-redundent; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Eth_Server_Redundant_Uplink_not_redundant_temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FCOE_Temp}
    Message Should Contain Server Name    ${sl}    ${Eth_Server_Redundant_Uplink_not_redundant_temp}

OVF730_53: Fully LAG'ed-Not-Lag'ed-not-redundant-but one side port is down, DOWL-FC/FCoE-Reduandant, UPL-Eth-Reduandant+ Few of LAG ports are down+some of them are redundent + some of them are non-redundent; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Eth_Server_Redundant_Uplink_not_redundant_temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FCOE_Temp}
    Message Should Contain Server Name    ${sl}    ${Eth_Server_Redundant_Uplink_not_redundant_temp}

Restore Port Status9
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}
    #Enable Selected Downlink Port    ${ICM_NAME_1}    ${Eth_DownLinkPort}    ${Eth_Enable_downlink}

##############################################################################################

Setup Port status10
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${FC_UpLinkPort}    ${FC_Disable_uplink}
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${FCOE_UpLinkPort}    ${FCOE_Disable_uplink}

OVF730_55_57_59: Fully LAG'ed, DOWL-FC/FCoE-Reduandant-but one side port is down, UPL-Eth-Reduandant+ Few of LAG ports are down+some of them are redundent + some of them are non-redundent; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Eth_Server_Redundant_Uplink_not_redundant_temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Eth_Server_Redundant_Uplink_not_redundant_temp}

OVF730_58: Fully LAG'ed-Not-Lag'ed-not-redundant-but one side port is down, DOWL-FC/FCoE-Reduandant, UPL-Eth-Reduandant+ Few of LAG ports are down+some of them are redundent + some of them are non-redundent; UPL-FC/FCoE-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Eth_Server_Redundant_Uplink_not_redundant_temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Disable_UpLinkPort}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Eth_Server_Redundant_Uplink_not_redundant_temp}

Restore Port Status10
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}
    Enable Selected Downlink Port    ${ICM_NAME_1}    ${Eth_DownLinkPort}    ${Eth_Enable_downlink}
    Enable Selected Downlink Port    ${ICM_NAME_1}    ${FCOE_DownLinkPort}    ${FCOE_Enable_downlink}

##############################################################################################

Setup Port status11
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}

OVF730_60: Fully LAG'ed, DOWL-FC/FCoE-Reduandant, UPL-Eth-Reduandant, UPL-FC/FCoE-Not-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    #Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FCOE_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${FCOE_UpLinkPort}    ${FCOE_Disable_uplink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    LE-LIG
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    message \n
    Log to console and log file    ${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    recommendedActions \n
    Log to console and log file    ${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    #Message Should Contain Server Name    ${sl}    ${Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FCOE_Temp}
    #Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FCOE_Temp}


OVF730_62_64: Some of them LAG'ed, but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed, DOWL-FC/FCoE-Reduandant, UPL-Eth-Reduandant, UPL-FC/FCoE-Not-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    #Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FCOE_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${FCOE_UpLinkPort}    ${FCOE_Disable_uplink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    LE-LIG
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    message \n
    Log to console and log file    ${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    recommendedActions \n
    Log to console and log file    ${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    #Message Should Contain Server Name    ${sl}    ${Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FCOE_Temp}
    #Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FCOE_Temp}


OVF730_63: Some of them LAG'ed + but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed + Some of them are Non-Redundent, DOWL-FC/FCoE-Reduandant, UPL-Eth-Reduandant, UPL-FC/FCoE-Not-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FCOE_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${FCOE_UpLinkPort}    ${FCOE_Disable_uplink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    #Message Should Contain Server Name    ${sl}    ${Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FCOE_Temp}

Restore Port Status11
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}
    Enable Selected Downlink Port    ${ICM_NAME_1}    ${Eth_DownLinkPort}    ${Eth_Enable_downlink}
    Enable Selected Downlink Port    ${ICM_NAME_1}    ${FCOE_DownLinkPort}    ${FCOE_Enable_downlink}

#################################################################################################################################

Setup Port status12
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${FC_UpLinkPort}    ${FC_Disable_uplink}
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${FCOE_UpLinkPort}    ${FCOE_Disable_uplink}

OVF730_65: Fully LAG'ed, DOWL-FC/FCoE-Not-Reduandant, UPL-Eth-Reduandant, UPL-FC/FCoE-Not-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${FCOE_UpLinkPort}    ${FCOE_Disable_uplink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FCOE_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}

OVF730_67_69: Some of them LAG'ed, but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed, DOWL-FC/FCoE-Not-Reduandant, UPL-Eth-Reduandant, UPL-FC/FCoE-Not-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${FCOE_UpLinkPort}    ${FCOE_Disable_uplink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FCOE_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}

OVF730_68: Some of them LAG'ed, but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed, DOWL-FC/FCoE-Not-Reduandant, UPL-Eth-Reduandant, UPL-FC/FCoE-Not-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${FCOE_UpLinkPort}    ${FCOE_Disable_uplink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FCOE_Temp}

Restore Port Status12
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}
    Enable Selected Downlink Port    ${ICM_NAME_1}    ${Eth_DownLinkPort}    ${Eth_Enable_downlink}
    Enable Selected Downlink Port    ${ICM_NAME_1}    ${FCOE_DownLinkPort}    ${FCOE_Enable_downlink}

###################################################################################

Setup Port status13
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${FC_UpLinkPort}    ${FC_Disable_uplink}
    Disable Selected Uplink Port    ${ICM_NAME_1}    ${FCOE_UpLinkPort}    ${FCOE_Disable_uplink}

OVF730_70: Fully LAG'ed, DOWL-FC/FCoE-Reduandant-port-down, UPL-Eth-Reduandant, UPL-FC/FCoE-Not-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FCOE_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${FCOE_UpLinkPort}    ${FCOE_Disable_uplink}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FCOE_Temp}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FCOE_Temp}

OVF730_72_74: Some of them LAG'ed, but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed, DOWL-FC/FCoE-Reduandant-port-down, UPL-Eth-Reduandant, UPL-FC/FCoE-Not-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FCOE_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${FCOE_UpLinkPort}    ${FCOE_Disable_uplink}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FCOE_Temp}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FCOE_Temp}

OVF730_73: Some of them LAG'ed + but few of them LAG is in-active + some of them are Just Redundent but not LAG;ed + Some of them are Non-Redundent, DOWL-FC/FCoE-Reduandant-port-down, UPL-Eth-Reduandant, UPL-FC/FCoE-Not-Reduandant
    Run Keyword and Ignore Error    Power off ALL servers
    Power On the server from server profile    ${LAG_Server_temp}
    Power On the server from server profile    ${NO_LAG_Server_temp}
    Power On the server from server profile    ${Multi_LAG_Server_temp}
    Power On the server from server profile    ${Not_redundant_server_Eth_Temp}
    Power On the server from server profile    ${Redundant_Server_FCOE_Temp}
    Power On the server from server profile    ${Redundant_Server_FC_Temp}
    Power On the server from server profile    ${Not_Redundant_Server_FCOE_Temp}
    #Disable Selected Uplink Port    ${ICM_NAME_1}    ${FCOE_UpLinkPort}    ${FCOE_Disable_uplink}
    #Disable Selected Downlink Port    ${ICM_NAME_1}    ${FC_DownLinkPort}    ${FC_Disable_downlink}
    ${data}=    Update LI Firmware and return msg    ${LI_fw_update_Hafnium}    ${LI_NAME}
    ${message} =                  Get From Dictionary     ${data}  message
    Log to console and log file    \nmessage \n
    Log to console and log file    \n${message}
    ${recommendedActions} =                  Get From Dictionary     ${data}  recommendedActions
    Log to console and log file    \nrecommendedActions \n
    Log to console and log file    \n${recommendedActions}
    ${recommendedActions[0]} =    replace string using regexp    ${recommendedActions[0]}    \n     ${EMPTY}
    ${REDUNDANTFAILUREMESSAGE} =    replace string using regexp    ${REDUNDANTFAILUREMESSAGE}    \n    ${EMPTY}
    Log to console and log file    \n${recommendedActions[0]}
    Log to console and log file    \n${REDUNDANTFAILUREMESSAGE}
    Should Contain       ${recommendedActions[0]}     ${REDUNDANTFAILUREMESSAGE}
    ${sl}=    Get Server List in message    ${recommendedActions[0]}
    Log to console and log file    ${sl}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FC_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_Redundant_Server_FCOE_Temp}
    Message Should Contain Server Name    ${sl}    ${Not_redundant_server_Eth_Temp}
    Message Should Contain Server Name    ${sl}    ${Redundant_Server_FCOE_Temp}

Restore Port Status13
    Enable Selected Uplink Port    ${ICM_NAME_1}    ${Eth_UpLinkPort}    ${Eth_Enable_UpLinkPort}
    Enable Selected Downlink Port    ${ICM_NAME_1}    ${Eth_DownLinkPort}    ${Eth_Enable_downlink}
    Enable Selected Downlink Port    ${ICM_NAME_1}    ${FCOE_DownLinkPort}    ${FCOE_Enable_downlink}
