*** Settings ***
Documentation      Continuous Integration Tests for RoboGalaxy dev Branch
Resource           lig-config.txt
Force Tags         Buildup
Suite Setup         Load Test Data and Open Browser
Suite Teardown      Logout And Close All Browsers


*** Variables ***
${expected_build_version}    3.10.00-0210744

${Encname} =        SGH420HHY8




*** Test Cases ***

Login to appliance
        Set Log Level    TRACE
        Log Variables

        ${user}=    Get Data By Property    ${TestData.users}   name    Administrator
        Fusion UI Login to Appliance   ${user[0].name}

    #########  Add Firmware Bundle to Oneview ############


TC01 Upload firmware bundles via oneview Firmware Tab
    #[Documentation]    "TP section 1.3.1 Hill FW update LI:\n Add the desired SPP in the firmware bundles tab"
    Log to Console    "Testcase_ID: TP section 1.3.1_UI_Test_case_1 --> Add the desired SPP in the firmware bundles tab"
    Log To Console    Uploading  the Firmware bundles to the Oneview 3.0
    ${Status}=  Fusion UI Add Firmware Bundle   @{TestData.firmwarebundles}
    Run Keyword And Continue On Failure   Should Be Equal   '${Status}'   'True'   ${Status}
    Log To Console    Uploading  the Firmware bundles to Oneview complete**********



TC01 Upload firmware bundles via oneview Firmware Tab_second
    #[Documentation]    "TP section 1.3.1 Hill FW update LI:\n Add the desired SPP in the firmware bundles tab"
    Log to Console    "Testcase_ID: TP section 1.3.1_UI_Test_case_1 --> Add the desired SPP in the firmware bundles tab"
    Log To Console    Uploading  the Firmware bundles to the Oneview 3.0
    ${Status}=  Fusion UI Add Firmware Bundle   @{TestData.firmwarebundles_2}
    Run Keyword And Continue On Failure   Should Be Equal   '${Status}'   'True'   ${Status}
    Log To Console    Uploading  the Firmware bundles to Oneview complete**********





TC02_FC_NW_1
    Fusion UI Create FC Network         @{TestData.fcnetworks_uplink}[0]


TC03_FC_NW_2
    Fusion UI Create FC Network         @{TestData.fcnetworks_uplink}[1]

TC04_ETH_NW1
        Fusion UI Create Ethernet Network    @{TestData.networks_ethernet}[0]
        
TC05_ETH_NW1
        Fusion UI Create Ethernet Network    @{TestData.networks_ethernet}[1]


        
TC04_Create Logical Interconnect Group

    Log to Console    "2.Create Logical Interconnect Group"
    Fusion UI Create Logical Interconnect Group         @{TestData.ligs}



#TC05_LIG
#    fusion_ui_edit_logical_interconnect_group     @{TestData.LigEditB}


TC06_EG
    Log to Console  Create Enclosure Group

    Fusion UI Create Enclosure Group    @{TestData.encgroups}



TC07
    Log to Console  "4.Add Enclosure"
    Fusion UI Add Enclosure    @{TestData.enclosures}

#   Fusion UI Add Enclosure    @{TestData.FWenclosures}


#TC08
    ###################### VERIFY THE ENC ACTIVITIES #############################
#   Sleep   15 minutes 1 seconds
#   Log To Console    Validation of ENC activities
#    ${Status}=     fusion_ui_validate_enc_messages      @{TestData.LE_Testupdate_le_firmware}[2]
#   Run Keyword and Continue on Failure   Should Be Equal       '${Status}'     'True'    During LE creation FW Update Test FAILED
#TC_Licences

#     ${Status}=       Fusion UI Add License     @{TestData.licenses.license}



TC05_Create Server Profile
        [Documentation]     "Create Server Profile"
        Log to Console    "Testcase_ID: TP section 3.1_LIG_LI_1.4 --> Create Server Profile"
        #fusion_ui_get_appliance_version  ${expected_build_version}
        Log to Console  Create Server Profile
        Fusion UI create Server Profile    @{TestData.profiles}