*** Settings ***
Library    RoboGalaxyLibrary
Library    FusionLibrary
Library    SSHLibrary
Library    OperatingSystem
Library    XML
Library    String

Variables   fvt_f1122_ui_test_variables_expmsg.py


*** Variables ***
${APPLIANCE_IP}    192.168.144.184
${ApplianceUrl}    https://${APPLIANCE_IP}
${DataFile}    fvt_f1122_ui_test_data_variables.xml

${Browser}    FireFox
${SeleniumSpeed}    0.1
${TestData}    ${None}


*** Keywords ***
Close Guided Setup Popup
    ${tutorial}=  Is Element Visible    id=hp-tutorial-step
    Run Keyword If    ${tutorial}==True    Click Element    id=hp-tutorial-close
    Element Should Not Be Visible    id=hp-tutorial-step

Load Test Data and Open Browser
    Set Log Level    TRACE
    Load Test Data    ${DataFile}
    Log Variables
    Open Browser    ${ApplianceUrl}    ${Browser}
    Maximize Browser Window
    # Run Keyword if "{Browser}" == "IE" Go To javascript:Document.getElementById('overridelink').click()
    Set Selenium Speed    ${SeleniumSpeed}

Logout and Close All Browsers
    Fusion UI Logout of Appliance
    Close All Browsers

Open Browser And Login As Administrator
    Logout and Close All Browsers
    Load Test Data and Open Browser
    Log into Fusion appliance as Administrator

Log into Fusion appliance as Administrator
    ${user}=    Get Data By Property    ${TestData.users}   name    Administrator
    Fusion UI Login to Appliance    ${user[0].name}
    Close Guided Setup Popup

Log into Fusion Appliance As BackupAdmin
    Maximize Browser Window
    ${user}=    Get Data By Property    ${TestData.users}   name    BackupAdminT
    Fusion UI Login to Appliance    ${user[0].name}
    Close Guided Setup Popup

Log into Fusion Appliance As ReadOnly
    Maximize Browser Window
    ${user} =    Get Data By Property    ${TestData.users}   name    ReadOnly
    Fusion UI Login to Appliance    ${user[0].name}
    Close Guided Setup Popup

Log into Fusion Appliance As StorageAdmin
    Maximize Browser Window
    ${user}=    Get Data By Property    ${TestData.users}   name    StorageAdmin
    Fusion UI Login to Appliance    ${user[0].name}
    Close Guided Setup Popup

Log into Fusion Appliance As NetworkAdmin
    Maximize Browser Window
    ${user}=    Get Data By Property    ${TestData.users}   name    NetworkAdminT
    Fusion UI Login to Appliance    ${user[0].name}
    Close Guided Setup Popup

Log into Fusion Appliance As ServerAdmin
    Maximize Browser Window
    ${user}=    Get Data By Property    ${TestData.users}   name    ServerAdminT
    Fusion UI Login to Appliance    ${user[0].name}
    Close Guided Setup Popup

Log into Fusion Appliance As SoftwareAdmin
    Maximize Browser Window
    ${user} =    Get Data By Property    ${TestData.users}   name    SoftwareAdmin
    Fusion UI Login to Appliance    ${user[0].name}
    Close Guided Setup Popup

Log into Fusion Appliance As specified user
    [Arguments]    ${specifieduser}
    Maximize Browser Window
    ${user} =    Get Data By Property    ${TestData.users}   name    ${specifieduser}
    Fusion UI Login to Appliance    ${user[0].name}
    Close Guided Setup Popup

