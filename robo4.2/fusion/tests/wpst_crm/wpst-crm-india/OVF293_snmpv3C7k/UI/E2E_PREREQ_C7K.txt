*** Settings ***
Documentation   END TO END SCRIPTS
Resource    SNMPV3-CONFIG.txt

Force Tags    Buildup
Suite Setup    Load Test Data and Open Browser
Suite Teardown    Logout And Close All Browsers
Library    Dialogs
Library    String


*** Variables ** *
${SSH_PASS}                     hpvse1
${DataFile}         ./test_flow.xml


*** Test Cases ***
OVF293_UI_TC_00 Log into fusion as Administrator and create networks,LIG ,EG ,Enclosure and a Server profile
    [Documentation]    Log into Appliance as Administrator
    Log To Console    *********Log into Appliance as Administrator****************
    ${user} =    Get Data By Property    ${TestData.users}    name    Administrator
    fusion_ui_login_to_appliance    ${user[0].name}
    Log to Console    Successfully logged in as Administrator

OVF293_UI_TC_PRE1 create networks,LIG ,EG ,Enclosure
    Log to Console    **********CREATE ETHERNET AND FC NETWORKS**********
    Fusion UI Create Ethernet Network    @{TestData.networks_add}
    fusion_ui_create_fc_network    @{TestData.networks_add1}

    Log To Console    ******CREATE LIG**********
    ${Status}=    fusion_ui_create_logical_interconnect_group    @{TestData.ligs_add}
    Run Keyword And Continue On Failure   Should Be Equal    '${Status}'    'True'    ${Status}


    Log To Console    ******CREATE EG**********
    ${Status}=    fusion_ui_create_enclosure_group    @{TestData.encgroups_add}


    Log To Console    ******ADD ENCLOSURE******
    fusion_ui_add_enclosure    @{TestData.enclosures1}
    Log to Console    !!!Test Step Creation of  Enclosure Completed Successfully!!!

OVF293_UI_TC_PRE2 Create a server profile
    Log to Console    **************Power Off Server hardware*******
    Log to Console    Power Off Server hardware
    fusion_ui_power_off_server_hardware_by_name    SGH411DFYA, bay 6
    sleep    60

    Log To Console    ******CREATING SERVER PROFILE******
    ${Status}=    fusion_ui_create_server_profile    @{TestData.Sp_bay6}
    Run Keyword If    '${Status}' == 'True'    Log to Console    Successfully added profile Sp_bay5    ELSE    fail


    Log to Console    **************Power On Server Profile********
    Log to Console    Power On Server Profiles
    fusion_ui_power_on_server_profile    @{TestData.Sp_bay5}
    sleep    300


OVF293_UI_TC_PRE3 Verify LIG
    Log To Console    ******VERIFY LIG**********
    ${Status}=    fusion_ui_verify_logical_interconnect_group    @{TestData.ligs_verifylig}
    Run Keyword And Continue On Failure   Should Be Equal    '${Status}'    'True'    ${Status}
