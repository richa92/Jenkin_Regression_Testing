*** Settings ***
Documentation    This script will generate a support dump from Fusion
...    = USAGE =
...    | pybot | -v ENCLOSURE:<system> | [-v DUMP_FILE <dump_file>] | gen_fusion_dump.txt |
...    = Variables =
...    | ENCLOSURE | Required; Enclosure to use |
...    | FUSION IP | Required when enclosure is DCS; IP address of the FusionVM to use |
...    | DUMP_FILE | Optional;  Output location where to store dump.  Default:  fusion_dump.sdmp |
...    | LOG_DIR | Optional; Where to place logs. Default CWD. |

Library          RoboGalaxyLibrary
Resource         ../resources/fusion_api.txt  # DVT fusion API extensions
Variables        ../resources/variables.py    ${ENCLOSURE}
Resource         ../resources/defaults.txt
Suite Setup      Login to Fusion Via REST
Suite Teardown   Logout of Fusion Via REST
Force Tags       DCS  HW

*** Variables ***
${DUMP_FILE}=    fusion_dump.sdmp
${Log_Dir}       ${CURDIR}

*** Test Cases ***
Generate Fusion Dump
    ${rc}=    Create And Download Support Dump    ${Log_Dir}\\${DUMP_FILE}
    Log       ${rc}
