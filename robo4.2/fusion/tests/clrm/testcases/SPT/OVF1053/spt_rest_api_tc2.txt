*** Settings ***

Documentation    SPT Regression Test Suite by Administrator and SBAC user
Library                         pabot.PabotLib
Library                         FusionLibrary
Library                         RoboGalaxyLibrary
Variables                       ../../../data_variables_files/SPT_SBAC_data_variable2.py
Library                         ../spt_common.py
Resource                        ../resource.txt
Suite setup                   run keyword and return status    Cleanup SP and SPT    Administrator

*** Variables ***
${OVF1053}        Unchecked
${isDataVariableFile}    False

*** Test Cases ***
ServerProfileTemplate_1
    [Documentation]    create a server profile template from REST api by passing all the mandatory parameters.
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_1}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_1}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_1}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_1}

ServerProfileTemplate_2
    [Documentation]    create a server profile template from RESt api by passing all
    ...     the all the parameters:name, network, id-pools, deployment settings, bios settings, boot control order.
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_2}    opn2=Create SP from SPT    opn2_payload=${ServerProfileTemplate_2_SP}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_2}    opn2=Create SP from SPT    opn2_payload=${ServerProfileTemplate_2_SP}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_2}    opn2=Create SP from SPT    opn2_payload=${ServerProfileTemplate_2_SP}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_2}    ${ServerProfileTemplate_2_SP}

ServerProfileTemplate_3
    [Documentation]    Negative:create a  server profile template from RESt api by missing any of the mandatory parameters:name
    [Tags]    F228    p2    Negative
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_3}    isPositive=False
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_3}    isPositive=False
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_3}    isPositive=False
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_3}

ServerProfileTemplate_4
    [Documentation]    Negative:create a server profile template  from RESt api by missing any of the mandatory parameters:type
    [Tags]    F228    p2    Negative
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_4}    isPositive=False
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_4}    isPositive=False
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_4}    isPositive=False
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_4}
ServerProfileTemplate_5
    [Documentation]    Negative:create a server profile template from RESt api by missing any of the mandatory parameters:serverHardwareTypeUri
    [Tags]    F228    p2    Negative
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_5}    isPositive=False
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_5}    isPositive=False
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_5}    isPositive=False
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_5}

ServerProfileTemplate_7
    [Documentation]    create a server profile template from RESt api for local boot by making manageSanStorage:false
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_7}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_7}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_7}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_7}

ServerProfileTemplate_8
    [Documentation]    create a server profile template from RESt api for local boot by making manageSanStorage:true
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_8}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_8}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_8}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_8}

ServerProfileTemplate_9
    [Documentation]    Update a server prfile template from RESt api by passing a new name
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_9}    opn2=Rename SPT    opn2_payload=${ServerProfileTemplate_9_update}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_9}    opn2=Rename SPT    opn2_payload=${ServerProfileTemplate_9_update}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_9}    opn2=Rename SPT    opn2_payload=${ServerProfileTemplate_9_update}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_9_update}

ServerProfileTemplate_10
    [Documentation]    Update a server profile template from RESt api by passing a new serverHardwareTypeUri
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_10}    opn2=Update SPT    opn2_payload=${ServerProfileTemplate_10_update}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_10}    opn2=Update SPT    opn2_payload=${ServerProfileTemplate_10_update}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_10}    opn2=Update SPT    opn2_payload=${ServerProfileTemplate_10_update}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_10}

ServerProfileTemplate_11
    [Documentation]    Update a server profile template from RESt api by adding/deleting/updating networks in the Connections
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_11}    opn2=Update SPT    opn2_payload=${ServerProfileTemplate_11_update}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_11}    opn2=Update SPT    opn2_payload=${ServerProfileTemplate_11_update}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_11}    opn2=Update SPT    opn2_payload=${ServerProfileTemplate_11_update}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_11}

ServerProfileTemplate_12
    [Documentation]    Update a server profile template from RESt api by adding/deleting/updating networks in the Connections
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_12}    opn2=Update SPT    opn2_payload=${ServerProfileTemplate_12_update}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_12}    opn2=Update SPT    opn2_payload=${ServerProfileTemplate_12_update}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_12}    opn2=Update SPT    opn2_payload=${ServerProfileTemplate_12_update}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_12}

ServerProfileTemplate_13
    [Documentation]    Update a server profile template form RESt api by updating volumes in the VolumeAttachments
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_13}    opn2=Rename SPT volume    opn2_payload=${ServerProfileTemplate_13_update}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_13}    opn2=Rename SPT volume    opn2_payload=${ServerProfileTemplate_13_update}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_13}    opn2=Rename SPT volume    opn2_payload=${ServerProfileTemplate_13_update}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_13}

ServerProfileTemplate_14
    [Documentation]    Update a server profile template from RESt api by deleting volumes in the VolumeAttachments
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_14}    opn2=Update SPT    opn2_payload=${ServerProfileTemplate_14_update}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_14}    opn2=Update SPT    opn2_payload=${ServerProfileTemplate_14_update}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_14}    opn2=Update SPT    opn2_payload=${ServerProfileTemplate_14_update}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_10}

ServerProfileTemplate_15
    [Documentation]    Delete a server profile template from RESt api by Passing its id
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_15}    opn2=Delete SPT by uri    opn2_payload=${ServerProfileTemplate_15}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_15}    opn2=Delete SPT by uri    opn2_payload=${ServerProfileTemplate_15}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_15}    opn2=Delete SPT by uri    opn2_payload=${ServerProfileTemplate_15}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_15}

ServerProfileTemplate_16
    [Documentation]    Delete a server profile template from RESt api by Passing its id
    [Tags]    F228    p2    Negative
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_16}    opn2=Delete SPT by uri    opn2_payload=${ServerProfileTemplate_16}    isPositive2=False
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_16}    opn2=Delete SPT by uri    opn2_payload=${ServerProfileTemplate_16}    isPositive2=False
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_16}    opn2=Delete SPT by uri    opn2_payload=${ServerProfileTemplate_16}    isPositive2=False
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_16}

ServerProfileTemplate_17
    [Documentation]    Do a GET on server profile template
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_17}    opn2=Get SPT    opn2_payload=${ServerProfileTemplate_17}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_17}    opn2=Get SPT    opn2_payload=${ServerProfileTemplate_17}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_17}    opn2=Get SPT    opn2_payload=${ServerProfileTemplate_17}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_17}

ServerProfileTemplate_18
    [Documentation]    Do a GET on a particular server profile template by id
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_18}    opn2=Get SPT by Uri    opn2_payload=${ServerProfileTemplate_18}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_18}    opn2=Get SPT by Uri    opn2_payload=${ServerProfileTemplate_18}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_18}    opn2=Get SPT by Uri    opn2_payload=${ServerProfileTemplate_18}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_18}

ServerProfileTemplate_19
    [Documentation]    Get on a serv er profile template form RESt api by passing its invalid id
    [Tags]    F228    p2    Negative
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_19}    opn2=Get SPT by Uri    opn2_payload=${ServerProfileTemplate_19}    isPositive2=False
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_19}    opn2=Get SPT by Uri    opn2_payload=${ServerProfileTemplate_19}    isPositive2=False
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_19}    opn2=Get SPT by Uri    opn2_payload=${ServerProfileTemplate_19}    isPositive2=False
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_19}

ServerProfileTemplate_26
    [Documentation]    Create a Server profile from Server profile template from Rest Api
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_26}    opn2=Create SP from SPT    opn2_payload=${ServerProfileTemplate_26_SP}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_26}    opn2=Create SP from SPT    opn2_payload=${ServerProfileTemplate_26_SP}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_26}    opn2=Create SP from SPT    opn2_payload=${ServerProfileTemplate_26_SP}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_26}    ${ServerProfileTemplate_26_SP}

ServerProfileTemplate_21
    [Documentation]    Update a server profile template form RESt api by passing a new enclosureGroupUri
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_21}    opn2=Update SPT    opn2_payload=${ServerProfileTemplate_21_update}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_21}    opn2=Update SPT    opn2_payload=${ServerProfileTemplate_21_update}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_21}    opn2=Update SPT    opn2_payload=${ServerProfileTemplate_21_update}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_21}

UI_ServerProfileTemplate_26
    [Documentation]    Edit SPT1 in test 25 to add tunnel, VT, FT networks and 2 shared volumes. Create SP using SPT1
    [Tags]    F228    p0
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_26}    opn2=Update SPT    opn2_payload=${UI_ServerProfileTemplate_26_update}    opn3=Create SP    opn3_payload=${UI_ServerProfileTemplate_26_SP}
        User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_26}    opn2=Update SPT    opn2_payload=${UI_ServerProfileTemplate_26_update}    opn3=Create SP    opn3_payload=${UI_ServerProfileTemplate_26_SP}
        User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_26}    opn2=Update SPT    opn2_payload=${UI_ServerProfileTemplate_26_update}    opn3=Create SP    opn3_payload=${UI_ServerProfileTemplate_26_SP}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_ServerProfileTemplate_26}    ${UI_ServerProfileTemplate_26_SP}

UI_ServerProfileTemplate_46
    [Documentation]    Attempt deletion of SPT that is not referencing any SP: Should be allowed
    [Tags]    F228    p0
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_46}    opn2=Delete SPT    opn2_payload=${UI_ServerProfileTemplate_46}
        User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_46}    opn2=Delete SPT    opn2_payload=${UI_ServerProfileTemplate_46}
        User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_46}    opn2=Delete SPT    opn2_payload=${UI_ServerProfileTemplate_46}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_ServerProfileTemplate_46}

UI_ServerProfileTemplate_11
    [Documentation]    Create SPT using a network administrator user
    [Tags]    F228    p1    Negative
    [Template]    SPT SP by different users
        User1_NetAdmin    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_11}    isPositive=False

UI_ServerProfileTemplate_22
    [Documentation]    Create SPT with shared volumes that are already referenced by an existing server profile.
    [Tags]    F228    p1
    [Template]    SPT SP by different users
        Administrator    opn1=Create SP    opn1_payload=${UI_ServerProfile_22}    opn2=Create SPT    opn2_payload=${UI_ServerProfileTemplate_22}
        User1            opn1=Create SP    opn1_payload=${UI_ServerProfile_22}    opn2=Create SPT    opn2_payload=${UI_ServerProfileTemplate_22}
        User1_SPArch     opn1=Create SP    opn1_payload=${UI_ServerProfile_22}    opn2=Create SPT    opn2_payload=${UI_ServerProfileTemplate_22}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_ServerProfile_22}    ${UI_ServerProfileTemplate_22}

UI_ServerProfileTemplate_47
    [Documentation]    Attempt deletion of SPT that is referencing any SP: Should not be allowed
    [Tags]    F228    p1
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_47}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_47_SP}    opn3=Delete SPT    opn3_payload=${UI_ServerProfileTemplate_47}    isPositive3=False
        User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_47}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_47_SP}    opn3=Delete SPT    opn3_payload=${UI_ServerProfileTemplate_47}    isPositive3=False
        User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_47}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_47_SP}    opn3=Delete SPT    opn3_payload=${UI_ServerProfileTemplate_47}    isPositive3=False
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_ServerProfileTemplate_47}    ${UI_ServerProfileTemplate_47_SP}

ServerProfileTemplate_27
    [Documentation]    Compliance for adding and deleting networks in server profileTemplate- vmotion, and Tunnel.
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_27}    opn2=Create SP    opn2_payload=${ServerProfileTemplate_27_SP}    opn3=Update SPT with volume    opn3_payload=${ServerProfileTemplate_27_update}    opn4=Update SP from SPT    opn4_payload=${ServerProfileTemplate_27_SP}    compliancePreview=${profile_compliance_SP_27}
        User1            opn1=Create SPT    opn1_payload=${ServerProfileTemplate_27}    opn2=Create SP    opn2_payload=${ServerProfileTemplate_27_SP}    opn3=Update SPT with volume    opn3_payload=${ServerProfileTemplate_27_update}    opn4=Update SP from SPT    opn4_payload=${ServerProfileTemplate_27_SP}    compliancePreview=${profile_compliance_SP_27}
        User1_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_27}    opn2=Create SP    opn2_payload=${ServerProfileTemplate_27_SP}    opn3=Update SPT with volume    opn3_payload=${ServerProfileTemplate_27_update}    opn4=Update SP from SPT    opn4_payload=${ServerProfileTemplate_27_SP}    compliancePreview=${profile_compliance_SP_27}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error   remove sp and spt    ${ServerProfileTemplate_27}    ${ServerProfileTemplate_27_SP}

REST_API_SPT_SP_Page_17
    [Documentation]    Compliance for adding and deleting networks in server profileTemplate- Management,  and Tunnel.
    [Tags]    F1023    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_17}    opn2=Create SP    opn2_payload=${REST_API_SPT_SP_Page_17_SP}    opn3=Update SPT with volume    opn3_payload=${REST_API_SPT_SP_Page_17_update}    opn4=Update SP from SPT    opn4_payload=${REST_API_SPT_SP_Page_17_SP}    compliancePreview=${profile_compliance_SP_17}
        User1            opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_17}    opn2=Create SP    opn2_payload=${REST_API_SPT_SP_Page_17_SP}    opn3=Update SPT with volume    opn3_payload=${REST_API_SPT_SP_Page_17_update}    opn4=Update SP from SPT    opn4_payload=${REST_API_SPT_SP_Page_17_SP}    compliancePreview=${profile_compliance_SP_17}
        User1_SPArch     opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_17}    opn2=Create SP    opn2_payload=${REST_API_SPT_SP_Page_17_SP}    opn3=Update SPT with volume    opn3_payload=${REST_API_SPT_SP_Page_17_update}    opn4=Update SP from SPT    opn4_payload=${REST_API_SPT_SP_Page_17_SP}    compliancePreview=${profile_compliance_SP_17}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error   remove sp and spt    ${REST_API_SPT_SP_Page_17_SP}    ${REST_API_SPT_SP_Page_17}

UI_ServerProfileTemplate_25
    [Documentation]    Re-parenting: create a server prfile from SPT by passing all the all the parameters:name, network, id-pools, deployment settings, bios settings, boot control order. Edit SP to change from SPT
    [Tags]    F228    p1
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_25}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_25_SP}    opn3=Update SP    opn3_payload=${UI_ServerProfileTemplate_25_SP_update}   opn4=Update SP from SPT    opn4_payload=${UI_ServerProfileTemplate_25_SP_update}   compliancePreview=${profile_compliance_SP_25}
        User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_25}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_25_SP}    opn3=Update SP    opn3_payload=${UI_ServerProfileTemplate_25_SP_update}   opn4=Update SP from SPT    opn4_payload=${UI_ServerProfileTemplate_25_SP_update}   compliancePreview=${profile_compliance_SP_25}
        User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_25}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_25_SP}    opn3=Update SP    opn3_payload=${UI_ServerProfileTemplate_25_SP_update}   opn4=Update SP from SPT    opn4_payload=${UI_ServerProfileTemplate_25_SP_update}   compliancePreview=${profile_compliance_SP_25}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error   remove sp and spt    ${UI_ServerProfileTemplate_25}    ${UI_ServerProfileTemplate_25_SP}

UI_ServerProfileTemplate_40
    [Documentation]    create SP from SPT and update SPT by removing network, priv vol, update on boot and local storage. Check the compliance and update SP from SPT
    [Tags]    F228    P0
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_40}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_40_SP}    opn3=Update SPT with volume    opn3_payload=${UI_ServerProfileTemplate_40_update}   opn4=Update SP from SPT    opn4_payload=${UI_ServerProfileTemplate_40_SP}   compliancePreview=${profile_compliance_SP_40}
        User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_40}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_40_SP}    opn3=Update SPT with volume    opn3_payload=${UI_ServerProfileTemplate_40_update}   opn4=Update SP from SPT    opn4_payload=${UI_ServerProfileTemplate_40_SP}   compliancePreview=${profile_compliance_SP_40}
        User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_40}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_40_SP}    opn3=Update SPT with volume    opn3_payload=${UI_ServerProfileTemplate_40_update}   opn4=Update SP from SPT    opn4_payload=${UI_ServerProfileTemplate_40_SP}   compliancePreview=${profile_compliance_SP_40}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error   remove sp and spt    ${UI_ServerProfileTemplate_40}    ${UI_ServerProfileTemplate_40_SP}

UI_ServerProfileTemplate_62
    [Documentation]    Create a Server profile template with a firmware bundle added it (other than the
    ...    fusion delfault). Create a server profile from this template while assigning it to a Bay
    [Tags]    F228    p0
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT with firmware    opn1_payload=${UI_ServerProfileTemplate_62}    opn2=Create SP with firmware    opn2_payload=${UI_ServerProfileTemplate_62_SP}    opn3=Update SP with firmware    opn3_payload=${UI_ServerProfileTemplate_62_SP_update}
        User1            opn1=Create SPT with firmware    opn1_payload=${UI_ServerProfileTemplate_62}    opn2=Create SP with firmware    opn2_payload=${UI_ServerProfileTemplate_62_SP}    opn3=Update SP with firmware    opn3_payload=${UI_ServerProfileTemplate_62_SP_update}
        User1_SPArch     opn1=Create SPT with firmware    opn1_payload=${UI_ServerProfileTemplate_62}    opn2=Create SP with firmware    opn2_payload=${UI_ServerProfileTemplate_62_SP}    opn3=Update SP with firmware    opn3_payload=${UI_ServerProfileTemplate_62_SP_update}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    remove sp and spt    ${UI_ServerProfileTemplate_62}    ${UI_ServerProfileTemplate_62_SP}

UI_ServerProfileTemplate_66
    [Documentation]    Compliance for adding volume in server profileTemplate- manually update SP without remediation
    [Tags]    F228    p1
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT with firmware    opn1_payload=${UI_ServerProfileTemplate_66}    opn2=Create SP with firmware    opn2_payload=${UI_ServerProfileTemplate_66_SP}    opn3=Update SPT with firmware    opn3_payload=${UI_ServerProfileTemplate_66_update}    opn4=Update SP with compliance check    opn4_payload=${UI_ServerProfileTemplate_66_SP_update}   compliancePreview=${profile_compliance_SP_66}
        User1            opn1=Create SPT with firmware    opn1_payload=${UI_ServerProfileTemplate_66}    opn2=Create SP with firmware    opn2_payload=${UI_ServerProfileTemplate_66_SP}    opn3=Update SPT with firmware    opn3_payload=${UI_ServerProfileTemplate_66_update}    opn4=Update SP with compliance check    opn4_payload=${UI_ServerProfileTemplate_66_SP_update}   compliancePreview=${profile_compliance_SP_66}
        User1_SPArch     opn1=Create SPT with firmware    opn1_payload=${UI_ServerProfileTemplate_66}    opn2=Create SP with firmware    opn2_payload=${UI_ServerProfileTemplate_66_SP}    opn3=Update SPT with firmware    opn3_payload=${UI_ServerProfileTemplate_66_update}    opn4=Update SP with compliance check    opn4_payload=${UI_ServerProfileTemplate_66_SP_update}   compliancePreview=${profile_compliance_SP_66}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error   remove sp and spt    ${UI_ServerProfileTemplate_66}    ${UI_ServerProfileTemplate_66_SP}

UI_ServerProfileTemplate_56
    [Documentation]    Create SPT as a union on test 16 and 17. Create SP using this SPT and over-ride the SPT settings while doing the same.
    ...    Change firmware version before creating SP.
    [Tags]    F228    p1
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_56}    opn2=Create SP override firmware    opn2_payload=${UI_ServerProfileTemplate_56_SP}
        User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_56}    opn2=Create SP override firmware    opn2_payload=${UI_ServerProfileTemplate_56_SP}
        User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_56}    opn2=Create SP override firmware    opn2_payload=${UI_ServerProfileTemplate_56_SP}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error   remove sp and spt    ${UI_ServerProfileTemplate_56}    ${UI_ServerProfileTemplate_56_SP}

UI_ServerProfileTemplate_70
    [Documentation]    Create a server profile, server profile template using REST api. Associate SP with SPT and check for complaince alerts
    [Tags]    F228    p2
    [Template]    SPT SP by different users
       Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_70_1}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_70_1_SP}    opn3=Update SP    opn3_payload=${UI_ServerProfileTemplate_70_1_SP_update}    opn4=Profile compliance check    opn4_payload=${UI_ServerProfileTemplate_70_1_SP_compliance}
       Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_70_2}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_70_2_SP}    opn3=Update SP    opn3_payload=${UI_ServerProfileTemplate_70_2_SP_update}    opn4=Profile compliance check    opn4_payload=${UI_ServerProfileTemplate_70_2_SP_compliance}
       User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_70_1}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_70_1_SP}    opn3=Update SP    opn3_payload=${UI_ServerProfileTemplate_70_1_SP_update}    opn4=Profile compliance check    opn4_payload=${UI_ServerProfileTemplate_70_1_SP_compliance}
       User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_70_2}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_70_2_SP}    opn3=Update SP    opn3_payload=${UI_ServerProfileTemplate_70_2_SP_update}    opn4=Profile compliance check    opn4_payload=${UI_ServerProfileTemplate_70_2_SP_compliance}
       User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_70_1}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_70_1_SP}    opn3=Update SP    opn3_payload=${UI_ServerProfileTemplate_70_1_SP_update}    opn4=Profile compliance check    opn4_payload=${UI_ServerProfileTemplate_70_1_SP_compliance}
       User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_70_2}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_70_2_SP}    opn3=Update SP    opn3_payload=${UI_ServerProfileTemplate_70_2_SP_update}    opn4=Profile compliance check    opn4_payload=${UI_ServerProfileTemplate_70_2_SP_compliance}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error   remove sp and spt    ${UI_ServerProfileTemplate_70_1}    ${UI_ServerProfileTemplate_70_1_SP}    ${UI_ServerProfileTemplate_70_2}    ${UI_ServerProfileTemplate_70_2_SP}

UI_ServerProfileTemplate_45
    [Documentation]    Create two SPs from SPT using REST api, Edit SPT and one SP(SP1) similarly. Check that compliance alert is thrown on second SP (SP2) and not on SP1.
    [Tags]    F228    p2
    [Template]    SPT SP by different users
       Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_45}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_45_SP}    opn3=Update SPT    opn3_payload=${UI_ServerProfileTemplate_45_SPT_update}    opn4=Update SP    opn4_payload=${UI_ServerProfileTemplate_45_SP_update}
       ...              opn5=Profile compliance check    opn5_payload=${UI_ServerProfileTemplate_45_SP1_compliance}    opn6=Profile compliance check    opn6_payload=${UI_ServerProfileTemplate_45_SP2_compliance}
       User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_45}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_45_SP}    opn3=Update SPT    opn3_payload=${UI_ServerProfileTemplate_45_SPT_update}    opn4=Update SP    opn4_payload=${UI_ServerProfileTemplate_45_SP_update}
       ...              opn5=Profile compliance check    opn5_payload=${UI_ServerProfileTemplate_45_SP1_compliance}    opn6=Profile compliance check    opn6_payload=${UI_ServerProfileTemplate_45_SP2_compliance}
       User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_45}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_45_SP}    opn3=Update SPT    opn3_payload=${UI_ServerProfileTemplate_45_SPT_update}    opn4=Update SP    opn4_payload=${UI_ServerProfileTemplate_45_SP_update}
       ...              opn5=Profile compliance check    opn5_payload=${UI_ServerProfileTemplate_45_SP1_compliance}    opn6=Profile compliance check    opn6_payload=${UI_ServerProfileTemplate_45_SP2_compliance}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error   remove sp and spt    ${UI_ServerProfileTemplate_45}    ${UI_ServerProfileTemplate_45_SP}

UI_ServerProfileTemplate_57
    [Documentation]    Create a server profile from server profile template using REST api, Edit SPT and check for compliance alert, Remediate SP from SPT
    [Tags]    F228    p2
    [Template]    SPT SP by different users
       Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_57}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_57_SP}    opn3=Profile compliance check    opn3_payload=${UI_ServerProfileTemplate_57_SP_compliance}
       User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_57}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_57_SP}    opn3=Profile compliance check    opn3_payload=${UI_ServerProfileTemplate_57_SP_compliance}
       User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_57}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_57_SP}    opn3=Profile compliance check    opn3_payload=${UI_ServerProfileTemplate_57_SP_compliance}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error   remove sp and spt    ${UI_ServerProfileTemplate_57}    ${UI_ServerProfileTemplate_57_SP}

UI_ServerProfileTemplate_69
    [Documentation]    Create a server profile from server profile template using REST api, Edit SPT and check for compliance alert, Remediate SP from SPT
    [Tags]    F228    p2
    [Template]    SPT SP by different users
       Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_69}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_69_SP}    opn3=Update SPT    opn3_payload=${UI_ServerProfileTemplate_69_SPT_update}    opn4=Profile compliance check    opn4_payload=${UI_ServerProfileTemplate_69_SP1_compliance}
       ...              opn5=Profile compliance check    opn5_payload=${UI_ServerProfileTemplate_69_SP2_compliance}
       User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_69}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_69_SP}    opn3=Update SPT    opn3_payload=${UI_ServerProfileTemplate_69_SPT_update}    opn4=Profile compliance check    opn4_payload=${UI_ServerProfileTemplate_69_SP1_compliance}
       ...              opn5=Profile compliance check    opn5_payload=${UI_ServerProfileTemplate_69_SP2_compliance}
       User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_69}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_69_SP}    opn3=Update SPT    opn3_payload=${UI_ServerProfileTemplate_69_SPT_update}    opn4=Profile compliance check    opn4_payload=${UI_ServerProfileTemplate_69_SP1_compliance}
       ...              opn5=Profile compliance check    opn5_payload=${UI_ServerProfileTemplate_69_SP2_compliance}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error   remove sp and spt    ${UI_ServerProfileTemplate_69}    ${UI_ServerProfileTemplate_69_SP}

UI_ServerProfileTemplate_34
    [Documentation]    Create a server profile from server profile template using REST api, Edit SPT and check for compliance alert, Remediate SP from SPT
    [Tags]    F228    p2
    [Template]    SPT SP by different users
       Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_34_1}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_34_1_SP}    opn3=Update SPT with volume    opn3_payload=${UI_ServerProfileTemplate_34_1_SPT_update}    opn4=Update SP from SPT    opn4_payload=${UI_ServerProfileTemplate_34_1_SP_update}    compliancePreview=${UI_ServerProfileTemplate_34_SP_compliance}
       User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_34_1}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_34_1_SP}    opn3=Update SPT with volume    opn3_payload=${UI_ServerProfileTemplate_34_1_SPT_update}    opn4=Update SP from SPT    opn4_payload=${UI_ServerProfileTemplate_34_1_SP_update}    compliancePreview=${UI_ServerProfileTemplate_34_SP_compliance}
       User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_34_1}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_34_1_SP}    opn3=Update SPT with volume    opn3_payload=${UI_ServerProfileTemplate_34_1_SPT_update}    opn4=Update SP from SPT    opn4_payload=${UI_ServerProfileTemplate_34_1_SP_update}    compliancePreview=${UI_ServerProfileTemplate_34_SP_compliance}
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error   remove sp and spt    ${UI_ServerProfileTemplate_34_1}    ${UI_ServerProfileTemplate_34_1_SP}

UI_ServerProfileTemplate_43
    [Documentation]    create SP from SPT and Delete the connection from the LIG and network page both. check the behavior on both SP and SPT pages. The network should be removed and the status shold be error/warning
    [Tags]    F228    P1
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT with firmware    opn1_payload=${UI_ServerProfileTemplate_43}    opn2=Create SP with firmware    opn2_payload=${UI_ServerProfileTemplate_43_SP}    opn3=Remove network and update in lig    opn3_payload=${update_lig}    opn4=Profile compliance check    opn4_payload=${profile_compliance_SP_43}    isPositive4=False
    [teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_ServerProfileTemplate_43}    ${UI_ServerProfileTemplate_43_SP}    AND
    ...    run keyword and Ignore Error    revert network removal from lig and li    ${revert_update_lig}
