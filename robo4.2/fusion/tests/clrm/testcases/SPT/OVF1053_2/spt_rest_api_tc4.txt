*** Settings ***

Documentation    SPT Regression Test Suite by Administrator and SBAC user
Library                         pabot.PabotLib
Library                         FusionLibrary
Library                         RoboGalaxyLibrary
Variables                       ../../../data_variables_files/SPT_SBAC_data_variable2.py
Library                         ../spt_common.py
Resource                        ../resource.txt
Suite setup                   run keyword and return status    Cleanup SP and SPT    Administrator

*** Variables ***
${OVF1053}        CheckedMinimumUnchecked
${isDataVariableFile}    False

*** Test Cases ***
OVTC31111
    [Documentation]    create SPT with mandatory resource by single scope assigned user.
    [Tags]    OVF147    p0
    [Template]    SPT SP by different users
        User1            opn1=Create SPT    opn1_payload=${SPT_SBAC_1}
        User1_SPArch     opn1=Create SPT    opn1_payload=${SPT_SBAC_1}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_1}

OVTC31114
    [Documentation]    Create SPT with single scope with required resource by multi scope assigned user or group.
    [Tags]    OVF147    p0
    [Template]    SPT SP by different users
        User5_SPArch            opn1=Create SPT    opn1_payload=${SPT_SBAC_4_1}
        User5_SPArch            opn1=Create SPT    opn1_payload=${SPT_SBAC_4_2}    isPositive=False
        User6_InfraAdm          opn1=Create SPT    opn1_payload=${SPT_SBAC_4_1}
        User6_InfraAdm          opn1=Create SPT    opn1_payload=${SPT_SBAC_4_2}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_4_1}    ${SPT_SBAC_4_2}

OVTC31141
    [Documentation]    Edit User scope after Creating scoped SPT using multi scope assigned user or group and check SPT accessibility after that.
    [Tags]    OVF147    p0
    [Template]    SPT SP by different users
        User5_SPArch          opn1=Create SPT    opn1_payload=${SPT_SBAC_32}                isComplete=False
        Administrator         opn1=Edit Users    opn1_payload=${SPT_SBAC_32_UserUpdate1}    isComplete=False
        User5_SPArch          opn1=Get SPT       opn1_payload=${SPT_SBAC_32}                isComplete=False
        Administrator         opn1=Edit Users    opn1_payload=${SPT_SBAC_32_UserUpdate2}    isComplete=False
        User5_SPArch          opn1=Get SPT       opn1_payload=${SPT_SBAC_32}                isComplete=False
        Administrator         opn1=Edit Users    opn1_payload=${SPT_SBAC_32_UserResetToOldScopes}
        User6_InfraAdm          opn1=Create SPT    opn1_payload=${SPT_SBAC_32}                isComplete=False
        Administrator         opn1=Edit Users    opn1_payload=${SPT_SBAC_32_UserUpdate1}    isComplete=False
        User6_InfraAdm          opn1=Get SPT       opn1_payload=${SPT_SBAC_32}                isComplete=False
        Administrator         opn1=Edit Users    opn1_payload=${SPT_SBAC_32_UserUpdate2}    isComplete=False
        User6_InfraAdm          opn1=Get SPT       opn1_payload=${SPT_SBAC_32}                isComplete=False
        Administrator         opn1=Edit Users    opn1_payload=${SPT_SBAC_32_UserResetToOldScopes}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_32}    AND
    ...    run keyword and Ignore Error    Edit Users    ${SPT_SBAC_32_UserResetToOldScopes}

OVTC31144
    [Documentation]    Delete SPT with mandatory resource by single scope assigned user.
    [Tags]    OVF147    p0
    [Template]    SPT SP by different users
        User1                 opn1=Create SPT    opn1_payload=${SPT_SBAC_35}    opn2=Delete SPT    opn2_payload=${SPT_SBAC_35}
        User1_SPArch          opn1=Create SPT    opn1_payload=${SPT_SBAC_35}    opn2=Delete SPT    opn2_payload=${SPT_SBAC_35}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_35}

OVTC31151
    [Documentation]    Create SPT with mandatory resource by multi scope assigned user. While creating SPT, check whether SBAC restricts user to remove target resources or SPT , since it is been used
    [Tags]    OVF147    p0
    [Template]    SPT SP by different users
        User5_SPArch          opn1=Create SPT       opn1_payload=${SPT_SBAC_42}                             isComplete=False
        Administrator         opn1=Update Scopes    opn1_payload=${SPT_SBACC_42_EditScope_1}                opn2=Edit Users    opn2_payload=${SPT_SBAC_42_UserUpdate1}    isComplete=False
        User5_SPArch          opn1=Get SPT          opn1_payload=${SPT_SBAC_42}                             isComplete=False
        Administrator         opn1=Update Scopes    opn1_payload=${SPT_SBAC_42_ScopeResetToOldResources}    opn2=Edit Users    opn2_payload=${SPT_SBAC_42_UserResetToOldScopes}
        User6_InfraAdm        opn1=Create SPT       opn1_payload=${SPT_SBAC_42}                             isComplete=False
        Administrator         opn1=Update Scopes    opn1_payload=${SPT_SBACC_42_EditScope_1}                opn2=Edit Users    opn2_payload=${SPT_SBAC_42_UserUpdate1}    isComplete=False
        User6_InfraAdm        opn1=Get SPT          opn1_payload=${SPT_SBAC_42}                             isComplete=False
        Administrator         opn1=Update Scopes    opn1_payload=${SPT_SBAC_42_ScopeResetToOldResources}    opn2=Edit Users    opn2_payload=${SPT_SBAC_42_UserResetToOldScopes}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_42}

OVTC31121
   [Documentation]    Create SP using SPT by multi scope assigned user
   [Tags]    OVF147    p1
   [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_SBAC_11}     opn2=Create SP    opn2_payload=${ServerProfileTemplate_SBAC_11_SP}
        User5_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_SBAC_11}     opn2=Create SP    opn2_payload=${ServerProfileTemplate_SBAC_11_SP}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_SBAC_11}    ${ServerProfileTemplate_SBAC_11_SP}

OVTC31126
    [Documentation]    Create SP using SPT using composite scope assigned user.
    [Tags]    OVF147    p1
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${ServerProfileTemplate_SBAC_16}   opn2=Create SP    opn2_payload=${ServerProfileTemplate_SBAC_16_SP}
        User7_SPArch     opn1=Create SPT    opn1_payload=${ServerProfileTemplate_SBAC_16}   opn2=Create SP    opn2_payload=${ServerProfileTemplate_SBAC_16_SP}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_SBAC_16}    ${ServerProfileTemplate_SBAC_16_SP}

OVTC49361
    [Documentation]    Create SPT with mandatory resource by multi scope assigned user. While creating SPT, check whether SBAC restricts user to remove target resources or SPT , since it is been used
    [Tags]    OVF147    p0
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT     opn1_payload=${SPT_SBAC_OVD15519}    isComplete=False
        Administrator    opn1=Update Scopes  opn1_payload=${SPT_SBACC_OVD15519_EditScope_1}    isComplete=False
        User7_SPAdm      opn1=Create SP      opn1_payload=${SPT_SBAC_OVD15519_SP1}    isComplete=False
        User7_ServAdm    opn1=Create SP      opn1_payload=${SPT_SBAC_OVD15519_SP2}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_OVD15519}    ${SPT_SBAC_OVD15519_SP1}    ${SPT_SBAC_OVD15519_SP2}

OVTC31123
    [Documentation]    Create SP using SPT by unauthorized user
    [Tags]    OVF145    p0
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${SPT_SBAC_13}    isComplete=False
        User9_StorAdm    opn1=Create SP     opn1_payload=${SPT_SBAC_13_SP}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_13}    ${SPT_SBAC_13_SP}

OVTC31125
    [Documentation]    Create SP using SPT and add scopes that user is not authorized
    [Tags]    OVF145    p0    Negative
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${SPT_SBAC_15}    isComplete=False
        User7_ServAdm    opn1=Create SP     opn1_payload=${SPT_SBAC_15_SP}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_15}    ${SPT_SBAC_15_SP}

OVTC31124
    [Documentation]    Create SP using SPT and add scope
    [Tags]    OVF145    p0
    [Template]    SPT SP by different users
         User8_SPArch    opn1=Create SPT    opn1_payload=${SPT_SBAC_14}    opn2=Create SP    opn2_payload=${SPT_SBAC_14_SP}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_14}    ${SPT_SBAC_14_SP}

OVTC49365
    [Documentation]    SP is allowed to remove SPT association even if SPT is no longer in scope of user to "Use"
    [Tags]    OVF145    p0    Negative
    [Template]    SPT SP by different users
         Administrator    opn1=Create SPT    opn1_payload=${SPT_SBAC_OVD13618}    opn2=Update Scopes    opn2_payload=${SPT_SBAC_OVD13618_EditScope_1}    isComplete=False
         User10_SPAdm    opn1=Create SP   opn1_payload=${SPT_SBAC_OVD13618_SP}    isComplete=False
         Administrator    opn1=Update Scopes    opn1_payload=${SPT_SBAC_OVD13618_EditScope_2}    isComplete=False
         User10_SPAdm    opn2=Update SP    opn2_payload=${SPT_SBAC_OVD13618_SP_update}    isPositive2=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_OVD13618}    ${SPT_SBAC_OVD13618_SP_update}

OVTC31120
    [Documentation]    Create SPT with storage resources
    [Tags]    OVF145    p2
    [Template]    SPT SP by different users
         User11_SPArch    opn1=Create SPT    opn1_payload=${SPT_SBAC_10}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_10}

OVTC31119
    [Documentation]    Create SPT with storage resources and the storage resources are restricted based on scope assigned to user.
    [Tags]    OVF145    p0    Negative
    [Template]    SPT SP by different users
         User12_SPArch     opn1=Create SPT    opn1_payload=${SPT_SBAC_09}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_09}

OVTC31127
    [Documentation]    Create SP from SPT using single scope assigned user where scope is not assigned with server-hardware.
    [Tags]    OVF145    p0    Negative
    [Template]    SPT SP by different users
         User12_SPArch    opn1=Create SPT    opn1_payload=${SPT_SBAC_17}    opn2=Create SP    opn2_payload=${SPT_SBAC_17_SP}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_17}    ${SPT_SBAC_17_SP}

OVTC31134
    [Documentation]    Update SPT with newly added  network in scope "production" check whether newly added  networks can be accesed in SPT.
    [Tags]    OVF145    p0
    [Template]    SPT SP by different users
        User13_SPArch    opn1=Create SPT       opn1_payload=${SPT_SBAC_25}                isComplete=False
        Administrator    opn1=Update Scopes    opn1_payload=${SPT_SBAC_25_update_scope}   isComplete=False
        User13_SPArch    opn1=Get SPT          opn1_payload=${SPT_SBAC_25}                isComplete=False
        User13_SPArch    opn1=Update SPT       opn1_payload=${SPT_SBAC_25_update}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_25_update}

OVTC31136
    [Documentation]    Update SPT with newly added  network sets in scope check whether newly added  network sets can be accesed in SPT.
    [Tags]    OVF145    p0
    [Template]    SPT SP by different users
        User13_SPArch    opn1=Create SPT       opn1_payload=${SPT_SBAC_25}                isComplete=False
        Administrator    opn1=Update Scopes    opn1_payload=${SPT_SBAC_27_update_scope}   isComplete=False
        User13_SPArch    opn1=Get SPT          opn1_payload=${SPT_SBAC_25}                isComplete=False
        User13_SPArch    opn1=Update SPT       opn1_payload=${SPT_SBAC_27_update}
        Administrator    opn1=Update Scopes    opn1_payload=${SPT_SBAC_27_reverse_scope}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_25}    ${SPT_SBAC_27_update}

OVTC31145
    [Documentation]    Create SPT with enclosure group by multi scope assigned user.After creating SPT, remove user from scopes used in SPT. Check whether SBAC restricts user to access SPT and its associated target resource
    [Tags]    OVF145    p0    Negative
    [Template]    SPT SP by different users
        User14_SPArch    opn1=Create SPT       opn1_payload=${SPT_SBAC_36}                isComplete=False
        Administrator    opn1=Edit Users       opn1_payload=${SPT_SBAC_36_UserUpdate}     isComplete=False
        User14_SPArch    opn1=Get SPT          opn1_payload=${SPT_SBAC_36}                isComplete=False
        User14_SPArch    opn1=Update SPT       opn1_payload=${SPT_SBAC_36_update}         isPositive=False    isComplete=False
        Administrator    opn1=Edit Users       opn1_payload=${SPT_SBAC_36_UserResetToOldScopes}   isComplete=False
        User14_SPArch    opn1=Update SPT       opn1_payload=${SPT_SBAC_36_update}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and ignore error    Edit Users    ${SPT_SBAC_36_UserResetToOldScopes}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_36}

OVTC32419
    [Documentation]    Create SPT disabling Manage connections for connections secion.Create server profile using this SPT. Add connections and verify that no compliance alert is raised.
    [Tags]    OVF1035    Crit
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${SPT_OVF1035_02}    opn2=Create SP from SPT    opn2_payload=${SPT_OVF1035_02_SP}    opn3=Profile compliance check    opn3_payload=${profile_compliance_SPT_OVF1035_02_SP}
        User1            opn1=Create SPT    opn1_payload=${SPT_OVF1035_02}    opn2=Create SP from SPT    opn2_payload=${SPT_OVF1035_02_SP}    opn3=Profile compliance check    opn3_payload=${profile_compliance_SPT_OVF1035_02_SP}
        User1_SPArch     opn1=Create SPT    opn1_payload=${SPT_OVF1035_02}    opn2=Create SP from SPT    opn2_payload=${SPT_OVF1035_02_SP}    opn3=Profile compliance check    opn3_payload=${profile_compliance_SPT_OVF1035_02_SP}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_OVF1035_02}    ${SPT_OVF1035_02_SP}

OVTC32420
    [Documentation]    Edit SPT to disable Manage connections for already used SPT. Edit SPT to disable Manage connections for as yet unused SPT
    [Tags]    OVF1035    Crit
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${SPT_OVF1035_03_1}    opn2=Update SPT            opn2_payload=${SPT_OVF1035_03_1_update}
        Administrator    opn1=Create SPT    opn1_payload=${SPT_OVF1035_03_2}    opn2=Create SP from SPT    opn2_payload=${SPT_OVF1035_03_2_SP}    opn3=Update SPT    opn3_payload=${SPT_OVF1035_03_2_update}
        User1            opn1=Create SPT    opn1_payload=${SPT_OVF1035_03_1}    opn2=Update SPT            opn2_payload=${SPT_OVF1035_03_1_update}
        User1            opn1=Create SPT    opn1_payload=${SPT_OVF1035_03_2}    opn2=Create SP from SPT    opn2_payload=${SPT_OVF1035_03_2_SP}    opn3=Update SPT    opn3_payload=${SPT_OVF1035_03_2_update}
        User1_SPArch     opn1=Create SPT    opn1_payload=${SPT_OVF1035_03_1}    opn2=Update SPT            opn2_payload=${SPT_OVF1035_03_1_update}
        User1_SPArch     opn1=Create SPT    opn1_payload=${SPT_OVF1035_03_2}    opn2=Create SP from SPT    opn2_payload=${SPT_OVF1035_03_2_SP}    opn3=Update SPT    opn3_payload=${SPT_OVF1035_03_2_update}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_OVF1035_03_1}    ${SPT_OVF1035_03_2}    ${SPT_OVF1035_03_2_SP}

OVTC32421
    [Documentation]    Edit SPT to enable Manage connections for already used SPT. Edit SPT to enable Manage connections for as yet unused SPT.
    [Tags]    OVF1035    Crit
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${SPT_OVF1035_04_1}    opn2=Update SPT            opn2_payload=${SPT_OVF1035_04_1_update}
        Administrator    opn1=Create SPT    opn1_payload=${SPT_OVF1035_04_2}    opn2=Create SP from SPT    opn2_payload=${SPT_OVF1035_04_2_SP}    opn3=Update SPT    opn3_payload=${SPT_OVF1035_04_2_update}
        User1            opn1=Create SPT    opn1_payload=${SPT_OVF1035_04_1}    opn2=Update SPT            opn2_payload=${SPT_OVF1035_04_1_update}
        User1            opn1=Create SPT    opn1_payload=${SPT_OVF1035_04_2}    opn2=Create SP from SPT    opn2_payload=${SPT_OVF1035_04_2_SP}    opn3=Update SPT    opn3_payload=${SPT_OVF1035_04_2_update}
        User1_SPArch     opn1=Create SPT    opn1_payload=${SPT_OVF1035_04_1}    opn2=Update SPT            opn2_payload=${SPT_OVF1035_04_1_update}
        User1_SPArch     opn1=Create SPT    opn1_payload=${SPT_OVF1035_04_2}    opn2=Create SP from SPT    opn2_payload=${SPT_OVF1035_04_2_SP}    opn3=Update SPT    opn3_payload=${SPT_OVF1035_04_2_update}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_OVF1035_04_1}    ${SPT_OVF1035_04_2}    ${SPT_OVF1035_04_2_SP}

OVTC32427
    [Documentation]    Create a server profile template to set manage connections to true. Create SP and pass one ethernet connections different from SPT.
    ...    There should be a compliance alert. Update SPT to set manage connections to false. Compliance alert should be removed.
    [Tags]    OVF1035    Crit
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${SPT_OVF1035_API_1}    opn2=Create SP from SPT    opn2_payload=${SPT_OVF1035_API_1_SP}    opn3=Profile compliance check    opn3_payload=${profile_compliance_SPT_OVF1035_API_1_SP_01}    opn4=Update SPT    opn4_payload=${SPT_OVF1035_API_1_update}    opn5=Profile compliance check    opn5_payload=${profile_compliance_SPT_OVF1035_API_1_SP_02}
        User1            opn1=Create SPT    opn1_payload=${SPT_OVF1035_API_1}    opn2=Create SP from SPT    opn2_payload=${SPT_OVF1035_API_1_SP}    opn3=Profile compliance check    opn3_payload=${profile_compliance_SPT_OVF1035_API_1_SP_01}    opn4=Update SPT    opn4_payload=${SPT_OVF1035_API_1_update}    opn5=Profile compliance check    opn5_payload=${profile_compliance_SPT_OVF1035_API_1_SP_02}
        User1_SPArch     opn1=Create SPT    opn1_payload=${SPT_OVF1035_API_1}    opn2=Create SP from SPT    opn2_payload=${SPT_OVF1035_API_1_SP}    opn3=Profile compliance check    opn3_payload=${profile_compliance_SPT_OVF1035_API_1_SP_01}    opn4=Update SPT    opn4_payload=${SPT_OVF1035_API_1_update}    opn5=Profile compliance check    opn5_payload=${profile_compliance_SPT_OVF1035_API_1_SP_02}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_OVF1035_API_1}    ${SPT_OVF1035_API_1_SP}

OVTC32428
    [Documentation]    Create a server profile template. Create SP. Update SPT to set manage connections to true. Pass one ethernet connections different from SP.
    [Tags]    OVF1035    Crit
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${SPT_OVF1035_API_2}    opn2=Create SP from SPT    opn2_payload=${SPT_OVF1035_API_2_SP}    opn3=Update SPT    opn3_payload=${SPT_OVF1035_API_2_update}    opn4=Profile compliance check    opn4_payload=${profile_compliance_SPT_OVF1035_API_2_SP}
        User1            opn1=Create SPT    opn1_payload=${SPT_OVF1035_API_2}    opn2=Create SP from SPT    opn2_payload=${SPT_OVF1035_API_2_SP}    opn3=Update SPT    opn3_payload=${SPT_OVF1035_API_2_update}    opn4=Profile compliance check    opn4_payload=${profile_compliance_SPT_OVF1035_API_2_SP}
        User1_SPArch     opn1=Create SPT    opn1_payload=${SPT_OVF1035_API_2}    opn2=Create SP from SPT    opn2_payload=${SPT_OVF1035_API_2_SP}    opn3=Update SPT    opn3_payload=${SPT_OVF1035_API_2_update}    opn4=Profile compliance check    opn4_payload=${profile_compliance_SPT_OVF1035_API_2_SP}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_OVF1035_API_2}    ${SPT_OVF1035_API_2_SP}

OVTC32336
    [Documentation]    Re-parenting: create a server prfile form SPT by passing all the parameters. Edit SPT to change the SPT to none. If none is chosen in the field for SPT, it is essentially a standalone profile, so no compliance checks etc should occur
    [Tags]    F1023    p0
    [Template]    SPT SP by different users
         Administrator    opn1=Create SPT    opn1_payload=${UI_SPT_68}    opn2=Create SP    opn2_payload=${UI_SPT_68_SP}    opn3=Update SPT    opn3_payload=${UI_SPT_68}    compliancePreview=${UI_SPT_68_SP_compliance_2}
         User1            opn1=Create SPT    opn1_payload=${UI_SPT_68}    opn2=Create SP    opn2_payload=${UI_SPT_68_SP}    opn3=Update SPT    opn3_payload=${UI_SPT_68}    compliancePreview=${UI_SPT_68_SP_compliance_2}
         User1_SPArch     opn1=Create SPT    opn1_payload=${UI_SPT_68}    opn2=Create SP    opn2_payload=${UI_SPT_68_SP}    opn3=Update SPT    opn3_payload=${UI_SPT_68}    compliancePreview=${UI_SPT_68_SP_compliance_2}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_SPT_68}    ${UI_SPT_68_SP}

OVTC32410
    [Documentation]    Negative Create a server profile template form REST api by passing same name of already existing SPT
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_15_1}    opn2=Create SPT        opn2_payload=${REST_API_SPT_SP_Page_15_2}    isPositive=False
        User1            opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_15_1}    opn2=Create SPT        opn2_payload=${REST_API_SPT_SP_Page_15_2}    isPositive=False
        User1_SPArch     opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_15_1}    opn2=Create SPT        opn2_payload=${REST_API_SPT_SP_Page_15_2}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${REST_API_SPT_SP_Page_15_1}    ${REST_API_SPT_SP_Page_15_2}

OVTC32411
    [Documentation]    Negative Update a server profile template form REST api by passing same name of already existing SPT
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_16}    opn2=Rename SPT    opn2_payload=${REST_API_SPT_SP_Page_16_update}    isPositive=False
        User1            opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_16}    opn2=Rename SPT    opn2_payload=${REST_API_SPT_SP_Page_16_update}    isPositive=False
        User1_SPArch     opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_16}    opn2=Rename SPT    opn2_payload=${REST_API_SPT_SP_Page_16_update}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${REST_API_SPT_SP_Page_16_update}    ${REST_API_SPT_SP_Page_16}

OVTC32426
    [Documentation]    Edit SPT by disabling the Managed connections option. Delete the same.
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${OVF1035_09}    opn2=Update SPT    opn2_payload=${OVF1035_09_update}    opn2=Delete SPT    opn2_payload=${OVF1035_09_update}
        User1            opn1=Create SPT    opn1_payload=${OVF1035_09}    opn2=Update SPT    opn2_payload=${OVF1035_09_update}    opn2=Delete SPT    opn2_payload=${OVF1035_09_update}
        User1_SPArch     opn1=Create SPT    opn1_payload=${OVF1035_09}    opn2=Update SPT    opn2_payload=${OVF1035_09_update}    opn2=Delete SPT    opn2_payload=${OVF1035_09_update}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${OVF1035_09}

OVTC32409
    [Documentation]    Create a server profile template form REST api by passing invalid SHT uri
    [Tags]    OVF1023    p2    Negative
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_14}    isPositive=False
        User1            opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_14}    isPositive=False
        User1_SPArch     opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_14}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${REST_API_SPT_SP_Page_14}

OVTC32393
    [Documentation]    Create SPT from SP and Delete SPT from which one SP is created
    [Tags]    F1023    p1    Negative
    [Template]    SPT SP by different users
        Administrator    opn1=Create SP    opn1_payload=${SP_Page_23}    opn2=Create SPT from SP    opn2_payload=${SPT_SP_Page_23}    opn3=Create SP from SPT    opn3_payload=${SPT_SP_Page_23_SP_1}    opn4=Delete SPT    opn4_payload=${SPT_SP_Page_23}    isPositive4=False
        User1            opn1=Create SP    opn1_payload=${SP_Page_23}    opn2=Create SPT from SP    opn2_payload=${SPT_SP_Page_23}    opn3=Create SP from SPT    opn3_payload=${SPT_SP_Page_23_SP_1}    opn4=Delete SPT    opn4_payload=${SPT_SP_Page_23}    isPositive4=False
        User1_SPArch     opn1=Create SP    opn1_payload=${SP_Page_23}    opn2=Create SPT from SP    opn2_payload=${SPT_SP_Page_23}    opn3=Create SP from SPT    opn3_payload=${SPT_SP_Page_23_SP_1}    opn4=Delete SPT    opn4_payload=${SPT_SP_Page_23}    isPositive4=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SP_Page_23}    ${SPT_SP_Page_23}    ${SPT_SP_Page_23_SP_1}

OVTC32425
    [Documentation]    Edit SPT by enabling the Managed connections option. Delete the same.
    [Tags]    OVF1035    p0
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${OVF1035_08}    opn2=Update SPT    opn2_payload=${OVF1035_08_update}    opn3=Delete SPT    opn3_payload=${OVF1035_08}
        User1            opn1=Create SPT    opn1_payload=${OVF1035_08}    opn2=Update SPT    opn2_payload=${OVF1035_08_update}    opn3=Delete SPT    opn3_payload=${OVF1035_08}
        User1_SPArch     opn1=Create SPT    opn1_payload=${OVF1035_08}    opn2=Update SPT    opn2_payload=${OVF1035_08_update}    opn3=Delete SPT    opn3_payload=${OVF1035_08}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${OVF1035_08}

OVTC32391
    [Documentation]    Edit SPT to update allowed parameters other than network and volumes.
    [Tags]    F1023    p1
    [Template]    SPT SP by different users
        Administrator    opn1=Create SP    opn1_payload=${SP_Page_21}    opn2=Create SPT from SP    opn2_payload=${SPT_SP_Page_21}    opn3=Update SPT with firmware    opn3_payload=${SPT_SP_Page_21_update}
        User1            opn1=Create SP    opn1_payload=${SP_Page_21}    opn2=Create SPT from SP    opn2_payload=${SPT_SP_Page_21}    opn3=Update SPT with firmware    opn3_payload=${SPT_SP_Page_21_update}
        User1_SPArch     opn1=Create SP    opn1_payload=${SP_Page_21}    opn2=Create SPT from SP    opn2_payload=${SPT_SP_Page_21}    opn3=Update SPT with firmware    opn3_payload=${SPT_SP_Page_21_update}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt  ${SP_Page_21}    ${SPT_SP_Page_21}

OVTC32335
    [Documentation]    Re-parenting: create a server prfile form SPT by passing all the all the parameters:name, network, id-pools, deployment settings, bios settings, boot control order. Edit SP to change the SPT to one with the same EG and SHT and all same properties as the previous SPT and check that full automatic compliance/remediation works
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_67}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_67_SP}    opn3=Update SP    opn3_payload=${UI_ServerProfileTemplate_67_SP_update}    opn4=Profile compliance check    opn4_payload=${profile_compliance_SP_67}    opn5=Update SPT    opn5_payload=${UI_ServerProfileTemplate_67_update}    opn6=Profile compliance check    opn6_payload=${profile_compliance_SP_67_updated}
        User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_67}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_67_SP}    opn3=Update SP    opn3_payload=${UI_ServerProfileTemplate_67_SP_update}    opn4=Profile compliance check    opn4_payload=${profile_compliance_SP_67}    opn5=Update SPT    opn5_payload=${UI_ServerProfileTemplate_67_update}    opn6=Profile compliance check    opn6_payload=${profile_compliance_SP_67_updated}
        User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_67}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_67_SP}    opn3=Update SP    opn3_payload=${UI_ServerProfileTemplate_67_SP_update}    opn4=Profile compliance check    opn4_payload=${profile_compliance_SP_67}    opn5=Update SPT    opn5_payload=${UI_ServerProfileTemplate_67_update}    opn6=Profile compliance check    opn6_payload=${profile_compliance_SP_67_updated}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_ServerProfileTemplate_67}    ${UI_ServerProfileTemplate_67_SP}

OVTC32412
    [Documentation]   Negative:create a  server profile template form REST api by missing any of the mandatory parameters:name
    [Tags]   OVF1023   P0    Negative
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_18}    isPositive=False
        User1            opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_18}    isPositive=False
        User1_SPArch     opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_18}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${REST_API_SPT_SP_Page_18}

OVTC32413
    [Documentation]   Negative:create a server profile template form REST api by missing any of the mandatory parameters: Server Profile type
    [Tags]   OVF1023   P0    Negative
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_19}    isPositive=False
        User1            opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_19}    isPositive=False
        User1_SPArch     opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_19}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${REST_API_SPT_SP_Page_19}

OVTC32384
    [Documentation]  Create SP using the boot settings, bios settings, advanced settings, other than what is provided by Fusion by default.
    [Tags]   OVF1023  p0
    [Template]    SPT SP by different users
          Administrator    opn1=Create SP    opn1_payload=${SP_Page_8}    opn2=Create SPT from SP    opn2_payload=${SPT_SP_Page_8}
          User1            opn1=Create SP    opn1_payload=${SP_Page_8}    opn2=Create SPT from SP    opn2_payload=${SPT_SP_Page_8}
          User1_SPArch     opn1=Create SP    opn1_payload=${SP_Page_8}    opn2=Create SPT from SP    opn2_payload=${SPT_SP_Page_8}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SP_Page_8}    ${SPT_SP_Page_8}

OVTC31110
    [Documentation]    Create SPT and add multiple scope to SPT by authorized user
    [Tags]    TF1550    P1
    [Template]    SPT SP by different users
        User5_SPArch          opn1=Create SPT    opn1_payload=${SPT_SBAC_32}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_32}

OVTC31116
    [Documentation]    Create SPT with required resource by multi scope assigned user or group.
    ...                While adding firmware for SPT, check whether sub set of firmware bundle is restricting based on scope assigned to the user or group.
    [Tags]    TF1550    P1
    [Template]    SPT SP by different users
        User7_SPArch          opn1=Create SPT with firmware    opn1_payload=${SPT_SBAC6_1}
        User7_SPArch          opn1=Create SPT with firmware    opn1_payload=${SPT_SBAC6_2}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC6_1}    ${SPT_SBAC6_2}

OVTC31117
    [Documentation]    Login as read only user. Check whether user can add scope to SPT, check SBAC is restricting user to view subset of resources
    [Tags]    TF1550    P1
    [Template]    SPT SP by different users
        Administrator         opn1=Create SPT    opn1_payload=${ServerProfileTemplate_1}    isComplete=False
        User9_StorAdm         opn1=Update SPT    opn1_payload=${SPT_SBAC71}    isPositive=False    isComplete=False
        Administrator         opn1=Delete SPT    opn1_payload=${ServerProfileTemplate_1}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_1}    ${SPT_SBAC71}

OVTC32292
    [Documentation]    Create SPT and delete volume from StRM Volume page.
    [Tags]    F228     P2    Negative
    [Template]    SPT SP by different users
        Administrator      opn1=Create SPT              opn1_payload=${UI_ServerProfileTemplate_56}    isComplete=False
        Administrator      opn1=Delete volume by uri    opn1_payload=${storage_volumes}                isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_ServerProfileTemplate_56}

OVTC32316
    [Documentation]    Create SPT, Update allowed values to be changed for LIG (say name). Check the behaviour on SPT.
    [Tags]    F228    P2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_56}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_56_SP}    opn3=Rename LIG    opn3_payload=${update_lig_name}    opn4=Profile compliance check    opn4_payload=${UI_ServerProfileTemplate_48}    isComplete=False
        Administrator    opn1=Rename LIG    opn1_payload=${revert_lig_name}    opn2=Profile compliance check    opn2_payload=${UI_ServerProfileTemplate_48}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_ServerProfileTemplate_56}    ${UI_ServerProfileTemplate_56_SP}

OVTC32310
    [Documentation]    Remove network from network set. Add more internal networks than can be allowed for connection. Check for error messages.
    [Tags]    F228    P2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_57}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_42_SP}    opn3=Update NetSet    opn3_payload=${network_sets_update_delete}    opn4=Profile compliance check    opn4_payload=${UI_ServerProfileTemplate_42_compliance}    isComplete=False
        Administrator    opn1=Update NetSet    opn1_payload=${network_sets_update_add}    opn2=Profile compliance check    opn2_payload=${UI_ServerProfileTemplate_42_compliance}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_ServerProfileTemplate_57}    ${UI_ServerProfileTemplate_42_SP}

OVTC32319
    [Documentation]    Update SPT to use special characters.
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_50}    opn2=Rename SPT    opn2_payload=${UI_ServerProfileTemplate_50_update}
        User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_50}    opn2=Rename SPT    opn2_payload=${UI_ServerProfileTemplate_50_update}
        User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_50}    opn2=Rename SPT    opn2_payload=${UI_ServerProfileTemplate_50_update}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_ServerProfileTemplate_50}    ${UI_ServerProfileTemplate_50_update}

OVTC32280
    [Documentation]    Negative: Create SPT using storage administrator user
    [Tags]    F228     p2
    [Template]    SPT SP by different users
        User9_StorAdm    opn1=Create SPT   opn1_payload=${UI_ServerProfileTemplate_12}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_ServerProfileTemplate_12}

OVTC31118
    [Documentation]    Negative test case: Create SPT with required resource by user or group, While creating SPT, add a scope which is not assigned to user
    [Tags]    SPT     p2
    [Template]    SPT SP by different users
          User1    opn1=Create SPT    opn1_payload=${SPT_SBAC_8}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_8}

OVTC32390
    [Documentation]    Edit SPT to see that EG and server hardware type can be edited.
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${SPT_SP_Page_20}    opn2=Create SP    opn2_payload=${SPT_SP_Page_20_SP}    opn3=Update SPT    opn3_payload=${SPT_SP_Page_20_update}
        User1            opn1=Create SPT    opn1_payload=${SPT_SP_Page_20}    opn2=Create SP    opn2_payload=${SPT_SP_Page_20_SP}    opn3=Update SPT    opn3_payload=${SPT_SP_Page_20_update}
        User1_SPArch     opn1=Create SPT    opn1_payload=${SPT_SP_Page_20}    opn2=Create SP    opn2_payload=${SPT_SP_Page_20_SP}    opn3=Update SPT    opn3_payload=${SPT_SP_Page_20_update}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SP_Page_20}    ${SPT_SP_Page_20_SP}

OVTC32264
    [Documentation]    Re-parenting create a server profile from SPT by passing all the parameters name, network, id-pools, deployment settings, bios settings, boot control order. Create SP from SPT. Edit SP to change the SPT. If a different SPT is chosen whose EG plus SHT does not match the one in the profile. See that compliance check happens that simply reports SHT plus EG dont match and no other automatic remediation.
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_OVTC32293_25}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_OVTC32293_25_SP}    opn3=Update SP    opn3_payload=${UI_ServerProfileTemplate_OVTC32293_25_SP_update}    opn4=Profile compliance check    opn4_payload=${profile_compliance_SP_25_1}    opn5=Update SP    opn5_payload=${UI_ServerProfileTemplate_OVTC32293_25_SP}    opn6=Profile compliance check    opn6_payload=${profile_compliance_SP_25_2}
        User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_OVTC32293_25}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_OVTC32293_25_SP}    opn3=Update SP    opn3_payload=${UI_ServerProfileTemplate_OVTC32293_25_SP_update}    opn4=Profile compliance check    opn4_payload=${profile_compliance_SP_25_1}    opn5=Update SP    opn5_payload=${UI_ServerProfileTemplate_OVTC32293_25_SP}    opn6=Profile compliance check    opn6_payload=${profile_compliance_SP_25_2}
        User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_OVTC32293_25}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_OVTC32293_25_SP}    opn3=Update SP    opn3_payload=${UI_ServerProfileTemplate_OVTC32293_25_SP_update}    opn4=Profile compliance check    opn4_payload=${profile_compliance_SP_25_1}    opn5=Update SP    opn5_payload=${UI_ServerProfileTemplate_OVTC32293_25_SP}    opn6=Profile compliance check    opn6_payload=${profile_compliance_SP_25_2}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_ServerProfileTemplate_OVTC32293_25}    ${UI_ServerProfileTemplate_OVTC32293_25_SP}

OVTC32414
    [Documentation]   Negative create a  server profile template form REST api by missing any of the mandatory parameters serverHardwareTypeUri
    [Tags]   OVF1023   P0    Negative
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_20}    isPositive=False
        User1            opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_20}    isPositive=False
        User1_SPArch     opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_20}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${REST_API_SPT_SP_Page_20}

OVTC32415
    [Documentation]   Negative create a  server profile template form REST api by missing any of the mandatory parameters enclosureGroupUri
    [Tags]   OVF1023   P0    Negative
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_21}    isPositive=False
        User1            opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_21}    isPositive=False
        User1_SPArch     opn1=Create SPT    opn1_payload=${REST_API_SPT_SP_Page_21}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${REST_API_SPT_SP_Page_21}

OVTC32206
    [Documentation]    Name: ServerProfileTemplate_20 - Create a server profile template form RESt api by passing same name of already existing SPT
    [Tags]    F228    p0    Negative
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT     opn1_payload=${ServerProfileTemplate_20}    opn2=Create SPT     opn2_payload=${ServerProfileTemplate_20_SPT}    isPositive=False
        User1            opn1=Create SPT     opn1_payload=${ServerProfileTemplate_20}    opn2=Create SPT     opn2_payload=${ServerProfileTemplate_20_SPT}    isPositive=False
        User1_SPArch     opn1=Create SPT     opn1_payload=${ServerProfileTemplate_20}    opn2=Create SPT     opn2_payload=${ServerProfileTemplate_20_SPT}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${ServerProfileTemplate_20}    ${ServerProfileTemplate_20_SPT}

OVTC32321
    [Documentation]    Name:UI_ServerProfileTemplate_52 - Create SPT using different hardware type (DL/BL/whatever else is supported)
    ...                Note:As of now, we used only differnt BL's to test this test case.Testing SPT creation for DL is not added
    [Tags]    F228    p1
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_52_SPT}
        User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_52_SPT}
        User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_52_SPT}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_ServerProfileTemplate_52_SPT}

OVTC31137
    [Documentation]    Name: SPT_SBAC28 - Remove network from scope where same network is used by SPT. This SPT is created using same scope
    [Tags]    OVF147    p0
    [Template]    SPT SP by different users
        User5_SPArch          opn1=Create SPT       opn1_payload=${SPT_SBAC_4_1}    isComplete=False
        Administrator         opn1=Update Scopes    opn1_payload=${SPT_SBAC_28_EditScope}    isPositive=False
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SPT_SBAC_4_1}

OVTC32339
    [Documentation]    Name:UI_ServerProfileTemplate_71 - Create SPT. Create SP using unassigned server hardware
    [Tags]    F228    p0
    [Template]    SPT SP by different users
         Administrator    opn1=Create SPT    opn1_payload=${UI_SPT_68}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_71_SP}
         User1            opn1=Create SPT    opn1_payload=${UI_SPT_68}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_71_SP}
         User1_SPArch     opn1=Create SPT    opn1_payload=${UI_SPT_68}    opn2=Create SP    opn2_payload=${UI_ServerProfileTemplate_71_SP}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_SPT_68}    ${UI_ServerProfileTemplate_71_SP}

OVTC32318
    [Documentation]    Name:UI_ServerProfileTemplate_49
    ...    Create SP using this SPT. Use special characters for creating SPT and SP
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_49}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_49_SP}
        User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_49}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_49_SP}
        User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_49}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_49_SP}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp spt    ${UI_ServerProfileTemplate_49_SP}    ${UI_ServerProfileTemplate_49}

OVTC32324
    [Documentation]    Name:UI_ServerProfileTemplate_55
    ...    Create SP using this SPT and over-ride the SPT settings while doing the same. Change volume settings before creating SPT.
    [Tags]    F228    P1
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_55}    opn2=Create SP override firmware    opn2_payload=${UI_ServerProfileTemplate_55_SP}
        User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_55}    opn2=Create SP override firmware    opn2_payload=${UI_ServerProfileTemplate_55_SP}
        User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_55}    opn2=Create SP override firmware    opn2_payload=${UI_ServerProfileTemplate_55_SP}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp spt    ${UI_ServerProfileTemplate_55_SP}    ${UI_ServerProfileTemplate_55}

OVTC32326_UI_ServerProfileTemplate_57
    [Documentation]    Name:UI_ServerProfileTemplate_57
    ...    Create SP using this SPT and over-ride the SPT settings while doing the same. Change other settings - SHT, EG, boot setting, bios settings, advanced settings etc.
    [Tags]    F228    p1
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_57_1}    opn2=Create SP override firmware    opn2_payload=${UI_ServerProfileTemplate_57_SP_1}
        User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_57_1}    opn2=Create SP override firmware    opn2_payload=${UI_ServerProfileTemplate_57_SP_1}
        User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_57_1}    opn2=Create SP override firmware    opn2_payload=${UI_ServerProfileTemplate_57_SP_1}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp spt    ${UI_ServerProfileTemplate_57_SP_1}    ${UI_ServerProfileTemplate_57_1}

OVTC32297
    [Documentation]    Name:UI_ServerProfileTemplate_29 - Create SPT. Create SP using this SPT. Change boot,BIOS settings on SPT. See that there is a compliance alert that requires server power state to be off. Set the server power state to OFF and proceed with remediation
    [Tags]    F228    p0
    [Template]   SPT SP by different users
         Administrator    opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_29}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_29_SP}     opn3=Power On Server    opn3_payload=${UI_ServerProfile_SP_Power_On}    opn4=Update SPT    opn4_payload=${UI_ServerProfileTemplate_29_update}    opn5=Profile compliance check    opn5_payload=${profile_compliance_UI_ServerProfile_SP}    opn6=Power Off Server    opn6_payload=${UI_ServerProfile_SP_Power_Off}    opn7=Update SP    opn7_payload=${UI_ServerProfileTemplate_29_sp_SPT}    opn8=Profile compliance check    opn8_payload=${profile_compliance_UI_ServerProfile_SP1}
         User1            opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_29}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_29_SP}     opn3=Power On Server    opn3_payload=${UI_ServerProfile_SP_Power_On}    opn4=Update SPT    opn4_payload=${UI_ServerProfileTemplate_29_update}    opn5=Profile compliance check    opn5_payload=${profile_compliance_UI_ServerProfile_SP}    opn6=Power Off Server    opn6_payload=${UI_ServerProfile_SP_Power_Off}    opn7=Update SP    opn7_payload=${UI_ServerProfileTemplate_29_sp_SPT}    opn8=Profile compliance check    opn8_payload=${profile_compliance_UI_ServerProfile_SP1}
         User1_SPArch     opn1=Create SPT    opn1_payload=${UI_ServerProfileTemplate_29}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_29_SP}     opn3=Power On Server    opn3_payload=${UI_ServerProfile_SP_Power_On}    opn4=Update SPT    opn4_payload=${UI_ServerProfileTemplate_29_update}    opn5=Profile compliance check    opn5_payload=${profile_compliance_UI_ServerProfile_SP}    opn6=Power Off Server    opn6_payload=${UI_ServerProfile_SP_Power_Off}    opn7=Update SP    opn7_payload=${UI_ServerProfileTemplate_29_sp_SPT}    opn8=Profile compliance check    opn8_payload=${profile_compliance_UI_ServerProfile_SP1}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_ServerProfileTemplate_29}    ${UI_ServerProfileTemplate_29_SP}

OVTC32300
    [Documentation]   Name:UI_ServerProfileTemplate_32 - Create SPT. Create more than 1 SP using this SPT. Make all changes that are a union of test  and all others like firmware, affinity on SPT. See that appropriate compliance error is thrown and complete remediation occurs by appropriate manual changes, and putting the server off and then applying the server profile update on one SP. Check for the SP status on SPT overview page and dashboard view. Update all SPs.Check for the SP status on SPT overview page and dashboard view
    [Tags]    F228    p2
    [Template]    SPT SP by different users
        Administrator    opn1=Create SPT     opn1_payload=${UI_ServerProfileTemplate_32}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_32_SP}    opn3=Update SPT with firmware    opn3_payload=${UI_ServerProfileTemplate_32_SP1_Update}    opn4=Profile compliance check    opn4_payload=${profile_compliance_UI_ServerProfileTemplate_32_SP}    opn5=Profile compliance check    opn5_payload=${profile_compliance_UI_ServerProfileTemplate_32_SP1}
        User1            opn1=Create SPT     opn1_payload=${UI_ServerProfileTemplate_32}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_32_SP}    opn3=Update SPT with firmware    opn3_payload=${UI_ServerProfileTemplate_32_SP1_Update}    opn4=Profile compliance check    opn4_payload=${profile_compliance_UI_ServerProfileTemplate_32_SP}    opn5=Profile compliance check    opn5_payload=${profile_compliance_UI_ServerProfileTemplate_32_SP1}
        User1_SPArch     opn1=Create SPT     opn1_payload=${UI_ServerProfileTemplate_32}    opn2=Create SP from SPT    opn2_payload=${UI_ServerProfileTemplate_32_SP}    opn3=Update SPT with firmware    opn3_payload=${UI_ServerProfileTemplate_32_SP1_Update}    opn4=Profile compliance check    opn4_payload=${profile_compliance_UI_ServerProfileTemplate_32_SP}    opn5=Profile compliance check    opn5_payload=${profile_compliance_UI_ServerProfileTemplate_32_SP1}
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${UI_ServerProfileTemplate_32}    ${UI_ServerProfileTemplate_32_SP}

OVTC32397
    [Documentation]   Name:SPT_SP_Page_18 - Create SPT from SP page and Create SP from other SPT assiging the same server hardware
    [Tags]    OVF1023    p2    Negative
    [Template]    SPT SP by different users
        Administrator    opn1=Create SP    opn1_payload=${SP_Page_12}    opn2=Create SPT from SP    opn2_payload=${SPT_SP_Page_12}     opn3=Create SPT    opn3_payload=${ServerProfileTemplate_12_SPT}    opn4=Create SP from SPT    opn4_payload=${ServerProfileTemplate_12_SP}    isPositive4=False    errorMessage4=ProfileAlreadyExistsInServer
        User1            opn1=Create SP    opn1_payload=${SP_Page_12}    opn2=Create SPT from SP    opn2_payload=${SPT_SP_Page_12}     opn3=Create SPT    opn3_payload=${ServerProfileTemplate_12_SPT}    opn4=Create SP from SPT    opn4_payload=${ServerProfileTemplate_12_SP}    isPositive4=False    errorMessage4=ProfileAlreadyExistsInServer
        User1_SPArch     opn1=Create SP    opn1_payload=${SP_Page_12}    opn2=Create SPT from SP    opn2_payload=${SPT_SP_Page_12}     opn3=Create SPT    opn3_payload=${ServerProfileTemplate_12_SPT}    opn4=Create SP from SPT    opn4_payload=${ServerProfileTemplate_12_SP}    isPositive4=False    errorMessage4=ProfileAlreadyExistsInServer
    [Teardown]    run keywords    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${user_credentials['Administrator']}    AND
    ...    run keyword and Ignore Error    remove sp and spt    ${SP_Page_12}    ${SPT_SP_Page_12}    ${ServerProfileTemplate_12_SPT}    ${ServerProfileTemplate_12_SP}