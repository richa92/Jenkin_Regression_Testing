*** Settings ***
Documentation        SPT OVF3651 regression : Prerequisites Setup

Variables            ../../data_variables_files/SPT_prereq_data_variables_c7000_dcs_OVF3651.py
Variables            ../../data_variables_files/SPT_SBAC_data_variable_template.py
Resource             resource.txt
Resource             ../../../../Resources/api/fusion_api_resource.txt
Resource             ../../support_files/clrm_common.txt
Suite setup          Fusion Api Login Appliance        ${appliance_ip}    ${admin_credentials}
Suite teardown       Fusion Api Logout Appliance

*** Variables ***
${appliance_ip}        15.212.172.162
${SPP}                 \\\\16.125.105.115\\Users\\Administrator\\Desktop\\firmware_bundle\\864794_001_spp-2016.04.0-SPP2016040.2016_0317.20.iso
${timeout}                      20min
@{EG_optional_scope}=    @{EMPTY}
#@{EG_optional_scope}=    single EG    shared EGs    single EG 2

*** Test Cases ***
Add Ethernet Networks
    [Documentation]    Add Ethernet Networks
    Add Ethernet Networks from variable    ${ethernet_networks_shared}
    Add Ethernet Networks from variable    ${ethernet_networks_EG1}
    Add Ethernet Networks from variable    ${ethernet_networks_EG2}

Add FC Networks
    [Documentation]    Add FC Networks
    Add FC Networks from variable    ${fc_networks_shared}
    Add FC Networks from variable    ${fc_networks_EG1}
    Add FC Networks from variable    ${fc_networks_EG2}

Add Network Sets
    [Documentation]    Add Network Sets
    Add Network Sets from variable    ${network_sets_shared}
    Add Network Sets from variable    ${network_sets_EG1}
    Add Network Sets from variable    ${network_sets_EG2}

Add LIG
    [Documentation]    Add LIG
    Add LIG from variable    ${lig1}
    Add LIG from variable    ${lig2}

Add Enclosure Group
    [Documentation]    Add Enclosure Group
    Add Enclosure Group from variable    ${enc_group1}
    Add Enclosure Group from variable    ${enc_group2}

Add Enclosures
    [Documentation]    Add Enclosures
    Add Enclosures from variable    ${enclosures}    ${timeout}

Add Storage System
    [Documentation]    Add Storage System
    Sleep    5 seconds
    Add Storage Systems Async    ${storage_systems}

Edit Storage Systems
    [Documentation]    Edit Storage Systems
    Sleep    15 seconds
    Edit Storage Systems Async    ${update_storage_systems}

Add Storage Pool
    [Documentation]    Add Storage Pool
    Sleep    15 seconds
    Edit Storage Pools Async    ${storage_pools}

Add Storage Volumes
    [Documentation]    Add Storage Volumes
    Sleep    15 seconds
    Add Storage Volumes Async    ${storage_volumes}

Register IP pools subnet
    [Documentation]    Register IP pools subnet
    Create ID Pools IPV4 Subnet    ${ipv4_subnet}

Register IP pools ranges
    [Documentation]    Register IP pools ranges
    Create ID Pools IPV4 Ranges    ${ipv4_ranges}

Associate subnet
    [Documentation]    Associate subnet
    :FOR    ${sub_assc}    in    @{subnet_association}
    \    Edit network    ${sub_assc}

Add firmware bundle
    [Documentation]    Add  firmware bundles
    Upload Firmware Bundle Async    ${SPP}

Create scope and user
    [Documentation]    create Scope and assign scope to user and resources
    Setup Users and scopes for OVF1053 and OVF3651
    run keyword and continue on failure    Reset Refresh server hardware
    run keyword and continue on failure    Remove All Alerts

