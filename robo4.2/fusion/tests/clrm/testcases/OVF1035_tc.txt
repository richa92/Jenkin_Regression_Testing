*** Settings ***
Library                         FusionLibrary
Library                         RoboGalaxyLibrary
Library                         OperatingSystem
Library                         BuiltIn
Library                         Collections
Library                         XML
Library                         String
Library                         json
Library							Process

Resource						../../../Resources/api/fusion_api_resource.txt
Variables 		    			../data_variables_files/OVF1035_data_variables.py
Suite Setup                     Fusion Api Login Appliance  ${Appliance}     ${admin_credentials}
Suite Teardown                  Fusion Api Logout Appliance


*** Variables ***

${Appliance}		15.212.173.94
${force}=		False

*** Test Cases ***

OVF1035_API_1
	[Documentation]            Create a server profile template form REST api, set manage connections to false      
	[Tags]        OVF1035              Positive
	${resp}=	Add Non Existing Server Profile Templates			${OVF1035_API_1}
	Wait for task2  ${resp} 
	${del_spt}=		Remove All Server Profile Templates
	Wait for task2  ${del_spt}	  timeout=120  interval=10

OVF1035_API_2
	[Documentation]            Create a server profile template form REST api set manage connections to true and pass one ethernet connections      
	[Tags]        OVF1035              Positive
	${resp}=	Add Non Existing Server Profile Templates			${OVF1035_API_2}
	Wait for task2  ${resp}
	${del_spt}=		Remove All Server Profile Templates
	Wait for task2  ${del_spt}	  timeout=120  interval=10
	
OVF1035_02
	[Documentation]            Create SPT wit manage connections as False, create SP out of it, add connections in SP      
	[Tags]        OVF1035              Positive
	${resp}=	Add Non Existing Server Profile Templates			${OVF1035_02}
	Wait for task2  ${resp}
	${resp_sp}=		Create Non Existing Server Profile from SPT		${OVF1035_02_SP}
	Wait for task2  ${resp_sp}  timeout=120  interval=10
	${del_sp}=		Remove Server Profile	${OVF1035_02_SP[0]}
	Wait for task2  ${del_sp}	  timeout=180  interval=10		
	${del_spt}=		Remove All Server Profile Templates
	Wait for task2  ${del_spt}	  timeout=120  interval=10

OVF1035_03
	[Documentation]            Create a server profile template form REST api set manage connections to true and then edit it.      
	[Tags]        OVF1035              Positive
	${resp}=	Add Non Existing Server Profile Templates			${OVF1035_03}
	Wait for task2  ${resp}
	${resp_update1}=	Edit Server Profile Templates from variable		${OVF1035_03_update1}	
	Wait for task2  ${resp_update1}
	${resp_update2}=	Edit Server Profile Templates from variable		${OVF1035_03}	
	Wait for task2  ${resp_update2}
	${resp_sp}=		Create Non Existing Server Profile from SPT		${OVF1035_03_SP}
	Wait for task2  ${resp_sp}  timeout=120  interval=10
	${resp_update3}=	Edit Server Profile Templates from variable		${OVF1035_03_update1}	
	Wait for task2  ${resp_update3}
	${del_sp}=		Remove Server Profile	${OVF1035_03_SP[0]}
	Wait for task2  ${del_sp}	  timeout=180  interval=10
	${del_spt}=		Remove All Server Profile Templates
	Wait for task2  ${del_spt}	  timeout=120  interval=10

OVF1035_04	
	[Documentation]            Create a server profile template form REST api set manage connections to false and then edit it.      
	[Tags]        OVF1035              Positive
	${resp}=	Add Non Existing Server Profile Templates			${OVF1035_04}
	Wait for task2  ${resp}
	${resp_update1}=	Edit Server Profile Templates from variable		${OVF1035_04_update1}	
	Wait for task2  ${resp_update1}
	${resp_update2}=	Edit Server Profile Templates from variable		${OVF1035_04}	
	Wait for task2  ${resp_update2}
	${resp_sp}=		Create Non Existing Server Profile from SPT		${OVF1035_04_SP}
	Wait for task2  ${resp_sp}  timeout=120  interval=10
	${resp_update3}=	Edit Server Profile Templates from variable		${OVF1035_04_update1}	
	Wait for task2  ${resp_update3}
	${del_sp}=		Remove Server Profile	${OVF1035_04_SP[0]}
	Wait for task2  ${del_sp}	  timeout=180  interval=10
	${del_spt}=		Remove All Server Profile Templates
	Wait for task2  ${del_spt}	  timeout=120  interval=10
	
OVF1035_05	
	[Documentation]            Create a server profile template. edit and delete SPT      
	[Tags]        OVF1035              Positive
	${resp}=	Add Non Existing Server Profile Templates			${OVF1035_05}
	Wait for task2  ${resp}
	${resp_update1}=	Edit Server Profile Templates from variable		${OVF1035_05_update1}	
	Wait for task2  ${resp_update1}
	${del_spt}=		Remove All Server Profile Templates
	Wait for task2  ${del_spt}	  timeout=120  interval=10
	
OVF1035_06	
	[Documentation]            Create a server profile template with manage connections as true and delete SPT      
	[Tags]        OVF1035              Positive
	${resp}=	Add Non Existing Server Profile Templates			${OVF1035_06}
	Wait for task2  ${resp}
	${del_spt}=		Remove All Server Profile Templates
	Wait for task2  ${del_spt}	  timeout=120  interval=10

OVF1035_07
	[Documentation]            Create SPT, edit and delete it.      
	[Tags]        OVF1035              Positive
	${resp}=	Add Non Existing Server Profile Templates			${OVF1035_07}
	Wait for task2  ${resp}
	${resp_update1}=	Edit Server Profile Templates from variable		${OVF1035_07_update1}	
	Wait for task2  ${resp_update1}	
	${del_spt}=		Remove All Server Profile Templates
	Wait for task2  ${del_spt}	  timeout=120  interval=10
	
OVF1035_08	
	[Documentation]            Create SPT, edit and delete it.      
	[Tags]        OVF1035              Positive
	${resp}=	Add Non Existing Server Profile Templates			${OVF1035_08}
	Wait for task2  ${resp}
	${resp_update1}=	Edit Server Profile Templates from variable		${OVF1035_08_update1}	
	Wait for task2  ${resp_update1}
	${del_spt}=		Remove All Server Profile Templates
	Wait for task2  ${del_spt}	  timeout=120  interval=10
	
OVF1035_09
	[Documentation]            Create a server profile template form REST api set manage connections to true, edit and delete it.      
	[Tags]        OVF1035              Positive
	${resp}=	Add Non Existing Server Profile Templates			${OVF1035_09}
	Wait for task2  ${resp}
	${resp_update1}=	Edit Server Profile Templates from variable		${OVF1035_09_update1}	
	Wait for task2  ${resp_update1}
	${resp_update2}=	Edit Server Profile Templates from variable		${OVF1035_09}	
	Wait for task2  ${resp_update2}
	${del_spt}=		Remove All Server Profile Templates
	Wait for task2  ${del_spt}	  timeout=120  interval=10
