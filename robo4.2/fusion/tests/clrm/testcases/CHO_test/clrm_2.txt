*** Settings ***

Documentation    CHO Tests and verify clrm operation - 2

Library    						pabot.PabotLib
Library                         FusionLibrary
Library                         RoboGalaxyLibrary
Library                         OperatingSystem
Library                         BuiltIn
Library                         Collections
Library                         XML
Library                         String
Library                         json
Library							Process

Resource						../../../../Resources/api/fusion_api_resource.txt
Resource						../../support_files/clrm_common.txt
Variables 		    			../../data_variables_files/data_variables_withoutIppool_realhw_c7000_enc5.py
Library							../../support_files/clrm_support_functions.py
Suite Teardown					Fusion Api Logout Appliance


*** Variables ***

${Appliance}	10.0.100.1
${force}=		False
${validation}=	False

*** Test Cases ***
vCenter_1
	
	[Documentation]     From any REST client, with session header, url, content header and all the other arguments to REST API as mentioned in the REST API document, 
	...		Register a new vCenter with specified details type, hostname, username, Password, port, version
	[Tags]	I305_F326 	Positive	Sanity
	${validation}=	Convert to boolean	true
	Fusion Api Login Appliance	${Appliance}	${admin_credentials}
	Register vcenter	${vCenter_1}	${validation}
	Get vcenter		${vCenter_1}
	sleep	5
	#Disconnect from vcenter		${vCenter_1}

Cluster_10
	[Documentation]            Change the name attribute of a cluster by its cluster id      
	[Tags]        I305_F319              Positive
	${force}=		Convert to boolean   False
	${validation}=	Convert to boolean   True
	Create cluster	${cluster_10}	${validation}
	Update cluster	${cluster_10_update}	${validation}
	Get cluster	${cluster_10_update}
	Delete cluster	${cluster_10_update}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status 	Delete cluster	${Cluster_10}	${force}

vSwitch_03
	[Documentation]		Use default switch layout when adding cluster     
	[Tags]        I305_F325		Positive
	${force}=		Convert to boolean   False
	${validation}=	Convert to boolean	true
	Create cluster	${vSwitch_03}		${validation}
	Get cluster	${vSwitch_03}
	Delete cluster	${vSwitch_03}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status 	Delete cluster	${vSwitch_03}	${force}

vSwitch_04
	[Documentation]		Use default switch layout when adding cluster
	[Tags]        I305_F325		Positive
	${force}=		Convert to boolean   False
	${validation}=	Convert to boolean	true
	Create cluster	${vSwitch_04}		${validation}
	Get cluster	${vSwitch_04}
	Delete cluster	${vSwitch_04}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${vSwitch_04}	${force}
	
dvSwitch_01
	[Documentation]		Use distributed switch layout when adding cluster     
	[Tags]        I305_F325		Positive
	${force}=		Convert to boolean   False
	${validation}=	Convert to boolean	true
	Create cluster	${dvSwitch_01}			${validation}
	Get cluster	${dvSwitch_01}
	Delete cluster	${dvSwitch_01}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${dvSwitch_01}	${force}
	
# Test cases Cluster_1, Cluster_3, Cluster_7, Cluster_8, Cluster_23 are paired

Cluster_1
	[Documentation]		Create a new hypervisor-cluster-profile-profile(resthypervisor-cluster-profiles)
	[Tags]		I305_F319		Positive
	${validation}=	Convert to boolean	true
	Create cluster	${cluster_1}	${validation}
	Get Cluster	${cluster_1}
	#Delete cluster	${cluster_1}

Cluster_3
	[Documentation]		Create a new hypervisor-cluster-profile by providing values for all the attributes including the optional attributes 
	...		(resthypervisor-cluster-profiles) (cluster settings,server hardware URI, IP pools)
	[Tags]		I305_F319		Positive
	${validation}=	Convert to boolean	true	
	Create cluster	${cluster_3}	${validation}
	Get Cluster 	${cluster_3}
	#Delete cluster	${cluster_3}

Cluster_7
	[Documentation]		 Retrieve the list of all the  clusters (resthypervisor-cluster-profiles) 
	[Tags]		I305_F319		Positive
	${validation}=	Convert to boolean	true	
	${force}=		Convert to boolean   False
	#Create cluster	${cluster_1}
	${resp}		${count}=	Get All Cluster Profiles
	Run keyword If	${count}==0	FAIL	Failed to get Cluster Profiles
	...			ELSE	Log to console and logfile	\n***List of clusters ***\n${resp['names']}\n
	Delete cluster	${cluster_3}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_3}	${force}
	

Cluster_8
	[Documentation]		Request cluster details for a particular cluster id (resthypervisor-cluster-profiles{id})\n 
	[Tags]		I305_F319		Positive
	#Create cluster	${cluster_1}
	Get Cluster		${cluster_1}
	#Delete cluster	${cluster_1}

Cluster_23
	[Documentation]		Delete a cluster from cluster list without hosts (resthypervisor-cluster{id}) 
	[Tags]		I305_F319		Positive	Sanity
	${force}=		Convert to boolean	False
	#Create cluster	${cluster_1}
	Delete cluster	${cluster_1}	${force}
	${isNegative}=		Convert to boolean	true
	Get Cluster		${cluster_1}	${isNegative}	delete
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_1}	${force}
	
Cluster_24 
	[Documentation]		Negative Delete a cluster from cluster list by Passing invalid OR wrong hypervisor cluster URI (resthypervisor-cluster{id}) 
	[Tags]		I305_F319		Negative
	${uri}=		Convert To String	/rest/hypervisor-cluster-profiles/ac25cb77-4936-48fd-a7b6-eba7404f77ce_123
	${resp}=	Delete cluster profile by url		${uri}
	Run keyword if	${resp[0]['status']}==True		FAIL	Negative test case

#Test cases Cluster_28, Hosts_1 and Cluster_19 are paired

Cluster_28
	[Documentation]		POST on hypervisor-cluster-profile-profiles to Add OR Create a new Host (resthypervisor-cluster-profiles) by specifying 
	...			unassigned server profile that has shared FC/FCOE storage as one of the storage volumes (Non bootable)   
	[Tags]		I305_F321		Positive
	${validation}=	Convert to boolean	true
	Create cluster	${cluster_28}	${validation}
	Get Cluster		${cluster_28}
	#Delete cluster	${cluster_28}

Hosts_1
	[Documentation]		Request host details for a particular host id   
	[Tags]		I305_F319		Positive
	${name}		Set variable	${cluster_28[0]['name']}
	#Create cluster	${cluster_28}
	Get Host Profile Uris From Cluster	${cluster_28}
	
Cluster_19
	[Documentation]		Delete an existing cluster from cluster list with hosts and no VMs
	...					(resthypervisor-cluster{id}) (force delete option) 
	[Tags]		I305_F319		Positive
	${force}=	Convert to boolean	true
	${validation}=	Convert to boolean	true
	#Create cluster	${cluster_28}	${validation}
	Delete cluster	${cluster_28}	${force}
	

Cluster_31
	[Documentation]		PUT on hypervisor-cluster-profiles to Add OR Create more than one new Host
	...			(resthypervisor-clusters) by specifying all the parameters -  
	...			(SAN boot) - type,name,hypervisorType,hypervisorManagerUri,path,hypervisorClusterSettings(type,
	...			virtualSwitchType,distributedSwitchUsage,multiNicVMotion,distributedSwitchVersion) - OPTIONAL,
	...			hypervisorHostProfileTemplate(serverProfileTemplateUri,deploymentPlan(deploymentPlanUri.,serverPassword)),serverHardwareUris,
	...			ipPool (dhcp,ipRange,netmask,gateway,dnsDomain - OPTIONAL,primaryDns - OPTIONAL,secondaryDns - OPTIONAL),sharedVolumeUris - OPTIONAL,
	...			hypervisorClusterVolumes - OPTIONAL     
	[Tags]		I305_F321		Positive  
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	Create cluster	${cluster_31}	${validation}
	Update cluster	${cluster_31_update}	${validation}
	Get Cluster		${cluster_31}
	Delete cluster	${cluster_31_update}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_31_update}	${force}	
	
Cluster_22
	[Documentation]		From any REST client, with session header, url, content header and all the other arguments to REST API as mentioned in the REST API document, 
	...					delete a particular cluster by specifying its cluster id and the correct etag    
	[Tags]		I305_F319		Positive	Sanity 	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	Create cluster	${cluster_22}	${validation}
	Delete cluster	${cluster_22}	${force}
	${isNegative}=	Convert to boolean	true
	Get Cluster		${cluster_22}	${isNegative}	delete
	
Cluster_26
	[Documentation]		From any REST client, with session header, url, content header and all the other arguments to REST API as mentioned in the REST API document, 
	...		Add a new cluster using the server profile template which has no management network specified for network definition
	[Tags]        I305_F325		Negative
	${validation}=		Convert to boolean	true
	${isNegative}=		Convert to boolean	true
	Create cluster	${cluster_26}	${validation}	${isNegative}

SM_09
	[Documentation]		Cluster creation with dvs switch version as 5.1.0     
	[Tags]        I305_F325		Positive
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	False
	Create cluster	${SM_09}	${validation}
	Get cluster		${SM_09}
	Delete cluster	${SM_09}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${SM_09}	${force}	
	
Cluster_43
	[Documentation]		Create cluster with shared volumes defined in server profile template 
	[Tags]		I305_F321		Positive	Sanity
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	Create cluster	${cluster_43}	${validation}
	Delete cluster	${cluster_43}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_43}	${force}	
	
Cluster_128
	[Documentation]		POST on hypervisor-cluster-profile-profiles to Add OR Create a new host,Make leaveHostInMaintenance parameter of HostConfig to false
	[Tags]		I305_F319		Positive	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	Create cluster	${cluster_128}	${validation}
	Get cluster		${cluster_128}
	Delete cluster	${cluster_128}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_128}	${force}	
	
Cluster_107
	[Documentation]		POST cluster profile with add host
	[Tags]		I305_F319		Positive
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	Create cluster	${cluster_107}	${validation}
	Delete cluster	${cluster_107}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_107}	${force}	
	
Cluster_108
	[Documentation]      PUT cluster profile to delete host
	[Tags] 	I305_F319		Positive
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	False
	Create cluster	${cluster_108}	${validation}
	Update cluster	${cluster_108_update}	${validation}
	Delete cluster	${cluster_108_update}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_108}	${force}	
	
Cluster_109
	[Documentation]      PUT cluster profile to add host
	[Tags] 		I305_F319		Positive
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	False
	Create cluster	${cluster_109}	${validation}
	Update cluster	${cluster_109_update}	${validation}
	Delete cluster	${cluster_109_update}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_109}	${force}	
	
Cluster_130 
	[Documentation]		Default values for hypervisorClusterSettings attributes - drsEnabled and haEnabled
	...		Create a new hypervisor-cluster-profile-profile(resthypervisor-cluster-profiles) with following values for 
	...		hypervisorClusterSettings attributes - drsEnabled =false and haEnabled=false     
	[Tags]        I305_F319		Positive
	${force}=		Convert to boolean	False
	${validation}=	Convert to boolean	true
	Create cluster	${cluster_130}	${validation}
	Delete cluster	${cluster_130}		${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_130}	${force}	
	
Cluster_131
	[Documentation]		Create a new hypervisor-cluster-profile-profile(resthypervisor-cluster-profiles) with following values for 
	...		hypervisorClusterSettings attributes - drsEnabled =true and haEnabled=true
	...		Default values for hypervisorClusterSettings attributes - drsEnabled and haEnabled     
	[Tags]        I305_F319		Positive
	${force}=		Convert to boolean   False
	${validation}=	Convert to boolean	true
	Create cluster	${cluster_131}	${validation}
	Delete cluster	${cluster_131}		${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_131}	${force}	
	
Cluster_132 
	[Documentation]		Create a new hypervisor-cluster-profile-profile(resthypervisor-cluster-profiles) with following 
	...		(non-default) values for hypervisorClusterSettings attributes - drsEnabled =false and haEnabled=true
	...		Default values for hypervisorClusterSettings attributes - drsEnabled and haEnabled     
	[Tags]        I305_F319		Positive  
	${force}=		Convert to boolean   False
	${validation}=	Convert to boolean	true
	Create cluster		${cluster_132}	${validation}
	Delete cluster	${cluster_132}		${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_132}	${force}	
	

vSwitch_02
	[Documentation]		Switch validation - Request cluster status and verify the Switch layout, it should match the profie settings   
	[Tags]		I305_F325		Positive
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean  false
	Create cluster	${vSwitch_02}
	Update Cluster	${vSwitch_02_update}	${validation}
	${status}=		validate_vSwitch_connections		${vSwitch_02}
   	Run Keyword If             '${status}'=='False'			run_keywords  Delete Cluster	${vSwitch_02}	${force}        AND           FAIL		Failed to validate switches 
	Get cluster		${vSwitch_02_update}
	Delete Cluster	${vSwitch_02_update}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${vSwitch_02_update}	${force}	

dvSwitch_02
	[Documentation]		Switch validation - Request cluster status and verify the Switch layout, it should match the profile settings   
	[Tags]		I305_F325		Positive
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean  false
	Create cluster	${dvSwitch_02}
	Update Cluster	${dvSwitch_02_update}
	${status}=		validate_vSwitch_connections		${dvSwitch_02}
   	Run Keyword If             '${status}'=='False'			run_keywords  Delete Cluster	${dvSwitch_02}	${force}        AND           FAIL		Failed to validate switches 
	Get cluster		${dvSwitch_02_update}
	Delete Cluster	${dvSwitch_02_update}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${dvSwitch_02_update}	${force}	
	
Cluster_16
	[Documentation]		POST on hypervisor-cluster-profile-profiles passing null to ip pools and server hardware
	[Tags]		I305_F319		Negative
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	Create cluster	${Cluster_16}	${validation}	${isNegative}
	Get Cluster		${Cluster_16}	${isNegative}	create
	Delete cluster	${Cluster_16}	${force}	${isNegative}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_16}	${force}	
	
Cluster_2
	[Documentation]		POST on hypervisor-cluster-profile-profiles missing one of the mandatory parameter
	[Tags]		I305_F319		Negative
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	Create cluster	${Cluster_2}	${validation}	${isNegative}
	Get Cluster		${Cluster_2}	${isNegative}
	Delete cluster	${Cluster_2}	${force}	${isNegative}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_2}	${force}	
	
Cluster_34
	[Documentation]		Do a POST on the hypervisor-cluster-profiles to add new hosts by, missing one of the mandatory parameter:hypervisor host profile
	[Tags]		I305_F319		Negative
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	${force}=		Convert to boolean   False
	Create cluster	${Cluster_34}	${validation}	${isNegative}
	Get Cluster		${Cluster_34}	${isNegative}
	Delete cluster	${Cluster_34}	${force}	${isNegative}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_34}	${force}	
	
Cluster_36
	[Documentation]	PUT on hypervisor-cluster-profiles to Create a new Host by providing invalid serverHardwareUri
	[Tags]		I305_F319		Negative	
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	${force}=		Convert to boolean   False
	Create cluster	${Cluster_36}	${validation}
	Update cluster	${Cluster_36_update}	${validation}	${isNegative}
	Delete cluster	${Cluster_36_update}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_36}	${force}	
	
Cluster_37
	[Documentation]	PUT on hypervisor-cluster-profiles with invalid SPT uri
	[Tags]		I305_F319		Negative
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean   False
	${isNegative}=	Convert to boolean	true
	Create cluster	${Cluster_37}	${validation}
	Update cluster	${Cluster_37_update}	${validation}	${isNegative}
	Delete cluster	${Cluster_37_update}	${force}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_37}	${force}	
	
Cluster_38
	[Documentation]	PUT on hypervisor-cluster-profiles with invalid deploymentPlanUri
	[Tags]		I305_F319		Negative
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	Create cluster	${Cluster_38}	${validation}
	Update cluster	${Cluster_38_update}	${validation}	${isNegative}
	Delete cluster	${Cluster_38_update}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_38}	${force}	
	
Cluster_39
	[Documentation]		POST on hypervisor-cluster-profile-profiles with host, with invalid hypervisor manager uri
	[Tags]		I305_F319		Negative
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	Create cluster	${Cluster_39}	${validation}	${isNegative}
	Get cluster	${Cluster_39}	${isNegative}
	Delete cluster	${Cluster_39}	isNegative=${isNegative}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_39}	${force}	
	
SM_06
	[Documentation]            Cluster creation with dvs switch version as 4.0     
	[Tags]        I305_F325           Positive
    ${validation}=       Convert to boolean   true
    ${force}=            Convert to boolean   false
    Update networks	@{sm06_net_edit_1}
	Create cluster	${SM_06}	editNet=True	Net=${sm06_net_edit_2}
	Update networks	@{sm06_net_edit_2}
	Delete cluster	${SM_06}	editNet=True	Net=${sm06_net_edit_2}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Update networks	@{sm06_net_edit_2}	AND	run keyword and return status	Delete cluster	${SM_06}	${force}	
	
SM_07
    [Documentation]            Cluster creation with dvs switch version as 4.1.0     
    [Tags]        I305_F325           Positive 
    ${validation}=       Convert to boolean   true
    ${force}=            Convert to boolean   false
    Update networks	@{sm07_net_edit_1}
	Create cluster	${SM_07}	editNet=True	Net=${sm07_net_edit_2}
	Update networks	@{sm07_net_edit_2}
	Delete cluster	${SM_07}	editNet=True	Net=${sm07_net_edit_2}
	${force}=		Convert to boolean   true
	[Teardown]	run keyword and return status	Update networks	@{sm07_net_edit_2}	AND	run keyword and return status	Delete cluster	${SM_07}	${force}	
	
SM_08
    [Documentation]            Cluster creation with dvs switch version as 5.0     
    [Tags]        I305_F325           Positive
    ${validation}=       Convert to boolean   true
    ${force}=            Convert to boolean   false
    Update networks	@{sm08_net_edit_1}
	Create cluster	${SM_08}	editNet=True	Net=${sm08_net_edit_2}
	Update networks	@{sm08_net_edit_2}
	Delete cluster	${SM_08}	editNet=True	Net=${sm08_net_edit_2}
	${force}=		Convert to boolean   true
	[Teardown]	Run keyword and return status	Update networks	@{sm08_net_edit_2}	AND	run keyword and return status	Delete cluster	${SM_08}	${force}	
	
SM_10
    [Documentation]            Cluster creation with dvs switch version as 5.5.0     
    [Tags]        I305_F325           Positive
    ${validation}=       Convert to boolean   true
    ${force}=            Convert to boolean   false
    Update networks	@{sm10_net_edit_1}
	Create cluster	${SM_10}	editNet=True	Net=${sm10_net_edit_2}
	Update networks	@{sm10_net_edit_2}
	Delete cluster	${SM_10}	editNet=True	Net=${sm10_net_edit_2}
	${force}=		Convert to boolean   true
	[Teardown]	Run keyword and return status	Update networks	@{sm10_net_edit_2}	AND		Run keyword and return status	Delete cluster	${SM_10}	${force}	
	

Cluster_88
	[Documentation]		Create a new hypervisor-cluster-profile by Passing NULL values for any of the optional attributes :cluster settings 
	[Tags]		I305_F319 	Positive
	${force}=	Convert to boolean   False
	Create cluster	${Cluster_88}	${validation}
	${uri}	Get Cluster Profile Uri by Name		${Cluster_88[0]['name']}
	Log to console	\nCLUSTER URI : ${uri}
	Delete cluster	${Cluster_88}
	[Teardown]	Run keyword and return status	Delete cluster	${Cluster_88}	${force}
	
Cluster_89
	[Documentation]		Create a new hypervisor-cluster-profile by Passing wrong values for the  optional attributes hypervisorClusterSettings 
	[Tags]		I305_F319 	Negative
	${validation}=       Convert to boolean   true
	${force}=	Convert to boolean   False
	${isNegative}=	Convert to boolean	true
	${msg}	Set variable	Cluster creation is successful with wrong cluster settings
	Create cluster	${Cluster_89}	${validation}	${isNegative}	msg=${msg}

Cluster_17
	[Documentation]		Create a new hypervisor-cluster-profile by missing SPT uri
	[Tags]		I305_F319 	Negative
	${validation}=       Convert to boolean   true
	${force}=	Convert to boolean   False
	${isNegative}=	Convert to boolean	true
	${msg}	Set variable	Cluster creation was successful with wrong SPT
	Create cluster	${cluster_17}	${validation}	${isNegative}	msg=${msg}

Hosts_07 
	[Documentation]		Negative: PUT on hostprofile uri for disallowed values
	[Tags]		I305_F319		Negative	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	${isNegative}=		Convert to boolean	true
	Create cluster		${Host_07}	${validation}
	${resp}=	Update host profile		${Host_07_update}
	Status check	${resp}		update host profile		${isNegative}		name=Host_07
	Delete cluster	${Host_07_update}	${force}
	[Teardown]	run keyword and return status	Delete cluster	${Hosts_07}	${force}	
	
	
Cluster_142 
	[Documentation]		Update on the host profile to change the power state :On-->On, On-->Exit Maintenance
	[Tags]		I305_F319		Positive	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	Create cluster	${Cluster_142}	${validation}
	${resp}=	Update host profile		${Cluster_142_update_1}
	Status check	${resp}		update host profile		name=Cluster_142
	${resp}=	Update host profile		${Cluster_142_update_2}
	Status check	${resp}		update host profile		name=Cluster_142
	${resp}=	Update host profile		${Cluster_142_update_3}
	Status check	${resp}		update host profile		name=Cluster_142
	Delete Cluster	${cluster_142}	${force}
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_142}	${force}	
	

Cluster_143 
	[Documentation]		Update on the host profile to change the power state :Off-->Off ,Off-->In maintennace, Off-->Exitmaintenance
	[Tags]		I305_F319		Positive
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	Create cluster	${Cluster_143}	${validation}
	${resp}=	Update host profile		${Cluster_143_update_1}
	Status check	${resp}		update host profile		name=Cluster_143
	${resp}=	Update host profile		${Cluster_143_update_2}
	Status check	${resp}		update host profile		name=Cluster_143
	${resp}=	Update host profile		${Cluster_143_update_3}
	Status check	${resp}		update host profile		name=Cluster_143
	${resp}=	Update host profile		${Cluster_143_update_4}
	Status check	${resp}		update host profile		name=Cluster_143	
	Delete Cluster	${cluster_143}	${force}
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_143}	${force}	
	
Cluster_9
	[Documentation]            Request cluster details for a particular invalid cluster id 
	[Tags]	I305_F319 	Negative
	${validation}=       Convert to boolean   true
	${force}=	Convert to boolean   False
	${isNegative}=	Convert to boolean	true
	${url}=       Set Variable  None
    ${url1} =     Set Variable  123
    Create Cluster	${Cluster_9}	${validation}
    ${url}	Get Cluster Profile Uri by Name		${Cluster_9[0]['name']}
    ${new_url}=        Catenate           ${url}${url1}
    Log           ${new_url}
	Log to console	\nCLUSTER URI : ${url}
	${resp}		Get Cluster Profile by Uri	${new_url}
	Status check	${resp}		get cluster by uri	${isNegative}	
	Delete cluster	${Cluster_9}
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_9}	${force}	
	

vCenter_37 
	[Documentation]      DELETE cluster
	[Tags] 	I305_F326		Positive 	
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	false
	Create cluster	${vCenter_37_cluster}
	delete cluster	${vCenter_37_cluster}	${force}
	[Teardown]	run keyword and return status	Delete cluster	${vCenter_37_cluster}	${force}	
	

vCenter_7
	[Documentation]            Do a GET on the hyperisor-managers for HypervisorManagerList
	[Tags] 		I305_F326		Positive
	#Get vcenter		${vCenter_1}
	#Register vcenter	${vCenter_1}
	Get all vcenter 
	#Disconnect from vcenter		${vCenter_1}

vCenter_8
	[Documentation]            Do a GET on the hyperisor-manager using id
	[Tags]	I305_F326		Positive 	
	#${validation}=       Convert to boolean   true
	#Register vcenter	${vCenter_1}
	Get vcenter		${vCenter_1}
	#Disconnect from vcenter		${vCenter_1}

vCenter_09
	[Documentation]		Request the details of a hyperisor-manager by Passing invalid id
	[Tags] 	I305_F326		Negative 	
	${validation}=       Convert to boolean   true
	Register vcenter	${vCenter_38}
	${url}=	Set Variable	None
	${url1}=	Set Variable	'123'
	:FOR    ${vc}    IN    @{vCenter_1}
	\	${url}	Get Hypervisor Manager URI	${vc['name']} 
	${url_status}	run keyword and return status	Should not be empty		${url}
	run keyword if 		${url_status}==False	FAIL	Failed to get Hypervisor manager
	${new_url}=	Catenate	${url}${url1}
	Log		${new_url}
	${isNegative}=       Convert to boolean   true
	${msg}		Set variable	Hypervisor manager exist for wrong URL
	Get vcenter by uri	${new_url}	${isNegative}	${msg}
	Disconnect from vcenter		${vCenter_38}
	Get vcenter		${vCenter_38}	${isNegative}		

Cluster_111  
	[Documentation]		POST on hypervisor-cluster-profile-profile - Make PortGroup parameter of HostConfig to false
	[Tags]		I305_F325		Positive	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	false
	Update networks	@{cls111_net_edit_1}
	Create cluster	${Cluster_111}	editNet=True	Net=${cls111_net_edit_2}
	Get cluster	${Cluster_111}
	Delete cluster	${Cluster_111}	${force}	editNet=True	Net=${cls111_net_edit_2}
	Update networks	@{cls111_net_edit_2}
	[Teardown]	run keywords	run keyword and return status	Update networks	@{cls111_net_edit_2}	AND		run keyword and return status	Delete cluster	${Cluster_111}	${force}
	

vCenter_38
	[Documentation]		Delete a hypervisor-manager from hypervisor-manager list when cluster-profiles are using it.
	[Tags] 	I305_F326		Negative 	
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	false
	${isNegative}=       Convert to boolean   true
	Register vcenter	${vCenter_38}
	Create Cluster	${vCenter_38_cluster}
	Get Cluster		${vCenter_38_cluster}
	${msg}		Set variable	Delete Hypervisor manager was successful while clusters are using it.
	Disconnect from vcenter	${vCenter_38}	${isNegative}	${msg}
	Delete cluster	${vCenter_38_cluster}
	Disconnect from vcenter	${vCenter_38}
	Get vcenter		${vCenter_38}	${isNegative}
	[Teardown] 	run keyword and return status	Delete cluster	vCenter_38	${force}	
	
vCenter_2
	[Documentation]		Register a vCenter by specifying wrong values for its hostname parameter  
	[Tags]	I305_F326		Negative		
	${validation}=	Convert to boolean	false
	${isNegative}	Convert to boolean	true
	${msg}	Set variable	vCenter registration was successful with wrong host name
	Register vcenter	${vCenter_2}	${validation}	${isNegative}	${msg}
vCenter_6
	[Documentation]		Register a vCenter by not specifying any of its  parameter in preferences  
	[Tags]	I305_F326		Negative
	${validation}=	Convert to boolean	false
	${isNegative}=	Convert to boolean   true
	${msg}	Set variable	vCenter registration was successful without distributed switch version parameter
	Register vcenter	${vCenter_6}	${validation}	${isNegative}	${msg}
	
vCenter_14
	[Documentation]		change the parameters of a hypervisor-manager by Passing its hypervisor-manager id  (resthypervisor-managers{id})  
	...		preferences virtualSwitchType,multiNicVMotion,distributedSwitchUsage,distributedSwitchVersion
	[Tags] 	I305_F326		Positive 	
	${validation}=       Convert to boolean   false
	Register vcenter	${vCenter_14}
	Update vcenter		${vCenter_14_update}
	Get vcenter			${vCenter_14_update}
	Disconnect from vcenter	${vCenter_14_update}

vCenter_16 
	[Documentation]		Register Vcenter by providing specific preferneces other than default
	[Tags] 	I305_F326		Positive 	
	${validation}=       Convert to boolean   true
	Register vcenter	${vCenter_16}
	Get vcenter		${vCenter_16}
	Disconnect from vcenter	${vCenter_16}

vCenter_17
	[Documentation]		Register Vcenter by providing specific preferneces other than default POST and PUT on Hypervisor manager.
	[Tags] 	I305_F326		Positive
	${validation}=       Convert to boolean   false
	Register vcenter	${vCenter_17}
	Update vcenter		${vCenter_17}
	Get vcenter			${vCenter_17}
	Disconnect from vcenter	${vCenter_17}
	
ICSPAltair_14
	[Documentation]		Delete a deployment-manager from deployment-manager list by Passing its id when OSBP presented by it is being used by a cluster profile 
	[Tags]	I305_F319 	Negative
	${validation}=       Convert to boolean   true
	${force}=	Convert to boolean   false
	Create cluster	${ICSP_14_cluster}
	${isNegative}=  Convert to boolean   true
	unregister deployment manager	${deployment_managers}	${force}		${isNegative}
	Delete cluster	${ICSP_14_cluster}

ICSPAltair_12
	[Documentation]	Delete a deployment-manager from deployment-manager list by Passing its id/name
	[Tags]	I305_F319		Positive	Sanity
	${validation}=	Convert to boolean	true
	Register Deployment manager		${deployment_managers}	${validation}
	unregister deployment manager	${deployment_managers}

ICSPAltair_4
	[Documentation]		Post on Deployment Manager by missing one of its mandatory parameter
	[Tags] 	I305_F319		Negative
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	Register Deployment manager		${ICSPAltair_4}	${validation}	${isNegative}

ICSPAltair_3
	[Documentation]		Post on Deployment Manager by specifying wrong user name and password
	[Tags] 	I305_F319		Negative
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	Register Deployment manager		${ICSPAltair_3}	${validation}	${isNegative}

ICSPAltair_2
	[Documentation]		Post on Deployment Manager by specifying wrong name
	[Tags] 	I305_F319		Negative
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	Register Deployment manager		${ICSPAltair_2}	${validation}	${isNegative}
	