*** Settings ***

Documentation    CHO Tests and verify clrm operation - 1

Library    						pabot.PabotLib
Library                         FusionLibrary
Library                         RoboGalaxyLibrary
Library                         OperatingSystem
Library                         BuiltIn
Library                         Collections
Library                         XML
Library                         String
Library                         json
Library							Process

Resource						../../../../Resources/api/fusion_api_resource.txt
Resource						../../support_files/clrm_common.txt
Variables 		    			../../data_variables_files/data_variables_withoutIppool_realhw_c7000_enc5.py
#Variables 		    			../../data_variables_files/data_variables_without_ippool.py
Library							../../support_files/clrm_support_functions.py
#Suite Setup                    Fusion Api Login Appliance	${Appliance}	${admin_credentials}
Suite Teardown					Fusion Api Logout Appliance


*** Variables ***

${Appliance}	10.0.100.1
${force}=		False
${validation}=	False

*** Test Cases ***


ICSPAltair_13
	
	[Documentation]	Force Delete a deployment-manager from deployment-manager list by Passing its id (restdeployment-managers{id})
	[Tags]	I305_F319	Positive
	[Setup]		run keyword	Fusion Api Login Appliance  ${Appliance}     ${admin_credentials}	
	${force}=	Convert to boolean	true
	${validation}=	Convert to boolean	true
	Register Deployment manager		${deployment_managers}	${validation}
	unregister deployment manager	${deployment_managers}

ICSPAltair_1
	[Documentation]	Register an ICSPAltair by specifying its parameters (restdeployment-managers)
	[Tags]	I305_F319	Positive
	${validation}	convert to boolean		True
	Register Deployment manager		${deployment_managers}	${validation}

cluster_30
	[Documentation]		POST on hypervisor-cluster-profiles to Add OR Create  more than  one Host (resthypervisor-clusters) by specifying all the parameters -  
	...		ServerHardwareUri, clusterUri, hypervisor manager uri, clusterSettings,hypervisor host template, hypervisor cluster volumes,shared volume URIs and IP Pools (local boot)
	[Tags]		I305_F321		Positive
	${force}=		Convert to boolean	False
	${validation}=	Convert to boolean	true
	Create cluster	${cluster_30}		${validation}
	${isNegative}=	Convert to boolean	true
	Delete cluster	${cluster_30}	${force}
	Get Cluster		${cluster_30}	${isNegative}	delete
	${force}=		Convert to boolean	true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_30}	${force}
	
vSwitch_01
	[Documentation]		Use default switch layout when adding cluster     
	[Tags]        I305_F325		Positive  
	${force}=		Convert to boolean   False
	${validation}=	Convert to boolean	true
	Create cluster	${vSwitch_01}		${validation}
	Get cluster	${vSwitch_01}
	Delete cluster	${vSwitch_01}	${force}
	${force}=		Convert to boolean	true
	[Teardown]	run keyword and return status	Delete cluster	${vSwitch_01}	${force}
	
Cluster_113
	[Documentation]	PUT on hypervisor-cluster-profiles to add and remove Host
	[Tags]		I305_F319		Positive
	${force}=		Convert to boolean   true
	${validation}=	Convert to boolean	true
	Create cluster	${cluster_113_v4}	${validation}
	Update cluster	${cluster_113_v4_update}	${validation}
	Get cluster	${cluster_113_v4_update}
	Delete cluster	${cluster_113_v4_update}	${force}
	
	Create cluster	${cluster_113_v5}	${validation}
	Update cluster	${cluster_113_v5_update}	${validation}
	Get cluster	${cluster_113_v5_update}
	Delete cluster	${cluster_113_v5_update}	${force}
	
	Create cluster	${cluster_113_v6}	${validation}
	Update cluster	${cluster_113_v6_update}	${validation}
	Get cluster	${cluster_113_v6_update}
	Delete cluster	${cluster_113_v6_update}	${force}
	
	Create cluster	${cluster_113_v1}	${validation}
	Update cluster	${cluster_113_v1_update}	${validation}
	Get cluster	${cluster_113_v1_update}
	Delete cluster	${cluster_113_v1_update}	${force}
	
	Create cluster	${cluster_113_v2}	${validation}
	Update cluster	${cluster_113_v2_update}	${validation}
	Get cluster	${cluster_113_v2_update}
	Delete cluster	${cluster_113_v2_update}	${force}
	
	Create cluster	${cluster_113_v3}	${validation}
	Update cluster	${cluster_113_v3_update}	${validation}
	Get cluster	${cluster_113_v3_update}
	Delete cluster	${cluster_113_v3_update}	${force}
	[Teardown]	run keywords	run keyword and return status	Delete cluster	${cluster_113_v4}	${force}	AND	run keyword and return status	Delete cluster	${cluster_113_v5}	${force}
	...	AND	run keyword and return status	Delete cluster	${cluster_113_v6}	${force}	AND	run keyword and return status	Delete cluster	${cluster_113_v1}	${force}
	...	AND	run keywords	run keyword and return status	Delete cluster	${cluster_113_v2}	${force}	AND	run keyword and return status	Delete cluster	${cluster_113_v3}	${force}


##Test cases Cluster_27 and Cluster_20 are paired
	
Cluster_27
	[Documentation]		POST on hypervisor-cluster-profile-profiles to Add OR Create a new Host (resthypervisor-cluster-profiles) by specifying all the parameters - 
	...		serverHardwareUri, hypervisorHostProfileUri,clusterUri, hostSettings   
	[Tags]		I305_F321		Positive
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	Create cluster	${cluster_27}	${validation}	
	Get Cluster	${cluster_27}
	#Delete cluster	${cluster_27}	${force}
	#${isNegative}=		Convert to boolean	true
	#Get Cluster	${cluster_27}	${isNegative}	delete
	#${force}=		Convert to boolean	true
	#[Teardown]	Delete cluster	${cluster_27}	${force}
	
Cluster_20  
	[Documentation]		Delete an existing cluster from cluster list with hosts and no VMs(resthypervisor-cluster{id}) (NO force delete option) 
	[Tags]		I305_F319		Positive
	${force}=		Convert to boolean	False
	#Create cluster	${cluster_27}
	Delete cluster	${cluster_27}	${force}
	${isNegative}=		Convert to boolean	true
	Get Cluster	${cluster_27}	${isNegative}	delete
	${force}=		Convert to boolean	true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_27}	${force}

Cluster_11
	[Documentation]		From any REST client, with session header, url, content header and all the other arguments to REST API as mentioned 
	...		in the REST API document and the correct etag, Update a cluster with a new Path      
	[Tags]		I305_F319		Negative  
	${validation}=		Convert to boolean   true
	${force}=			Convert to boolean   False
	${isNegative}=		Convert to boolean	true
	Create cluster	${cluster_11}	${validation}
	Update cluster	${cluster_11_update}	${validation}	${isNegative}
	Delete cluster	${cluster_11_update}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_11_update}	${force}
	
Cluster_129 
	[Documentation]		Default values for hypervisorClusterSettings attributes - drsEnabled and haEnabled     
	[Tags]        I305_F319		Positive  
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	False
	Create cluster	${cluster_129}	${validation}
	Delete cluster	${cluster_129}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_129}	${force}

Cluster_133 
	[Documentation]		Update a new hypervisor-cluster-profile-profile(resthypervisor-cluster-profiles) with following (non-default) 
	...		values for hypervisorClusterSettings attributes - drsEnabled =true and haEnabled=false
	...		Default values for hypervisorClusterSettings attributes - drsEnabled and haEnabled     
	[Tags]        I305_F319		Positive	Sanity  
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	False
	Create cluster	${cluster_133}	${validation}
	Update cluster	${cluster_133_update}	${validation}
	Delete cluster	${cluster_133_update}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_133_update}	${force}

Cluster_134
	[Documentation]		POST on hypervisor-cluster-profile-profiles to Add OR Create a new host,Make leaveHostInMaintenance parameter of HostConfig to true
	[Tags]		I305_F319		Positive	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	Create cluster	${cluster_134}	${validation}
	Get cluster		${cluster_134}
	Delete cluster	${cluster_134}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_134}	${force}
	
Cluster_135
	[Documentation]		POST on hypervisor-cluster-profile-profiles to Add OR Create a new host,Make leaveHostInMaintenance parameter of HostConfig to true
	[Tags]		I305_F319		Positive	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	Create cluster	${cluster_135}	${validation}
	Delete cluster	${cluster_135}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_135}	${force}
	
Cluster_136
	[Documentation]		POST on hypervisor-cluster-profile-profiles to Add OR Create a new host,Make leaveHostInMaintenance parameter of HostConfig to true
	[Tags]		I305_F319		Positive	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	Create cluster	${cluster_136}	${validation}
	Delete cluster	${cluster_136}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_136}	${force}

Cluster_18
	[Documentation]		Delete an existing cluster from cluster list with hosts 
	[Tags]		I305_F319		Positive
	${force}=		Convert to boolean  False
	${validation}=		Convert to boolean  true
	Create cluster	${cluster_18}	${validation}
	Delete cluster	${cluster_18}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_18}	${force}
	

Cluster_29
	[Documentation]      PUT on hypervisor-cluster-profiles to Add OR Create a new Host
	[Tags] 		I305_F321		Positive 
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	False
	Create cluster	${cluster_29}	${validation}
	Update cluster	${cluster_29_update}	${validation}
	Delete cluster	${cluster_29_update}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_29}	${force}
	
Hosts_04
	[Documentation]            Get the HypervisorHost by id      
	[Tags]		I305_F319		Positive
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	False
	${name}		Set variable	${Hosts_04[0]['name']}
	Create cluster	${Hosts_04}	${validation}
	Get Host Profile Uris From Cluster	${Hosts_04}
	Delete cluster	${Hosts_04}		${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Hosts_04}	${force}
	
Cluster_177
	[Documentation]      Create cluster with host, add host, delete host
	[Tags] 		I305_F319		Positive
	${force}=		Convert to boolean   False
	${validation}=       Convert to boolean   true
	Create cluster	${cluster_177}
	Update cluster	${cluster_177_update}
	Delete cluster	${cluster_177_update}		${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_177}	${force}
	
Cluster_178
	[Documentation]      Create cluster with host, add host, delete host
	[Tags] 		I305_F319		Positive 
	${force}=		Convert to boolean   False
	${validation}=	Convert to boolean	true
	Update networks	@{cls178_net_edit_1}
	Create cluster		${cluster_178}	${validation}
	Update Cluster		${cluster_178_update}	${validation}
	Delete cluster		${cluster_178_update}		${force}
	Update networks	@{cls178_net_edit_2}
	${force}=			Convert to boolean   true
	[Teardown]		run keywords	run keyword and return status	update networks	@{cls178_net_edit_2}	AND		run keyword and return status	Delete cluster	${cluster_178}	${force}
	
Cluster_179
	[Documentation]      Create cluster with host, add host, delete host
	[Tags] 		I305_F319		Positive 
	${force}=		Convert to boolean   False
	${validation}=	Convert to boolean	true
	Update networks	@{cls179_net_edit_1}
	Create cluster		${cluster_179}	${validation}
	Update Cluster		${cluster_179_update}	${validation}
	Get Cluster		${cluster_179_update}
	Delete cluster		${cluster_179_update}		${force}
	Update networks	@{cls179_net_edit_2}
	${force}=			Convert to boolean   true
	[Teardown]	run keywords	run keyword and return status	update networks	@{cls179_net_edit_2}	AND		run keyword and return status	Delete cluster	${cluster_179}	${force}
	
Cluster_14
	[Documentation]      Negative:Put on Hypervisor cluster profile to change SPT
	[Tags] 		I305_F319		Negative 	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	${isNegative}=	Convert to boolean	true
	Create cluster		${Cluster_14}	${validation}
	Update Cluster		${Cluster_14_update}	${validation}	${isNegative}
	Get Cluster		${Cluster_14_update}
	Delete cluster	${Cluster_14_update}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_14}	${force}
	
Cluster_180
	[Documentation]      Create cluster with host, add host, delete host
	[Tags]		I305_F319		Positive
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	False
	Create cluster		${Cluster_180}	${validation}
	Update Cluster		${Cluster_180_update}	${validation}
	Get Cluster		${Cluster_180_update}
	Delete cluster	${Cluster_180_update}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_180}	${force}
	
Cluster_181
	[Documentation]      Create cluster with host, add host, delete host
	[Tags]		I305_F319		Positive 	
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	False
	Update networks	@{cls181_net_edit_1}
	Create cluster		${Cluster_181}	${validation}
	Update cluster		${Cluster_181_update}	${validation}
	Get Cluster		${Cluster_181_update}
	Delete cluster	${Cluster_181_update}	${force}
	Update networks	@{cls181_net_edit_2}
	${force}=			Convert to boolean   true
	[Teardown]	run keywords	run keyword and return status	Update networks	@{cls181_net_edit_2}	AND	run keyword and return status	Delete cluster	${Cluster_181_update}	${force}
	
Cluster_182
	[Documentation]      Create cluster with host, add host, delete host
	[Tags]		I305_F319		Positive 	
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	False
	Update networks	@{cls182_net_edit_1}
	Create cluster	${Cluster_182}	${validation}
	Get Cluster		${Cluster_182}
	Update cluster		${Cluster_182_update}	${validation}
	Get Cluster		${Cluster_182_update}
	Delete cluster	${Cluster_182_update}	${force}
	Update networks	@{cls182_net_edit_2}
	${force}=			Convert to boolean   true
	[Teardown]	run keywords	run keyword and return status	Update networks	@{cls182_net_edit_2}	AND	run keyword and return status	Delete cluster	${Cluster_182_update}	${force}
	
Cluster_183
	[Documentation]		Create a new hypervisor-cluster-profile by Make "configure virtual switches" parameter of HostConfig to false (Default pref)
	[Tags]		I305_F319		Positive	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean   False
	Create cluster	${Cluster_183}	${validation}
	Get Cluster		${Cluster_183}
	Update cluster		${Cluster_183_update}	${validation}
	Get Cluster		${Cluster_183}
	Update cluster		${Cluster_183_update_1}		${validation}
	Delete cluster	${Cluster_183_update}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_183}	${force}
	
# Cluster_15 and vCenter_18 are paired
Cluster_15
	[Documentation]            Change the settings of a cluster by its cluster id   (Negative)   
	[Tags]        I305_F319		Negative 
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	Create cluster	${Cluster_15}	${validation}
	Update cluster		${Cluster_15_update}	${validation}	${isNegative}
	Get Cluster		${Cluster_15_update}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_15}	${force}
	
vCenter_18
	[Documentation]		PUT on vCenter when cluster and host are added 
	[Tags]		I305_F326		Positive	Sanity
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean  false
	Update vcenter		${vCenter_1_update}
	Delete cluster		${Cluster_15_update}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_18_update}	${force}
	
dvSwitch_05
	[Documentation]		POST cluster: Use distributed switch, General networks as VC pref, default cluster settings with multi NIC vMotion enabled
	[Tags]		I305_F325		Positive
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	false
	#Update vcenter	${vCenter_1_update}
	Create cluster	${dvSwitch_05}
	Update Cluster	${dvSwitch_05_update}
	${status}=		validate_vSwitch_connections		${dvSwitch_05}
   	Run Keyword If             '${status}'=='False'			run_keywords  Delete Cluster	${dvSwitch_05}	${force}        AND           FAIL		Failed to validate switches
	Delete Cluster	${dvSwitch_05_update}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${dvSwitch_05_update}	${force}
	
dvSwitch_06
	[Documentation]		POST cluster: Use distributed switch, General networks, multi NIC vMotion disabled as VC pref,  
	...		cluster settings with distributed switch, All networks, multi NIC vmotion enabled
	[Tags]		I305_F325		Positive	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	false
	Update networks	@{clsdvs6_net_edit_1}
	Update vcenter	${vCenter_1_update}
	Create cluster	${dvSwitch_06}
	Update Cluster	${dvSwitch_06_update}
	${status}=		validate_vSwitch_connections		${dvSwitch_06}
   	Run Keyword If             '${status}'=='False'			run_keywords  Delete Cluster	${dvSwitch_06}	${force}        AND           FAIL		Failed to validate switches
	Delete Cluster	${dvSwitch_06_update}	${force}
	Update networks	@{clsdvs6_net_edit_2}
	${force}=			Convert to boolean   true
	[Teardown]	run keywords	run keyword and return status	Update networks	@{clsdvs6_net_edit_2}	AND	run keyword and return status	Delete cluster	${dvSwitch_06_update}	${force}
	
vSwitch_09
	[Documentation]		Use standard switch when adding cluster with multi vNic when VC pref is set to distributed   
	[Tags]		I305_F325		Positive	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean  false
	Create cluster	${vSwitch_09}
	Update Cluster	${vSwitch_09_update}
	${status}=		validate_vSwitch_connections		${vSwitch_09}
   	Run Keyword If             '${status}'=='False'			run_keywords  Delete Cluster	${vSwitch_09}	${force}        AND           FAIL		Failed to validate switches
	Get cluster		${vSwitch_09_update}
	Delete Cluster	${vSwitch_09_update}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${vSwitch_09_update}	${force}
	
vSwitch_08
	[Documentation]		Use default VC pref, default cluster settings with multi NIC vMotion enabled when adding cluster   
	[Tags]		I305_F325		Positive	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean  false
	Create cluster	${vSwitch_08}
	Update Cluster	${vSwitch_08_update}
	${status}=		validate_vSwitch_connections		${vSwitch_08}
   	Run Keyword If             '${status}'=='False'			run_keywords  Delete Cluster	${vSwitch_08}	${force}        AND           FAIL		Failed to validate switches 
	Get cluster		${vSwitch_08_update}
	Delete Cluster	${vSwitch_08_update}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${vSwitch_08_update}	${force}
	
dvSwitch_07
	[Documentation]		Use standard switch, multi NIC vMotion disabled as VC pref,  cluster settings with distributed switch, 
	...		All networks, multi NIC vmotion enabled (No nic teaming)   
	[Tags]		I305_F325		Positive	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean  false
	Update networks	@{clsdvs7_net_edit_1}
	Create cluster	${dvSwitch_07}
	Update Cluster	${dvSwitch_07_update}
	${status}=		validate_vSwitch_connections		${dvSwitch_07}
   	Run Keyword If             '${status}'=='False'			run_keywords  Delete Cluster	${dvSwitch_07}	${force}        AND           FAIL		Failed to validate switches 
	Get cluster		${dvSwitch_07_update}
	Delete Cluster	${dvSwitch_07_update}	${force}
	Update networks	@{clsdvs7_net_edit_2}
	${force}=			Convert to boolean   true
	[Teardown]	run keywords	run keyword and return status	Update networks	@{clsdvs7_net_edit_2}	AND		run keyword and return status	Delete cluster	${dvSwitch_07_update}	${force}

Hosts_06 
	[Documentation]		Do an update on the hostprofile to redeploy OS on the host
	[Tags]		I305_F319		Positive	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	Create cluster	${Host_06}		${validation}
	${resp}=	Update host profile		${Host_06_update}
	Status check	${resp}		update host profile		name=Host_06
	Delete cluster	${Host_06_update}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Host_06_update}	${force}
	
Cluster_91
	[Documentation]	PUT on hypervisor-cluster-profiles with deployment plan uri
	[Tags]		I305_F319		Positive	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean   False
	Create cluster	${Cluster_91}	${validation}
	Update cluster		${Cluster_91_update}	${validation}
	Delete cluster	${Cluster_91_update}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_91_update}	${force}
	
Cluster_92
	[Documentation]	PUT on hypervisor-cluster-profiles with deployment plan uri
	[Tags]		I305_F319		Positive
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean   False
	Create cluster	${Cluster_92}	${validation}
	Update cluster		${Cluster_92_update}	${validation}
	Delete cluster	${Cluster_92_update}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_92_update}	${force}
	
Cluster_4
	[Documentation]		POST on hypervisor-cluster-profile-profiles with host, with "NULL" value for IP pools
	[Tags]		I305_F319		Negative	N\\A
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	Create cluster	${Cluster_4}	${validation}	${isNegative}
	Get cluster		${Cluster_4}	${isNegative}
	Delete cluster	${Cluster_4}	isNegative=${isNegative}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_4}	${force}
Cluster_40
	[Documentation]		POST on hypervisor-cluster-profile-profiles with host, with invalid values for cluster settings
	[Tags]		I305_F319		Negative
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	Create cluster	${Cluster_40}	${validation}	${isNegative}
	Get cluster	${Cluster_40}	${isNegative}
	Delete cluster	${Cluster_40}	isNegative=${isNegative}

Cluster_41
	[Documentation]		Create a new hypervisor-cluster-profile without SPT uri
	[Tags]		I305_F319 	Negative
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	${msg}	Set variable	Cluster creation was successful without SPT
	Create cluster	${Cluster_41}	${validation}	${isNegative}	${msg}
	
Cluster_42
	[Documentation]		Create a new hypervisor-cluster-profile without deploymentPlanUri
	[Tags]		I305_F319 	Negative
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	${msg}	Set variable	Cluster creation was successful without deployment plan 
	Create Cluster	${Cluster_42}	${validation}	${isNegative}	msg=${msg}
	
Cluster_5
	[Documentation]		Create a new hypervisor-cluster-profile by passing null for server hardware
	[Tags]		I305_F319 	Negative
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	${msg}	Set variable	Cluster creation successful with NULL server hardware uri
	Create Cluster	${Cluster_5}	${validation}	${isNegative}	${msg}

Cluster_50
	[Documentation]		Create a new hypervisor-cluster-profile by wrong deploymentPlanUri
	[Tags]		I305_F319 	Negative
	${validation}=	Convert to boolean	true
	${isNegative}=	Convert to boolean	true
	${msg}	Set variable	Cluster creation was successful with wrong deployment plan
	Create cluster	${cluster_50}	${validation}	${isNegative}	${msg}
	
Cluster_12
	[Documentation]		Change the hypervisorHostProfile template attribute of a cluster by its cluster id - serverProfileTemplate, when NO HOST is Added
	[Tags]		I305_F319 	Positive
	${validation}=       Convert to boolean   true
	${isNegative}=	Convert to boolean	false
	${force}=	Convert to boolean   False
	Create cluster	${cluster_12}	${validation}
	${msg}	Set variable	Cluster update failed for different SPT
	Update cluster	${Cluster_12_update}	${validation}	${isNegative}	msg=${msg}
	Delete cluster	${Cluster_12_update}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_12_update}	${force}
	
Cluster_173
	[Documentation]		Create a hypervisor cluster profile with the same name as already existing hypervisor cluster profile
	[Tags]		I305_F319 	Negative
	${validation}=       Convert to boolean   true
	${force}=	Convert to boolean   False
	${isNegative}=	Convert to boolean	true
	Create cluster	${cluster_173}	${validation}
	Create cluster	${Cluster_173}	${validation}	${isNegative}
	Delete cluster	${Cluster_173}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_173}	${force}
	
Cluster_184
	[Documentation]		Try to do a put on cluster profile to change the prefix
	[Tags]		I305_F319 	Positive
	${validation}=       Convert to boolean   true
	${isNegative}=	Convert to boolean	false
	${force}=	Convert to boolean   False
	Create cluster 	${Cluster_184}	${validation}
	${msg}	Set variable	Cluster update failed to change host-prefix
	Update cluster	${Cluster_184_update}	${validation}	${isNegative}	msg=${msg}
	Delete cluster	${Cluster_184_update}	${force}	
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_184_update}	${force}
	
Cluster_193
	[Documentation]		Post on cluster profile without ip-pools
	[Tags]		I305_F319 	Negative	N\\A
	${validation}=       Convert to boolean   true
	${force}=	Convert to boolean   False
	${isNegative}=	Convert to boolean	true
	${msg}	Set variable	Cluster creation was successful without ip-pools
	Create cluster	${Cluster_193}	${validation}	${isNegative}	msg=${msg}
	
Cluster_6
	[Documentation]		Create a new hypervisor-cluster-profile by Passing wrong values for any of the mandatory / optional attributes 
	[Tags]		I305_F319 	Negative
	${validation}=       Convert to boolean   true
	${force}=	Convert to boolean   False
	${msg}	Set variable	Cluster creation was successful with wrong virtualSwitchType
	${isNegative}=	Convert to boolean	true
	Create cluster	${Cluster_6}	${validation}	${isNegative}	msg=${msg}
	
Cluster_21
	[Documentation]		Normal Delete cluster profile with host (shutdown mode)
	[Tags]		I305_F319		Positive
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	false
	Create cluster	${Cluster_21}	${validation}
	${resp}=	Update host profile		${Cluster_21_update}
	Status check	${resp}		update host profile		name=Cluster_21
	Delete cluster	${Cluster_21_update}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_21_update}	${force}
	
Cluster_140 
	[Documentation]		Update on the host profile to change the power state :ON-->Off-->ON
	[Tags]		I305_F319		Positive
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	Create cluster	${Cluster_140}	${validation}
	${resp}=	Update host profile		${Cluster_140_update_1}
	Status check	${resp}		update host profile		name=Cluster_140
	${resp}=	Update host profile		${Cluster_140_update_2}
	Status check	${resp}		update host profile		name=Cluster_140
	${resp}=	Update host profile		${Cluster_140_update_3}
	Status check	${resp}		update host profile		name=Cluster_140
	Delete Cluster	${cluster_140}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_140}	${force}
	
Cluster_141 
	[Documentation]		Update on the host profile to change the power state :On-->Leave in Maintenance-->exit maintenance-->Off  
	[Tags]		I305_F319		Positive	Sanity
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	False
	Create cluster	${Cluster_141}	${validation}
	${resp}=	Update host profile		${Cluster_141_update_1}
	Status check	${resp}		update host profile		name=Cluster_141
	${resp}=	Update host profile		${Cluster_141_update_2}
	Status check	${resp}		update host profile		name=Cluster_141
	${resp}=	Update host profile		${Cluster_141_update_3}
	Status check	${resp}		update host profile		name=Cluster_141
	${resp}=	Update host profile		${Cluster_141_update_4}
	Status check	${resp}		update host profile		name=Cluster_141	
	Delete Cluster	${cluster_141}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_141}	${force}
	
vCenter_34 
	[Documentation]      Add cluster with host (POST)
	[Tags] 	I305_F326		Positive 	
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	false
	Create cluster	${vCenter_34_cluster}
	delete cluster	${vCenter_34_cluster}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${vCenter_34_cluster}	${force}
	
vCenter_35 
	[Documentation]      PUT cluster to delete host
	[Tags] 	I305_F326		Positive 	
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	false
	Create cluster	${vCenter_35_cluster}
	update cluster	${vCenter_35_cluster_update}
	delete cluster	${vCenter_35_cluster}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${vCenter_35_cluster}	${force}
	
vCenter_36 
	[Documentation]      PUT cluster to add host
	[Tags] 	I305_F326		Positive 	
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	false
	Create cluster	${vCenter_36_cluster}
	update cluster	${vCenter_36_cluster}
	delete cluster	${vCenter_36_cluster}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${vCenter_34_cluster}	${force}
	
vCenter_10 
	[Documentation]      Unregister Hypervisor manager when clusters are created on the same
	[Tags] 	I305_F326		Positive 	
	${validation}=       Convert to boolean   true
	${force}=		Convert to boolean	false
	${isNegative}=       Convert to boolean   true
	Register vcenter	${vCenter_10}
	Create Cluster	${vCenter_10_cluster}
	Disconnect from vcenter		${vCenter_10}	${isNegative}
	Delete Cluster	${vCenter_10_cluster}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${vCenter_10_cluster}	${force}
	
vCenter_15
	[Documentation]            Delete a hypervisor-manager from hypervisor-manager list by Passing its id and etag version
	[Tags] 	I305_F326		Positive	Sanity
	#${validation}=       Convert to boolean   true
	#Register vcenter	${vCenter_1}
	Disconnect from vcenter	${vCenter_1}

cluster_46
	[Documentation]		POST on hypervisor-cluster-profiles to add a host when distributed switch version in vCenter preferences is set as lower than the default ESX version 
	[Tags]	I305_F325 	Positive
	${validation}=       Convert to boolean   true
	${force}=	Convert to boolean   false
	Update networks	@{cls46_net_edit_1}
	Register vcenter	${Cluster_vc_46}
	Create cluster	${Cluster_46}	editNet=True	Net=${cls46_net_edit_2}
	Delete cluster	${Cluster_46}	${force}	editNet=True	Net=${cls46_net_edit_2}
	Update networks	@{cls46_net_edit_2}
	Disconnect from vcenter		${Cluster_vc_46}
	${force}=			Convert to boolean   true
	[Teardown]	run keywords	run keyword and return status	Update networks	@{cls46_net_edit_2}	AND	run keyword and return status	Delete cluster	${Cluster_46}	${force}	AND	run keyword and return status	Disconnect from vcenter		${Cluster_vc_46}
	
Cluster_47
	[Documentation]		POST on cluster-profiles to add a host when distributed switch version in vCenter preferences is set as higher than the default ESX version. 
	[Tags]	I305_F325 	Positive
	${validation}=       Convert to boolean   true
	${force}=	Convert to boolean    false
	Update networks	@{cls47_net_edit_1}
	Register vcenter	${Cluster_vc_47}
	Create cluster	${Cluster_47}	editNet=True	Net=${cls47_net_edit_2}
	Delete cluster	${Cluster_47}	${force}	editNet=True	Net=${cls47_net_edit_2}
	Update networks	@{cls47_net_edit_2}
	Disconnect from vcenter		${Cluster_vc_47}
	${force}=			Convert to boolean   true
	[Teardown]	run keywords	run keyword and return status	Update networks	@{cls47_net_edit_2}	AND	run keyword and return status	Delete cluster	${Cluster_47}	${force}	AND	run keyword and return status		Disconnect from vcenter		${Cluster_vc_47}
	
Cluster_48
	[Documentation]		POST on hypervisor-cluster-profiles to add a host when distributed switch usage in vCenter Preferences is set as ALL NETWORKS 
	[Tags]	I305_F325 	Positive
	${validation}=       Convert to boolean   true
	${force}=	Convert to boolean   false
	Update networks	@{cls48_net_edit_1}
	Register vcenter	${Cluster_vc_48}
	Create cluster	${Cluster_48}	editNet=True	Net=${cls48_net_edit_2}
	Delete cluster	${Cluster_48}	${force}	editNet=True	Net=${cls48_net_edit_2}
	Update networks	@{cls48_net_edit_2}
	Disconnect from vcenter		${Cluster_vc_48}
	${force}=			Convert to boolean   true
	[Teardown]	run keywords	run keyword and return status	Update networks	@{cls48_net_edit_2}	AND	run keyword and return status	Delete cluster	${Cluster_48}	${force}	AND	run keyword and return status 	Disconnect from vcenter		${Cluster_vc_48}
	

Cluster_49
	[Documentation]		POST on hypervisor-cluster-profiles to add a host when distributed switch usage in vCenter Prefernces is set as ALL NETWORKS 
	[Tags]	I305_F325 	Positive
	${validation}=       Convert to boolean   true
	${force}=	Convert to boolean   false
	Update networks	@{cls49_net_edit_1}
	Register vcenter	${Cluster_vc_49}
	Create cluster	${Cluster_49}	editNet=True	Net=${cls49_net_edit_2}
	Update cluster	${Cluster_49}	editNet=True	Net=${cls49_net_edit_2}
	Delete cluster	${Cluster_49}	editNet=True	Net=${cls49_net_edit_2}
	Update networks	@{cls49_net_edit_2}
	Disconnect from vcenter		${Cluster_vc_49}
	${force}=			Convert to boolean   true
	[Teardown]	run keywords	run keyword and return status	Update networks	@{cls49_net_edit_2}	AND	run keyword and return status	Delete cluster	${Cluster_vc_49}	${force}	AND	run keyword and return status	Disconnect from vcenter		${Cluster_vc_49}
	
vCenter_3
	[Documentation]		Register a vCenter by specifying wrong values for its username parameter  
	[Tags]	I305_F326		Negative
	${validation}=	Convert to boolean	false
	${isNegative}	Convert to boolean	true
	${msg}	Set variable	vCenter registration was successful with wrong username
	Register vcenter	${vCenter_3}	${validation}	${isNegative}	${msg}
	
vCenter_4
	[Documentation]		Register a vCenter by specifying wrong values for its password parameter  
	[Tags]	I305_F326		Negative
	${validation}=	Convert to boolean	false
	${isNegative}	Convert to boolean	true
	${msg}	Set variable	vCenter registration was successful with wrong password
	Register vcenter	${vCenter_4}	${validation}	${isNegative}	${msg}

vCenter_5
	[Documentation]		Register a vCenter by not specifying any of its mandatory parameter  
	[Tags]	I305_F326		Negative
	${validation}=	Convert to boolean	false
	${isNegative}	Convert to boolean	true
	${msg}	Set variable	vCenter registration was successful without host name
	Register vcenter	${vCenter_5}	${validation}	${isNegative}	${msg}

vCenter_46
	[Documentation]		Register a vCenter by specifying invalid values for hypervisorType parameter 
	[Tags]	I305_F326		Negative
	${validation}=	Convert to boolean	false
	${isNegative}	Convert to boolean	true
	${msg}	Set variable	vCenter registration was successful with invalid hypervisorType
	Register vcenter	${vCenter_46}	${validation}	${isNegative}	${msg}

Cluster_103  
	[Documentation]		POST on hypervisor-cluster-profile-profiles to Add OR Create a new host by specifying all mandatory parameters, 
	...		to add a host. Make PortGroup parameter of HostConfig to false (Default Pref)
	[Tags]		I305_F325		Positive	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	false
	Create cluster	${cluster_103}
	Get cluster		${cluster_103}
	${status}=	validate_virtual_switch_config_policy	${cluster_103[0]['name']}
	Run Keyword If             '${status}'=='False'		run_keywords  Delete Cluster	${cluster_103}	${force}        AND           FAIL		Failed in validation of host_configPolicy
	Delete cluster	${cluster_103}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${cluster_103}	${force}
	
Cluster_104
	[Documentation]		POST on hypervisor-cluster-profile-profiles to Add OR Create a new host by specifying all mandatory parameters, 
	...		to add a host. Make PortGroup parameter of HostConfig to false (VDS as pref, All networks)
	[Tags]		I305_F325		Positive	
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	false
	Create cluster	${Cluster_104}
	Get cluster		${Cluster_104}
	${status}=	validate_virtual_switch_config_policy	${Cluster_104[0]['name']}
	Run Keyword If             '${status}'=='False'		run_keywords  Delete Cluster	${Cluster_104}	${force}        AND           FAIL		Failed in validation of host_configPolicy
	Delete cluster	${Cluster_104}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_104}	${force}
	
Cluster_105
	[Documentation]		Create a new hypervisor-cluster-profile by Make "configure virtual switches" parameter of HostConfig to false (Default pref)
	[Tags]		I305_F325		Positive
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	false
	Create cluster	${Cluster_105}
	Get cluster		${Cluster_105}
	${status}=	validate_virtual_switch_config_policy	${Cluster_105[0]['name']}
	Run Keyword If             '${status}'=='False'		run_keywords  Delete Cluster	${Cluster_105}	${force}        AND           FAIL		Failed in validation of host_configPolicy
	Delete cluster	${Cluster_105}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster	${Cluster_105}	${force}
	
Cluster_106
	[Documentation]		Create a new hypervisor-cluster-profile by Make "configure virtual switches" parameter of HostConfig to false (VDS as pref, General networks)
	[Tags]		I305_F325		Positive
	${validation}=	Convert to boolean	true
	${force}=		Convert to boolean	false
	Create cluster	${Cluster_106}
	Get cluster		${Cluster_106}
	${status}=	validate_virtual_switch_config_policy	${Cluster_106[0]['name']}
	Run Keyword If             '${status}'=='False'		run_keywords  Delete Cluster	${Cluster_106}	${force}        AND           FAIL		Failed in validation of host_configPolicy
	Delete cluster	${Cluster_106}	${force}
	${force}=			Convert to boolean   true
	[Teardown]	run keyword and return status	Delete cluster		${Cluster_106}	${force}
	
ICSPAltair_5
	[Documentation]	 Retrieve the list of all the  deployment-managers(restdeployment-managers)
	[Tags]	I305_F319		Positive
	${validation}=	Convert to boolean	true
	#Register Deployment manager		${deployment_managers}	${validation}
	${dms}	Get all Deployment Managers
	Log to console	\n****Deployment manager details****\n${dms}
	#unregister deployment manager	${deployment_managers}

ICSPAltair_6
	[Documentation]	Retrieve particular deployment-manager by its deploment-manager id/name
	[Tags]	I305_F319		Positive
	${validation}=	Convert to boolean	true
	#Register Deployment manager		${deployment_managers}	${validation}
	Get deployment managers		${deployment_managers}
	#unregister deployment manager	${deployment_managers}

ICSPAltair_7
	[Documentation]            Request the details of a deployment-manager by Passing invalid url
	[Tags]	I305_F319 	Negative
	${validation}=       Convert to boolean   true
	${url}=       Set Variable  None
	${url1} =     Set Variable  123
	${url}	Get Deployment Manager URI		${deployment_managers[0]['name']}
	run keyword if	'${url}'=='${EMPTY}'	FAIL	Failed to get deployment manager
	${new_url}=		Catenate	${url}${url1}
	Log				${new_url}
	${resp}		Get Deployment Manager by URI	${new_url}
	${msg}	Set variable	Deployment manager exists for wrong url
	run keyword if	'${resp}'!='${EMPTY}'	FAIL	${msg}
	