*** Settings ***

Documentation    Extra Test and verify clrm operation

Library                         FusionLibrary
Library                         RoboGalaxyLibrary
Library                         OperatingSystem
Library                         BuiltIn
Library                         Collections
Library                         XML
Library                         String
Library                         json
Library							Process

Resource						../../../../Resources/api/fusion_api_resource.txt
Resource						../support_files/clrm_common.txt
Variables 		    			../data_variables_files/data_variables.py
Library							../support_files/clrm_support_functions.py
#Suite Setup                     run keywords	Fusion Api Login Appliance	${Appliance}	${admin_credentials}
Suite Teardown					Fusion Api Logout Appliance


*** Variables ***

${Appliance}	15.212.173.98
${force}=		False

*** Test Cases ***

ICSPAltair_13
	Fusion Api Login Appliance	${Appliance}	${admin_credentials}
	clean up
	[Documentation]	Force Delete a deployment-manager from deployment-manager list by Passing its id (restdeployment-managers{id})
	[Tags]	I305_F319	Positive
	${force}=	Convert to boolean	true
	${validation}=	Convert to boolean	true
	Register Deployment manager		${deployment_managers}	${validation}
	unregister deployment manager	${deployment_managers}

ICSPAltair_1
	[Documentation]	Register an ICSPAltair by specifying its parameters (restdeployment-managers)
	[Tags]	I305_F319	Positive
	${validation}	convert to boolean		True
	Register Deployment manager		${deployment_managers}	${validation}

vCenter_1
	[Documentation]     From any REST client, with session header, url, content header and all the other arguments to REST API as mentioned in the REST API document, 
	...		Register a new vCenter with specified details type, hostname, username, Password, port, version
	[Tags]	I305_F326 	Positive	Sanity
	${validation}=	Convert to boolean	true
	Register vcenter	${vCenter_1}	${validation}
	Get vcenter		${vCenter_1}
	#Disconnect from vcenter		${vCenter_1}

Cluster_10
	[Documentation]            Change the name attribute of a cluster by its cluster id      
	[Tags]        I305_F319              Positive
	${force}=		Convert to boolean   False
	${validation}=	Convert to boolean   True
	Create cluster	${cluster_10}	${validation}
	Update cluster	${cluster_10_update}	${validation}
	Get cluster	${cluster_10_update}
	Delete cluster	${cluster_10_update}	${force}

cluster_30
	[Documentation]		POST on hypervisor-cluster-profiles to Add OR Create  more than  one Host (resthypervisor-clusters) by specifying all the parameters -  
	...		ServerHardwareUri, clusterUri, hypervisor manager uri, clusterSettings,hypervisor host template, hypervisor cluster volumes,shared volume URIs and IP Pools (local boot)
	[Tags]		I305_F321		Positive
	${force}=		Convert to boolean	False
	${validation}=	Convert to boolean	true
	Create cluster	${cluster_30}		${validation}
	${isNegative}=	Convert to boolean	true
	Delete cluster	${cluster_30}	${force}
	Get Cluster		${cluster_30}	${isNegative}	delete

vSwitch_01
	[Documentation]		Use default switch layout when adding cluster     
	[Tags]        I305_F325		Positive  
	${force}=		Convert to boolean   False
	${validation}=	Convert to boolean	true
	Create cluster	${vSwitch_01}		${validation}
	Get cluster	${vSwitch_01}
	Delete cluster	${vSwitch_01}	${force}

vSwitch_03
	[Documentation]		Use default switch layout when adding cluster     
	[Tags]        I305_F325		Positive
	${force}=		Convert to boolean   False
	${validation}=	Convert to boolean	true
	Create cluster	${vSwitch_03}		${validation}
	Get cluster	${vSwitch_03}
	Delete cluster	${vSwitch_03}	${force}	

vSwitch_04
	[Documentation]		Use default switch layout when adding cluster
	[Tags]        I305_F325		Positive
	${force}=		Convert to boolean   False
	${validation}=	Convert to boolean	true
	Create cluster	${vSwitch_04}		${validation}
	Get cluster	${vSwitch_04}
	Delete cluster	${vSwitch_04}	${force}

dvSwitch_01
	[Documentation]		Use distributed switch layout when adding cluster     
	[Tags]        I305_F325		Positive
	${force}=		Convert to boolean   False
	${validation}=	Convert to boolean	true
	Create cluster	${dvSwitch_01}			${validation}
	Get cluster	${dvSwitch_01}
	Delete cluster	${dvSwitch_01}	${force}

Cluster_113
	[Documentation]	PUT on hypervisor-cluster-profiles to add and remove Host
	[Tags]		I305_F319		Positive
	${force}=		Convert to boolean   False
	${validation}=	Convert to boolean	true
	Create cluster	${cluster_113_v4}	${validation}
	Update cluster	${cluster_113_v4_update}	${validation}
	Get cluster	${cluster_113_v4_update}
	Delete cluster	${cluster_113_v4_update}	${force}
	
	Create cluster	${cluster_113_v5}	${validation}
	Update cluster	${cluster_113_v5_update}	${validation}
	Get cluster	${cluster_113_v5_update}
	Delete cluster	${cluster_113_v5_update}	${force}
	
	Create cluster	${cluster_113_v6}	${validation}
	Update cluster	${cluster_113_v6_update}	${validation}
	Get cluster	${cluster_113_v6_update}
	Delete cluster	${cluster_113_v6_update}	${force}
	
	Create cluster	${cluster_113_v1}	${validation}
	Update cluster	${cluster_113_v1_update}	${validation}
	Get cluster	${cluster_113_v1_update}
	Delete cluster	${cluster_113_v1_update}	${force}
	
	Create cluster	${cluster_113_v2}	${validation}
	Update cluster	${cluster_113_v2_update}	${validation}
	Get cluster	${cluster_113_v2_update}
	Delete cluster	${cluster_113_v2_update}	${force}
	
	Create cluster	${cluster_113_v3}	${validation}
	Update cluster	${cluster_113_v3_update}	${validation}
	Get cluster	${cluster_113_v3_update}
	Delete cluster	${cluster_113_v3_update}	${force}
