*** Settings ***
Documentation        setting Environment setup for iscsi tests
Variables                       ovf1025.py
Resource             ../../../../Resources/api/fusion_api_resource.txt
Resource             ../../support_files/clrm_common.txt
Resource             ../../support_files/Deployment_Utils.robot

*** Variables ***
${X-Api-Version}         1000


*** Test Cases ***
Add Storage System
    [Documentation]    Add Storage System
    Fusion Api Login Appliance    ${APPLIANCE_IP}    ${admin_credentials}
    Sleep    5 seconds
    Add Storage Systems Async    ${storage_systems}

Edit Storage Systems
    [Documentation]    Edit Storage Systems
    Sleep    15 seconds
    set log level    TRACE
    Edit Storage Systems Async    ${update_storage_systems}

Add Storage Pool
    [Documentation]    Add Storage Pool
    Sleep    15 seconds
    Edit Storage Pools Async    ${storage_pools}

Add Storage Volumes
    [Documentation]    Add Storage Volumes
    Sleep    15 seconds
    set log level    TRACE
    Add Storage Volumes Async    ${storage_volumes}

Add Server Profile Templates
    [Documentation]    Add Server Profile Templates
    ${resp_list}=    Add Non Existing Server Profile Templates    ${server_profile_templates}
    wait for task2    ${resp_list}    timeout=3m    interval=1m    errorMessage=Creation of SPT failed

Add Hypervisor Managers
    [Documentation]   Adds Hyperviosr manager
    Import Certificate to OV    ${vCenterIp}       ${APPLIANCE_IP}    ${admin_credentials}        ${vCenterIp}
    ${resp}=     Add Hypervisor Manager    ${vcenter}

