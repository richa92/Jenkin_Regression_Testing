*** Settings ***
Documentation		Test case to verify profile creation/deletion with non permanent volume
Resource			../resource.txt
Suite Setup			Run Suite Setup
Suite Teardown		Logout and Close Window

*** Variables ***
${DataFile}		./test_data.xml

*** Test Cases ***
Test 1: Create Server Profile with Non Permanent Volume
	${profile_create_msgs}=		Fusion UI Create San Storage Profile		@{TestData.profilewithsanstorage}
	Log		${profile_create_msgs}
	Should Be Empty		${profile_create_msgs}
	Fusion UI Verify Volume Configuration for Profile		Profile_with_SAN  @{TestData.volumesbeforeprofileedits}
	Get Clean Slate

Test 2: Delete the Volume from the previous profile
	${profile_edit_msgs}=		Fusion UI Edit San Storage Profile		@{TestData.profilewithsanstorageedit1}
	Log		${profile_edit_msgs}
	Should Be Empty		${profile_edit_msgs}
	Fusion UI Verify Volume Configuration for Profile 		Profile_with_SAN  @{TestData.volumesafterprofileedit1}
	Fusion UI Pmsan Verify Volume Section of Fusion			@{TestData.volumesafterprofileedit1_}
	Get Clean Slate

Test 3: Add a non permanent, and permanent volume to the previous profile
	${profile_edit_msgs}=		Fusion UI Edit San Storage Profile		@{TestData.profilewithsanstorageedit2}
	Log		${profile_edit_msgs}
	Should Be Empty		${profile_edit_msgs}
	Fusion UI Verify Volume Configuration for profile		Profile_with_SAN  @{TestData.volumesafterprofileedit2}
	Fusion UI Pmsan Verify Volume Section of Fusion			@{TestData.volumesafterprofileedit2_}
	Get Clean Slate

Test 4: Delete the profile and check the volume section of fusion
	Fusion UI Delete Pmsan Server Profile			@{TestData.deletedprofiles}
	Fusion UI Pmsan Verify Volume Section of Fusion			@{TestData.volumesafterprofiledeletion}
	Fusion UI Delete All Storage Volumes