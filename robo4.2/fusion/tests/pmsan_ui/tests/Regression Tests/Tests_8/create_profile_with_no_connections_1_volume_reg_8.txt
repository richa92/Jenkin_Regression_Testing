*** Settings ***
Documentation			This test will create a profile with no connections, and add a volume. Then add a connection and edit the volume
Resource				../resource.txt
Suite Setup				Run Suite Setup
Suite Teardown			Logout and Close Window

*** Variables ***
${DataFile}			./test_data.xml

*** Test Cases ***
Test 1: Create a profile with no connections and no volumes
	Fusion UI Create Storage Volumes				@{TestData.storagevolume}
	${profile_create_msgs}=		Fusion UI Create San Storage Profile			@{TestData.profiles}
	Log		${profile_create_msgs}
	Should Be Empty		${profile_create_msgs}
	Get Clean Slate

Test 2: Edit the profile and add an existing volume
	${profile_edit_msgs}=		Fusion UI Edit San Storage Profile				@{TestData.editprofiles}
	Log		${profile_edit_msgs}
	Should Not Be Empty		${profile_edit_msgs}
	Fusion UI Verify Volume Configuration For Profile		profile_with_no_connections  @{TestData.volumes_edit_1}
	Get Clean Slate

Test 3: Edit the profile and add a connection. Edit the volume as well
	${profile_edit_msgs}=	Fusion UI Edit San Storage Profile				@{TestData.editprofiles2}
	Log		${profile_edit_msgs}
	Should Be Empty		${profile_edit_msgs}
	Fusion UI Verify Volume Configuration For Profile		profile_with_no_connections  @{TestData.volumes_edit_2}
	Get Clean Slate

Test 4: Delete the profile
	Fusion UI Delete Pmsan Server Profile			@{TestData.deleteprofiles}
	Fusion UI Delete All Storage Volumes