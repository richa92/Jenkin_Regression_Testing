*** Settings ***
Documentation			This test will create a profile with 2 permanent, 2 non permanent volumes, delete the profile and validate the volumes
Resource				../resource.txt
Suite Setup				Run Suite Setup
Suite Teardown			Logout and Close Window

*** Variables ***
${DataFile}		./test_data.xml

*** Test Cases ***
Test 1: Create a Profile with 4 volumes, 2 permanent, 2 ephemeral
	Fusion UI Create Storage Volumes			@{TestData.storagevolume}
	${profile_create_msgs}=		Fusion UI Create San Storage Profile		@{TestData.profiles}
	Log		${profile_create_msgs}
	Should Not Be Empty		${profile_create_msgs}
	Get Clean Slate

Test 2: Edit Profile's volumes storage target ports and verify
	${profile_edit_msgs}=		Fusion UI Edit San Storage Profile			@{TestData.editprofiles}
	Log		${profile_edit_msgs}
	Should Not Be Empty		${profile_edit_msgs}
	Fusion UI Verify Volume Configuration for Profile			professor_profile  @{TestData.volumes}
	Get Clean Slate

Test 3: Delete profile and verify the correct volumes remain
	Fusion UI Delete Pmsan Server Profile		@{TestData.deleteprofiles}
	Fusion UI Pmsan Verify Volume Section of Fusion			@{TestData.volumesafterdelete}
	Fusion UI Delete All Storage Volumes