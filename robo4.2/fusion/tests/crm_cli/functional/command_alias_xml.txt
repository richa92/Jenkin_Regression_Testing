*** Settings ***
Documentation     Test Comware Command Alias - US30876 
...    Using XML file
...    = Usage =
...    | pybot | -L DEBUG | -v SWITCH_IP:<Your-Switch-IP> | command_alias.txt | 
...    = Variables =
...    | SWITCH IP | Required; IP address or hostname of the Comware Switch |
...    = Preconditions =
...    None

Library           RoboGalaxyLibrary                                     # DVTs Robot Framework extensions
Library           FusionLibrary                                         # DVTs Robot Framework extensions
Library           String
Library           Collections
Resource          ../resources/switch.txt
Resource          ../resources/defaults.txt                               # Comet-DVT keyword extensions
Force Tags        CometTest    LEVEL0                                   # All test cases get these tags
Suite Setup       Login to Switch via SSH    ${SWITCH_IP}
Suite Teardown    Logout of Switch via SSH

*** Variables ***
${systemView_prompt}      ]
${DataFile}         sw6_data.xml
${SWITCH_IP}        hyd-sw6.rsn.hp.com





*** Test Cases ***

Enter Switch system-view and Enable Command-alias
	
	Switch Execute Command    system-view    ${systemView_prompt}
	Set Suite Variable    ${SWITCH_PROMPT}    ${systemView_prompt}
	Switch Execute Command    command-alias enable
	${out}=    Switch Execute Command     display command-alias 
    Should contain     ${out}       	 Command alias is enabled
	
Load Test data and Test Command Alias
	Load Test Data     ${DataFile}
	:For    ${do}    in     @{TestData.commandaliases}
	\	 Switch Execute Command    command-alias mapping ${do.command} ${do.alias}     
    \	 ${command_out}=    Switch Execute Command     ${do.command} ${do.subject}
	\	 ${alias_out}=    Switch Execute Command     ${do.alias} ${do.subject}      
	\	 Should Be Equal As strings    ${command_out}    ${alias_out}
	\    Switch Execute Command    undo command-alias mapping ${do.command}
	\	 ${out}=    Switch Execute Command     display command-alias      
	\	 Should Not Contain    ${out}     ${do.command}
	
	 
Disable command-alias

	 Switch Execute Command    undo command-alias enable     
	 ${out}=    Switch Execute Command     display command-alias 
     Should contain     ${out}       	 Command alias is disabled
	 
