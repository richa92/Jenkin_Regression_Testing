*** Settings ***
Documentation     Run through the various statuses of UID lights on the EM and enclosure chassis.
...    = USAGE =
...    | pybot | -v FUSION_IP:Stephen-HPOneView.rsn.hp.com | UID_enclosure_em_mbt.txt |
...    = Variables =
...    | FUSION_IP | Required only if using DCS. IP address or hostname of the Fusion 2.0 appliance. |
...    | ENCLOSURE | Optional. Dictionary key from variables.py representing the desired enclosure.  Default value is dcs. |

Library           RoboGalaxyLibrary                    # DVTs Robot Framework extensions
Library           FusionLibrary                        # DVTs Robot Framework extensions
Variables         ../resources/variables.py    ${ENCLOSURE}  # Variables file
Resource          ../resources/defaults.txt            # Comet-DVT default variables
Resource          ../resources/fusion_api.txt          # Comet-DVT Fusion API extensions
Resource          ../resources/fusion_cli.txt          # Comet-DVT Fusion API extensions
Resource          ../resources/uid_model_keywords.txt  # Keywords for the SCXML model
Resource          ../resources/hal_webapp.txt          # Comet-DVT HAL Webapp extensions

Suite Setup       Login to Fusion via SSH
Suite Teardown    Logout of Fusion Via SSH

Force Tags        HW	DCS  HAL

*** Variables ***
${ENCLOSURE}    dcs
${Retries}      5

*** Keywords ***

Set UID Light Base State
    Set Device UID    Enclosure    ChassisUidControl    off
    Set Device UID    EM1    EmUidControl    off    ${1}
    #Set Device UID    EM2    EmUidControl    off    ${2}

*** Test Cases ***

Enclosure And EM UID Light Robot
    [Documentation]    Tests various paths within the possible states of UID lights within the enclosure and EMs.
    # Set up the initial states
    Set UID Light Base State
    # Now run the whole model
#    Run All Transitions Model    model=..\\data\\uid_states.xml
    Run Random Model    model=..\\data\\uid_states.xml    transitions=12
    [Teardown]    Set UID Light Base State
