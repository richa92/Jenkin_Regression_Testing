*** Settings ***
Library        RoboGalaxyLibrary
Library        BuiltIn
Library        String
Library        Collections
Resource       ../Resource/CIM_Settings.txt
Variables      ../../../../FusionLibrary/ui/business_logic/general/base_elements.py
Variables     ../../../../FusionLibrary/ui/settings/settings_elements.py

*** Variables ***
${delimit}    Filename

*** Keywords ***

Clear EULA and Service access
    [Documentation]    Clears EULA and Service Access page
    ${eulaPage} =        Get Text    //*[@id='hp-header-eula-type']
    Log    ${eulaPage}
    Run Keyword If    '${eulaPage}' == 'License'    Log        eula page found
    Run Keyword Unless    '${eulaPage}' == 'License'    Fail    Error eula page is not found
    wait for element and click    ${FusionLoginPage.ID_BTN_EULA_AGREE}
    wait for element and click    ${FusionLoginPage.ID_BTN_OK_CONVERGED_INFRA_SUPPORT}

Change appliance default password
    [Documentation]    Change appliance default password
    wait for element visible        ${FusionLoginPage.ID_INPUT_LOGIN_USER}    10
    Enter First Time Login credentials    ${TestData.envconfigs[0].appliance_username}        ${TestData.envconfigs[0].appliance_default_password}
    wait for element visible        ${FusionLoginPage.ID_INPUT_NEW_PASSWORD}    10
    Set Initial password    ${TestData.envconfigs[0].appliance_password}        ${TestData.envconfigs[0].appliance_password}
