*** Settings ***
Documentation	Verify validation error messages in 'Initial Networking' page
Resource	../Resource/CIM_CommonResource.txt
Resource	../Resource/CIM_Settings.txt
Resource	../Resource/CIM_Networking.txt
Variables	../../../../FusionLibrary/ui/general/login_elements.py
Test Setup	Load Test Data and Open Browser
Test Teardown	Logout and close all browsers

*** Test Cases ***
Verify validation error messages in initial networking page
	wait for element and input text	${FusionLoginPage.ID_INPUT_LOGIN_USER}	${TestData.users[0].name}
	wait for element and input text	${FusionLoginPage.ID_INPUT_LOGIN_PASSWORD}	${TestData.users[0].password}
	wait for element and click	${FusionLoginPage.ID_BTN_LOGIN_BUTTON}
	Enter invalid data in 'Appliance host name' field and verify if validation error message is displayed
	Enter invalid data in 'IPv4 IP address' field and verify if validation error message is displayed
	Enter invalid data in 'IPv4 Subnet mask or CIDR' field and verify if validation error message is displayed
	Enter invalid data in 'IPv4 Gateway address' field and verify if validation error message is displayed
	Enter invalid data in 'Preferred DNS server' field and verify if validation error message is displayed
	Enter invalid data in 'Alternate DNS server' field and verify if validation error message is displayed
	Enter invalid data in 'IPv6 IP address' field and verify if validation error message is displayed
	Enter invalid data in 'IPv6 Subnet mask or CIDR' field and verify if validation error message is displayed
	Enter invalid data in 'IPv6 Gateway address' field and verify if validation error message is displayed

*** Keywords ***
Enter invalid data in 'Appliance host name' field and verify if validation error message is displayed
	@{invalid_values}=	Create List	12345	abc.hp.
	:FOR	${invalid_value}	IN	@{invalid_values}
	\	Enter data in 'Appliance host name' field	${invalid_value}
	\	Verify validation error message	INVALID_DOMAIN_NAME

Enter invalid data in 'IPv4 IP address' field and verify if validation error message is displayed
	@{invalid_values}=	Create List	12345	1234.4567.8901.1902	invalid text
	Select option in 'IPv4 Address assignment' field	Manual
	:FOR	${invalid_value}	IN	@{invalid_values}
	\	Enter data in 'IPv4 IP address' field	${invalid_value}
	\	Verify validation error message	INVALID_IPv4_ADDRESS

Enter invalid data in 'IPv4 Subnet mask or CIDR' field and verify if validation error message is displayed
	@{invalid_values}=	Create List	12345	1234.4567.8901.1902	invalid text
	Select option in 'IPv4 Address assignment' field	Manual
	:FOR	${invalid_value}	IN	@{invalid_values}
	\	Enter data in 'IPv4 Subnet mask or CIDR' field	${invalid_value}
	\	Verify validation error message	INVALID_IPv4_NETWORK_MASK

Enter invalid data in 'IPv4 Gateway address' field and verify if validation error message is displayed
	@{invalid_values}=	Create List	12345	1234.4567.8901.1902	invalid text
	Select option in 'IPv4 Address assignment' field	Manual
	:FOR	${invalid_value}	IN	@{invalid_values}
	\	Enter data in 'IPv4 Gateway address' field	${invalid_value}
	\	Verify validation error message	INVALID_IPv4_GATEWAY_ADDRESS

Enter invalid data in 'Preferred DNS server' field and verify if validation error message is displayed
	@{invalid_values}=	Create List	12345	1234.4567.8901.1902	invalid text
	:FOR	${invalid_value}	IN	@{invalid_values}
	\	Enter data in 'Preferred DNS server' field	${invalid_value}
	\	Verify validation error message	INVALID_IPv4_PREFERRED_DNS_SERVER

Enter invalid data in 'Alternate DNS server' field and verify if validation error message is displayed
	@{invalid_values}=	Create List	12345	1234.4567.8901.1902	invalid text
	:FOR	${invalid_value}	IN	@{invalid_values}
	\	Enter data in 'Alternate DNS server' field	${invalid_value}
	\	Verify validation error message	INVALID_IPv4_ALTERNATE_DNS_SERVER

Enter invalid data in 'IPv6 IP address' field and verify if validation error message is displayed
	@{invalid_values}=	Create List	12345	1234.4567.8901.1902	invalid text
	Select option in 'IPv6 Address assignment' field	Manual
	:FOR	${invalid_value}	IN	@{invalid_values}
	\	Enter data in 'IPv6 IP address' field	${invalid_value}
	\	Verify validation error message	INVALID_IPv6_ADDRESS

Enter invalid data in 'IPv6 Subnet mask or CIDR' field and verify if validation error message is displayed
	@{invalid_values}=	Create List	12345	1234.4567.8901.1902	invalid text
	Select option in 'IPv6 Address assignment' field	Manual
	:FOR	${invalid_value}	IN	@{invalid_values}
	\	Enter data in 'IPv6 Subnet mask or CIDR' field	${invalid_value}
	\	Verify validation error message	INVALID_IPv6_NETWORK_MASK

Enter invalid data in 'IPv6 Gateway address' field and verify if validation error message is displayed
	@{invalid_values}=	Create List	12345	1234.4567.8901.1902	invalid text
	Select option in 'IPv6 Address assignment' field	Manual
	:FOR	${invalid_value}	IN	@{invalid_values}
	\	Enter data in 'IPv6 Gateway address' field	${invalid_value}
	\	Verify validation error message	INVALID_IPv6_GATEWAY_ADDRESS

#-----------------------------------------------------------------------------------
#	   Keywords to verify validation errors
#-----------------------------------------------------------------------------------
Verify validation error message
	[Arguments]	${Error_Message}
	Run Keyword If	'${Error_Message}'=='INVALID_DOMAIN_NAME'	Wait Until Element is Visible	//label[@for='cic-network-hostname' and @class='hp-error' and text()='Enter a valid, fully qualified domain name.']
	...	ELSE IF	'${Error_Message}'=='INVALID_IPv4_ADDRESS'	Wait Until Element is Visible	//label[@for='cic-network-ip-ipv4' and @class='hp-error' and text()='Enter a valid IPv4 address.']
	...	ELSE IF	'${Error_Message}'=='INVALID_IPv4_NETWORK_MASK'	Wait Until Element is Visible	//label[@for='cic-network-mask-ipv4' and @class='hp-error' and text()='Enter a valid IPv4 network mask, or a CIDR bit count between 0 and 32.']
	...	ELSE IF	'${Error_Message}'=='INVALID_IPv4_GATEWAY_ADDRESS'	Wait Until Element is Visible	//label[@for='cic-network-gateway-ipv4' and @class='hp-error' and text()='Enter a valid IPv4 gateway address.']
	...	ELSE IF	'${Error_Message}'=='INVALID_IPv4_PREFERRED_DNS_SERVER'	Wait Until Element is Visible	//label[@for='cic-network-preferred-dns' and @class='hp-error' and text()='Enter a valid IPv4 address of a DNS server.']
	...	ELSE IF	'${Error_Message}'=='INVALID_IPv4_ALTERNATE_DNS_SERVER'	Wait Until Element is Visible	//label[@for='cic-network-alternate-dns' and @class='hp-error' and text()='Enter a valid IPv4 address of a DNS server.']
	...	ELSE IF	'${Error_Message}'=='INVALID_IPv6_ADDRESS'	Wait Until Element is Visible	//label[@for='cic-network-ip-ipv6' and @class='hp-error' and text()='Enter a valid IPv6 address.']
	...	ELSE IF	'${Error_Message}'=='INVALID_IPv6_NETWORK_MASK'	Wait Until Element is Visible	//label[@for='cic-network-mask-ipv6' and @class='hp-error' and text()='Enter a valid IPv6 network mask, or a CIDR bit count between 0 and 128.']
	...	ELSE IF	'${Error_Message}'=='INVALID_IPv6_GATEWAY_ADDRESS'	Wait Until Element is Visible	//label[@for='cic-network-gateway-ipv6' and @class='hp-error' and text()='Enter a valid IPv6 gateway address.']
