*** Settings ***
Documentation       Activate Standby Node
Resource            ../Resource/CIM_CommonResource.txt
Resource            ../Resource/CIM_Appliance.txt
Resource            ../Resource/CIM_Activity.txt
Force Tags          Buildup
Test Setup          Load Test Data and Open Browser
Test Teardown       Logout and close all browsers
Variables           ../../../../FusionLibrary/ui/settings/settings_elements.py
Variables           ../../../../FusionLibrary/ui/business_logic/general/base_elements.py


***Variables***
${activity_name}        Activate standby appliance
${status}               Connected


*** Test Cases ***
As an Administrative user Activate Standby
    [Documentation]    Perform Failover Activate Standby Node
    Log into Fusion appliance as Administrator
    Navigate To Appliance Page
    ${active}=  Get Active Node
    ${standby_node}=  Get Standby Node
    Activate Standby Node
    ${new_active}=  Get Active Node
    ${new_standby}=  Get Standby Node
    Run Keyword If   '${new_active}'=='${standby_node}'  Log  Standby became active
    Run Keyword Unless   '${new_active}'=='${standby_node}'  Fail  Activate Standby Failed
    Validate Cluster Status    ${status}
    Validate Appliance Activity In Activity Page    ${activity_name}
