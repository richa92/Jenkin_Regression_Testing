*** Settings ***
Documentation        Edit Time and Locale of Appliance
Resource            ../Resource/CIM_CommonResource.txt
Resource            ../Resource/CIM_UsersAndGroups.txt
Resource            ../Resource/CIM_Activity.txt
Test Setup            Load Test Data and Open Browser
Test Teardown        Logout and close all browsers
Variables            ../../../../FusionLibrary/ui/settings/settings_elements.py
Variables            ../../../../FusionLibrary/ui/settings/timeandlocale.py
Variables            ../../../../FusionLibrary/ui/business_logic/general/base_elements.py

*** Variables ***
${searchtext}    configured appliance locale
${activityname}    Update Time and Locale
${resource}    Time and Locale
${activitystate}    Completed
${activityowner}    Administrator

*** Test Cases ***
As an Administrator I want to Edit Time And Locale and validate
    Log into Fusion appliance as Administrator
    :FOR    ${timeandlocale}    IN    @{TestData.edittimeandlocale}
       \    ${Status}=                      Fusion UI Edit Time And Locale   ${timeandlocale}
       \    Should Be True                  ${Status}   msg=Failed to edit time and locale
       \    ${Status}=                      Fusion UI Verify Time And Locale   ${timeandlocale}
       \    Should Be True                  ${Status}   msg=Failed to verify time and locale

    #Validate Activity page entry
    Verify Activity Existence in Activity Page    ${activityname}    ${resource}    ${activitystate}    ${activityowner}

    #Verify entry in auditlog file
    Download and verify entry in Audit log file    ${DownloadPath}    ${searchtext}