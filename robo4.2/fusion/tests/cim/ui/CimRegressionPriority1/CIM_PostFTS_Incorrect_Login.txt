*** Settings ***
Documentation		Post FTS Incorrect login
Resource			../Resource/CIM_CommonResource.txt
Variables			../../../../FusionLibrary/ui/general/login_elements.py
Test Setup			Load test data and open browser
Test Teardown		Logout and close all browsers

*** Variables ***
${username}			Administrator
${password}			Incorrectpwd
${searchtext}		FAILURE,LOGIN,NOTIC
${errortext}		Invalid username or password or directory. Enter correct credentials and try again

*** Test Cases ***
As an Administrator I want to Login to the appliance with Incorrect password
	Open Browser	${ApplianceURL}	${Browser}
	Maximize Browser Window
	Wait Until Element Is Visible	id=hp-login-user
	Input Text	id=hp-login-user	${username}
	Input Text	id=hp-login-password	${password}
	Wait Until Element Is Visible	id=hp-login-button
	Click Button	id=hp-login-button
	Page Should Contain Element	${FusionLoginPage.ID_LABEL_LOGIN_STATUS}
	Element Should Contain	${FusionLoginPage.ID_LABEL_LOGIN_STATUS}	${errortext}

	#Verify entry in auditlog file.
	Log into Fusion appliance as Administrator
	${filepath}=	Download and unzip Audit log file	${DownloadPath}
	${bln_logentry_exists} =	file_contains	${filepath}	${searchtext}
	Should Be Equal As Strings	${bln_logentry_exists}	${blnExpected}	msg=Entry ${searchtext} not available in log file.
