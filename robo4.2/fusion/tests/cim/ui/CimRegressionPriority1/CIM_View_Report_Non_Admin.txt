*** Settings ***
Documentation       View Report as Non Admin
Resource            ../Resource/CIM_CommonResource.txt
Resource            ../../../../Resources/ui/reports/report_localuser.txt
Resource            ../Resource/CIM_Activity.txt
Library             FusionLibrary
Force Tags          Buildup
Suite Setup         Load Test Data and Open Browser
Suite Teardown      Logout And Close All Browsers


*** Test Cases ***

#################################Scenario############################################
View Reports as a Non Admin User
    #Login as Backup Admin and view
    ${user} =    Get data by property    ${TestData.users}    name    BackupAdminUser
    Fusion UI Login To Appliance    ${user[0].name}
    Navigate To Reports Page
    ${count}=   Get Users Count In Report Page
    Run Keyword If    ${count} == 0    Log    Cannot View Report as Backup Admin
    Run Keyword Unless    ${count} == 0    Fail    Able to view report as Backup Admin
    Fusion UI Logout Of Appliance

    #Login as Readonly and view
    ${user} =    Get data by property    ${TestData.users}    name    ReadOnlyUser
    Fusion UI Login To Appliance    ${user[0].name}
    Navigate To Reports Page
    ${count}=   Get Users Count In Report Page
    Run Keyword If    ${count} >= 1    Log    Can View Report as ReadOnlyUser Admin
    Run Keyword Unless    ${count} >= 1    Fail    Failed to view report as ReadOnlyUser Admin
