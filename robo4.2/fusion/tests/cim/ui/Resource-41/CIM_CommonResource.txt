*** Settings ***
Documentation     Common Atlas Test Source
...   This file contains common high level keywords or functions for all CI-Manager tests

Library           OperatingSystem
Library           FusionLibrary
Library           RoboGalaxyLibrary
Library           BuiltIn
Library           String
Library           SSHLibrary
Variables         ../../../../FusionLibrary/ui/general/login_elements.py

*** Keywords ***
Close OneView Tutorial Dialog
    [Documentation]    Close OneView Tutorial Dialog
    wait for element visible     ${FusionLoginPage.ID_ONEVIEW_TUTORIAL_DIALOG}     15
    click element     ${FusionLoginPage.ID_ONEVIEW_TUTORIAL_CLOSE}
    log     ("OneView Tutorial Dialog existed and is now closed")

Get VM IPAddress
    [Documentation]    To get VM IP address from v-Center
    ${var} =     Set Variable     @{TestData.deploytempt}
    Connect To VI Server    ${var.vcenterIP}     ${var.vcenterUser}     ${var.vcenterPassword}     ${var.vcenterPort}
    ${IPAddress}=    Get VM IPv4 Addresses    ${var.vm_name}
    [Return]     ${IPAddress}

Get VM Execution Status
    [Documentation]    To get VM execution status from v-Center
    ${var} =     Set Variable     @{TestData.deploytempt}
    Connect To VI Server    ${var.vcenterIP}     ${var.vcenterUser}     ${var.vcenterPassword}     ${var.vcenterPort}
    ${VMStatus}=    Get VM Status    ${var.vm_name}
    [Return]     ${VMStatus}

Initiate VM Startup
    [Documentation]    To Power On VM from v-Center
    ${var} =     Set Variable     @{TestData.deploytempt}
    Connect To VI Server    ${var.vcenterIP}     ${var.vcenterUser}     ${var.vcenterPassword}     ${var.vcenterPort}
    Power on VM    ${var.vm_name}
