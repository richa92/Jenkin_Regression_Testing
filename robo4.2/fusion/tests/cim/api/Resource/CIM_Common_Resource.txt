*** Settings ***
Library    json
Library     RoboGalaxyLibrary
Library     FusionLibrary
Library     OperatingSystem
Library     BuiltIn
Library     Collections
Library     XML
Library     SSHLibrary
Library     String
Library    requests
Library     robot.api.logger
Resource            ../../../../Resources/api/fusion_api_resource.txt

*** Keywords ***

Login
    [Documentation]    Login to the Appliance
    [Arguments]    ${credentials}    ${IP}=${APPLIANCE_IP}
    ${admin_session} =    Fusion Api Login Appliance    ${IP}    ${credentials}
    ${session} =    Get From List    ${admin_session}     0
    ${status}    ${error} =    Run Keyword And Ignore Error     Get From Dictionary     ${session}    message
    Run Keyword If     '${status}'=='PASS'    Fail    Unable to login: ${error}

Logout
    [Documentation]    Logout of appliance
    Fusion Api Logout Appliance
