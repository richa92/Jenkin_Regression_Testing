import os
import sys
import environment_data as env

admin_credentials = {'userName': 'administrator', 'password': 'admin123'}

osdps = [{'name': 'dp1With1Nic_StaticAndDhcpNic'}]

networks = {'iscsi': 'iscsi_nw', 'mgmt': 'mgmt_nw', 'private_nw': 'private_nw1'}

egs = [{'enclosureGroupUri': 'EG-3enc'}]

servers = [{'serverHardwareUri': 'SGH736WS9A, bay 4', 'serverHardwareTypeUri': 'SY 480 Gen9 2'}]

spt = {'type': 'ServerProfileTemplateV5', 'name': 'OVF1136_SPT',
       'serverProfileDescription': 'Server Profile Template',
       'iscsiInitiatorNameType': 'AutoGenerated',
       'serverHardwareTypeUri': 'SHT:' + servers[0]['serverHardwareTypeUri'],
       'enclosureGroupUri': 'EG:' + egs[0]['enclosureGroupUri'],
       'affinity': 'Bay', 'hideUnusedFlexNics': True,
       'firmware': {'forceInstallFirmware': False, 'manageFirmware': False},
       'macType': 'Virtual', 'wwnType': 'Virtual',
       'osDeploymentSettings': {
                  'osDeploymentPlanUri': osdps[0]['name'],
                  'osCustomAttributes': [{'name': 'DomainName', 'value': 'hpe.com', "constraints": "{\"helpText\":\"\"}", "type": "fqdn"},
                                         {'name': 'Hostname', 'value': 'esxbay1', "constraints": "{\"helpText\":\"\"}", "type": "hostname"},
                                         {'name': 'ManagementNIC.connectionid', 'value': '3'},
                                         {'name': 'ManagementNIC.dhcp', 'value': 'false'},
                                         {'name': 'ManagementNIC.vlanid', 'value': '0'},
                                         {'name': 'ManagementNIC.ipv4disable', 'value': 'false'},
                                         {'name': 'ManagementNIC.networkuri', 'value': 'ETH:' + networks['mgmt']},
                                         {'name': 'ManagementNIC.constraint', 'value': 'auto'},
                                         {'name': 'Password', 'value': None},
                                         {'name': 'SSH', 'value': 'enabled', "constraints": "{\"options\":[\"enabled\"]}", "type": "option"}]},
       'connectionSettings': {'manageConnections': True,
                              'connections': [{'id': 1, 'name': 'Deployment Network A', 'functionType': 'Ethernet', 'networkUri': 'ETH:' + networks['iscsi'],
                                               'portId': 'Mezz 3:1-a', 'requestedVFs': 'Auto', 'requestedMbps': '2500',
                                               'ipv4': {'ipAddressSource': 'SubnetPool'},
                                               'boot': {'bootVolumeSource': 'UserDefined',
                                                        'priority': 'Primary', 'ethernetBootType': 'iSCSI',
                                                        'iscsi': {'initiatorNameSource': 'ProfileInitiatorName'}}},
                                              {'id': 2, "name": "Deployment Network B", "functionType": "Ethernet", "portId": "Mezz 3:2-a",
                                               "requestedMbps": "2500", "networkUri": 'ETH:' + networks['iscsi'], "requestedVFs": "Auto",
                                               "ipv4": {"ipAddressSource": 'SubnetPool'},
                                               'boot': {'bootVolumeSource': 'UserDefined',
                                                        'priority': 'Secondary', 'ethernetBootType': 'iSCSI', 'iscsi': {}}},
                                              {'id': 3, 'name': 'Blade_boot_mgmt', 'functionType': 'Ethernet', 'networkUri': 'ETH:' + networks['mgmt'],
                                               'portId': 'Mezz 3:1-c', 'requestedVFs': 0, 'requestedMbps': '2500',
                                               'boot': {'priority': 'NotBootable', 'iscsi': {}}}]},
       'bootMode': {'manageMode': True, 'pxeBootPolicy': 'Auto', 'mode': 'UEFIOptimized', 'secureBoot': 'Unmanaged'},
       'boot': {'manageBoot': True, 'order': []},
       'bios': {'manageBios': False, 'overriddenSettings': []},
       'localStorage': {},
       'sanStorage': None}

tc03_spt = {'type': 'ServerProfileTemplateV5', 'name': 'OVF1136_SPT',
            'serverProfileDescription': 'Server Profile Template',
            'iscsiInitiatorNameType': 'AutoGenerated',
            'serverHardwareTypeUri': 'SHT:' + servers[0]['serverHardwareTypeUri'],
            'enclosureGroupUri': 'EG:' + egs[0]['enclosureGroupUri'],
            'affinity': 'Bay', 'hideUnusedFlexNics': True,
            'firmware': {'forceInstallFirmware': False, 'manageFirmware': False},
            'macType': 'Virtual', 'wwnType': 'Virtual',
            'connectionSettings': {'connections': [{'id': 1, 'name': 'Deployment Network A', 'functionType': 'Ethernet', 'networkUri': 'ETH:' + networks['iscsi'],
                                                    'portId': 'Mezz 3:1-a', 'requestedVFs': 'Auto', 'requestedMbps': '2500',
                                                    'ipv4': {'ipAddressSource': 'SubnetPool'},
                                                    'boot': {'bootVolumeSource': 'UserDefined',
                                                             'priority': 'Primary', 'ethernetBootType': 'iSCSI',
                                                             'iscsi': {'initiatorNameSource': 'ProfileInitiatorName'}}},
                                                   {'id': 2, "name": "Deployment Network B", "functionType": "Ethernet", "portId": "Mezz 3:2-a",
                                                    "requestedMbps": "2500", "networkUri": 'ETH:' + networks['iscsi'], "requestedVFs": "Auto",
                                                    "ipv4": {"ipAddressSource": 'SubnetPool'},
                                                    'boot': {'bootVolumeSource': 'UserDefined',
                                                             'priority': 'Secondary', 'ethernetBootType': 'iSCSI',
                                                             'iscsi': {'initiatorNameSource': 'ProfileInitiatorName'}}}]},
            'bootMode': {'manageMode': True, 'pxeBootPolicy': 'Auto', 'mode': 'UEFIOptimized', 'secureBoot': 'Unmanaged'},
            'boot': {'manageBoot': True, 'order': []},
            'bios': {'manageBios': False, 'overriddenSettings': []},
            'localStorage': {},
            'sanStorage': None}

sp_from_spt = {'type': 'ServerProfileV9', 'name': 'ovf806_sp', 'serverHardwareUri': 'SH:' + servers[0]['serverHardwareUri'],
               'serverProfileTemplateUri': 'SPT:' + spt['name']}

new_profile_connection = {'id': 4, 'name': 'Deployment Network C',
                          'functionType': 'Ethernet', 'networkUri': 'ETH:private_nw1',
                          'portId': 'Auto', 'requestedVFs': '0',
                          'macType': 'Virtual', 'wwpnType': 'Virtual',
                          'allocatedMbps': 2500, 'maximumMbps': 20000,
                          'boot': {'priority': 'NotBootable'}}

tc16_spt = {
    'type': 'ServerProfileTemplateV5', 'name': 'OVF1136_SPT',
    'serverProfileDescription': 'Server Profile Template',
    'iscsiInitiatorNameType': 'AutoGenerated',
    'serverHardwareTypeUri': 'SHT:' + servers[0]['serverHardwareTypeUri'],
    'enclosureGroupUri': 'EG:' + egs[0]['enclosureGroupUri'],
    'affinity': 'Bay', 'hideUnusedFlexNics': True,
    'firmware': {'forceInstallFirmware': False, 'manageFirmware': False},
    'macType': 'Virtual', 'wwnType': 'Virtual',
    'osDeploymentSettings': {
        'osDeploymentPlanUri': osdps[0]['name'],
        'osCustomAttributes': [{'name': 'DomainName', 'value': 'hpe.com', "constraints": "{\"helpText\":\"\"}", "type": "fqdn"},
                               {'name': 'Hostname', 'value': 'esxbay1', "constraints": "{\"helpText\":\"\"}", "type": "hostname"},
                               {'name': 'ManagementNIC.connectionid', 'value': '3'},
                               {'name': 'ManagementNIC.dhcp', 'value': 'false'},
                               {'name': 'ManagementNIC.vlanid', 'value': '0'},
                               {'name': 'ManagementNIC.ipv4disable', 'value': 'false'},
                               {'name': 'ManagementNIC.networkuri', 'value': 'ETH:' + networks['mgmt']},
                               {'name': 'ManagementNIC.constraint', 'value': 'auto'},
                               {'name': 'Password', 'value': None},
                               {'name': 'SSH', 'value': 'enabled', "constraints": "{\"options\":[\"enabled\"]}", "type": "option"}]},
    'connectionSettings': {'connections': [{'id': 1, 'name': 'Deployment Network A', 'functionType': 'Ethernet', 'networkUri': 'ETH:' + networks['iscsi'],
                                            'portId': 'Mezz 3:1-a', 'requestedVFs': 'Auto', 'requestedMbps': '2500',
                                            'ipv4': {'ipAddressSource': 'SubnetPool'},
                                            'boot': {'bootVolumeSource': 'UserDefined',
                                                     'priority': 'Primary', 'ethernetBootType': 'iSCSI',
                                                     'iscsi': {'initiatorNameSource': 'ProfileInitiatorName'}}},
                                           {'id': 2, "name": "Deployment Network B", "functionType": "Ethernet", "portId": "Mezz 3:2-a",
                                               "requestedMbps": "2500", "networkUri": 'ETH:' + networks['iscsi'], "requestedVFs": "Auto",
                                               "ipv4": {"ipAddressSource": 'SubnetPool'},
                                               'boot': {'bootVolumeSource': 'UserDefined',
                                                        'priority': 'Secondary', 'ethernetBootType': 'iSCSI', 'iscsi': {}}},
                                           {'id': 3, 'name': 'Blade_boot_mgmt', 'functionType': 'Ethernet', 'networkUri': 'ETH:' + networks['mgmt'],
                                               'portId': 'Mezz 3:1-c', 'requestedVFs': 0, 'requestedMbps': '2500',
                                               'boot': {'priority': 'NotBootable', 'iscsi': {}}}]},
    'bootMode': {'manageMode': True, 'pxeBootPolicy': 'Auto', 'mode': 'UEFIOptimized', 'secureBoot': 'Unmanaged'},
    'boot': {'manageBoot': True, 'order': []},
    'bios': {'manageBios': False, 'overriddenSettings': []},
    'localStorage': {},
    'sanStorage': None}

tc17_edit_spt = {
    'type': 'ServerProfileTemplateV5', 'name': 'OVF1136_SPT',
    'serverProfileDescription': 'Server Profile Template',
    'iscsiInitiatorNameType': 'AutoGenerated',
    'serverHardwareTypeUri': 'SHT:' + servers[0]['serverHardwareTypeUri'],
    'enclosureGroupUri': 'EG:' + egs[0]['enclosureGroupUri'],
    'affinity': 'Bay', 'hideUnusedFlexNics': True,
    'firmware': {'forceInstallFirmware': False, 'manageFirmware': False},
    'macType': 'Virtual', 'wwnType': 'Virtual',
    'osDeploymentSettings': {
        'osDeploymentPlanUri': osdps[0]['name'],
        'osCustomAttributes': [{'name': 'DomainName', 'value': 'hpe.com', "constraints": "{\"helpText\":\"\"}", "type": "fqdn"},
                               {'name': 'Hostname', 'value': 'esxbay1', "constraints": "{\"helpText\":\"\"}", "type": "hostname"},
                               {'name': 'ManagementNIC.connectionid', 'value': '3'},
                               {'name': 'ManagementNIC.dhcp', 'value': 'false'},
                               {'name': 'ManagementNIC.vlanid', 'value': '0'},
                               {'name': 'ManagementNIC.ipv4disable', 'value': 'false'},
                               {'name': 'ManagementNIC.networkuri', 'value': 'ETH:' + networks['mgmt']},
                               {'name': 'ManagementNIC.constraint', 'value': 'auto'},
                               {'name': 'Password', 'value': None},
                               {'name': 'SSH', 'value': 'enabled', "constraints": "{\"options\":[\"enabled\"]}", "type": "option"}]},
    'connectionSettings': {'connections': [{'id': 2, "name": "Deployment Network B", "functionType": "Ethernet", "portId": "Mezz 3:2-a",
                                            "requestedMbps": "2500", "networkUri": 'ETH:' + networks['iscsi'], "requestedVFs": "Auto",
                                            "ipv4": {"ipAddressSource": 'SubnetPool'},
                                            'boot': {'bootVolumeSource': 'UserDefined',
                                                     'priority': 'Secondary', 'ethernetBootType': 'iSCSI', 'iscsi': {}}},
                                           {'id': 3, 'name': 'Blade_boot_mgmt', 'functionType': 'Ethernet', 'networkUri': 'ETH:' + networks['mgmt'],
                                               'portId': 'Mezz 3:1-c', 'requestedVFs': 0, 'requestedMbps': '2500',
                                               'boot': {'priority': 'NotBootable', 'iscsi': {}}}]},
    'bootMode': {'manageMode': True, 'pxeBootPolicy': 'Auto', 'mode': 'UEFIOptimized', 'secureBoot': 'Unmanaged'},
    'boot': {'manageBoot': True, 'order': []},
    'bios': {'manageBios': False, 'overriddenSettings': []},
    'localStorage': {},
    'sanStorage': None}
