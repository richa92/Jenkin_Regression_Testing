"""Library for keywords that parse data from a Comware-based switch

    = Table of contents =

    - `Revision Notes`
    - `Usage`
    - `Valid log levels`
    - `Examples`
    - `Importing`
    - `Shortcuts`
    - `Keywords`

    = Revision Notes =

    | Rev      | Date         |   Originator              |  Comments                      |
    | 0.1     |   1/10/2014  |   Chris Meyer and Cary Barnett    |  Initial implementation of basic keywords |



    = Usage =

    Library for keywords that parse data from a Comware-based switch.

    = Valid log levels =

    None

    = Examples =

    See below for individual keyword examples
"""

from RoboGalaxyLibrary.configmgr import comware


class ComwareKeywords(object):

    '''
    classdocs
    '''

    ROBOT_LIBRARY_SCOPE = 'Global'

    def __init__(self):
        '''
        Constructor
        '''

    def comware_lldp_output_to_dict(self, lldp_output):
        """ Convert LLDP output from Comware Neighbor Data to dictionary format.
        Example:
        ${Dict} | Comware LLDP Output To Dict | ${output} |
        """
        return comware.lldp_output_to_dict(lldp_output)

    def comware_convert_lldp_to_fusion(self, comware_dict):
        """ Convert LLDP dictionary strings from Comware CLI to something that can
                    be compared with what Fusion API reports for LLDP.
        Example:
        ${Converted_Switch_LLDP_Dict} | Comware Convert LLDP To Fusion | ${Raw_Switch_LLDP_Dict} |
        """
        return comware.convert_lldp_to_fusion(comware_dict)

    def comware_filter_lldp(self, lldp_dict, filter):
        """ Filter LLDP dictionary to only report a single LLDP field per port.
            Useful for comparing single LLDP fields using dictionary comparison.
        Example:
        ${Filtered_Switch_Dict} | Comware Filter LLDP | ${Switch_Dict} | ${Filter_Field}
        """
        return comware.filter_lldp(lldp_dict, filter)
