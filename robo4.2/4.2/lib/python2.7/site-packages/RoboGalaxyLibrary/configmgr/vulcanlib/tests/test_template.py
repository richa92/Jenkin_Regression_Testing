#!/usr/bin/env python
'''
Test Template

'''

import logging
import traceback
import re
import time
import string
import random

from config import common_config
from vulcanlib import vulcanfuncs
from vulcanlib import vulcanlog
import sys


LOG = logging.getLogger()


def main():
    try:
        main_section()
    except SystemExit:
        pass  # do nothing, just exit
    except:
        LOG.error("Unexpected error:")
        LOG.error(traceback.format_exc())


def main_section():

    vulcanfuncs.generate_pid_file(common_config.LOGDIR)

    (ch, fh) = vulcanlog.setup_default_logging(
        common_config.LOGDIR + "test.log")
    if common_config.VERBOSE > 0:
        vulcanlog.adjust_logging_level("debug", ch, fh)

    if common_config.QUIET > 0:
        vulcanlog.adjust_logging_level("quiet", ch, fh)


def test_summary(retval):
    if retval == 1:
        LOG.info("***********************************************")
        LOG.info("            TEST FAILED WITH ERRORS")
        LOG.info("***********************************************")
    else:

        LOG.info("test completed and exiting normally")

        LOG.info("***********************************************")
        LOG.info("            TEST COMPLETED SUCCESSFULLY")
        LOG.info("***********************************************")

if __name__ == "__main__":
    main()
