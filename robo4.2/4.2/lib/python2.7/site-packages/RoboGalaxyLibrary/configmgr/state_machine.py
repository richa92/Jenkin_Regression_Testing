"""
 state machine for Config Manager

 doc: https://xworkflows.readthedocs.org/en/latest/
"""
import xworkflows


class MyWorkflow(xworkflows.Workflow):

    """
    Class inherits from xworkflows.Workflow to define states and transitions
    """
    states = (
        ('init', _(u"Initial state")),
        ('ready', -(u"Ready: Validated")),
        ('active', _(u"Active: Configuring")),
        ('done', _(u"Done")),
        ('cancelled', _(u"Cancelled")),
    )

    transitions = (
        ('prepare', 'init', 'ready'),
        ('activate', 'ready', 'active'),
        ('complete', 'active', 'done'),
        ('cancelled', ('ready', 'active'), 'cancelled'),
    )

    initial_state = 'init'
